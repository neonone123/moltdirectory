<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Agile product ownership for backlog management">
  <title>agile-product-owner - OpenClaw Directory</title>
  <link rel="canonical" href="https://moltdirectory.com/ai-llms/agile-product-owner/">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü¶û</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
  <script>
    // Apply saved theme before page renders to prevent flash
    (function() {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      if (savedTheme === 'light') {
        document.documentElement.setAttribute('data-theme', 'light');
      }
    })();
  </script>
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <a href="/" class="logo">

        <span class="logo-text">OpenClaw Directory</span>
      </a>
      <nav class="header-links">
        <a href="/start-here/" class="header-link">Start Here</a>
        <a href="/security-auditor" class="header-link">Security Auditor</a>
        <a href="https://github.com/neonone123/moltdirectory/issues/new?template=add-skill.yml" class="header-link" target="_blank" rel="noopener">Add Skill</a>
        <button class="theme-toggle" aria-label="Toggle theme" onclick="toggleTheme()">
          <svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
        </button>
        <a href="https://www.reddit.com/r/OpenClawDirectory/" class="header-link" target="_blank" rel="noopener" aria-label="Community">
          <svg viewBox="0 0 16 16" fill="currentColor" width="28" height="28"><path d="M6.167 8a.83.83 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661m1.843 3.647c.315 0 1.403-.038 1.976-.611a.23.23 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83s.83-.381.83-.83a.831.831 0 0 0-1.66 0z"/><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.2.2 0 0 0-.153.028.2.2 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224q-.03.17-.029.353c0 1.795 2.091 3.256 4.669 3.256s4.668-1.451 4.668-3.256c0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165"/></svg>
        </a>
      </nav>
    </div>
  </header>
  
          <section class="skill-page-header">
            <div class="skill-page-header-inner">
              <a href="/ai-llms/" class="back-link">‚Üê Back to AI & LLMs</a>
              <div class="skill-page-meta">
                <a href="/ai-llms/" class="skill-page-category">AI & LLMs</a>
                <span class="skill-page-author">by @alirezarezvani</span>
              </div>
              <h1 class="skill-page-title">agile-product-owner</h1>
              <p class="skill-page-desc">Agile product ownership for backlog management</p>
              <div class="vote-widget skill-page-vote" data-category-id="ai-llms" data-tool-id="agile-product-owner">
                <button type="button" class="vote-btn" data-vote="1" aria-label="Upvote agile-product-owner">‚ñ≤</button>
                <span class="vote-count">New</span>
                <button type="button" class="vote-btn" data-vote="-1" aria-label="Downvote agile-product-owner">‚ñº</button>
              </div>
            </div>
          </section>
          <div class="skill-page-body">
            <article class="skill-page-content">
              <div class="skill-source-wrapper">
                <div class="skill-source-header">
                  <div class="skill-source-title">Source Code</div>
                  <button class="copy-btn" onclick="copySkillContent(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                    Copy
                  </button>
                </div>
                <div class="markdown-content">
                  <h1>Agile Product Owner</h1>
<p>Backlog management and sprint execution toolkit for product owners, including user story generation, acceptance criteria patterns, sprint planning, and velocity tracking.</p>
<hr>
<h2>Table of Contents</h2>
<ul>
<li><a href="#user-story-generation-workflow">User Story Generation Workflow</a></li>
<li><a href="#acceptance-criteria-patterns">Acceptance Criteria Patterns</a></li>
<li><a href="#epic-breakdown-workflow">Epic Breakdown Workflow</a></li>
<li><a href="#sprint-planning-workflow">Sprint Planning Workflow</a></li>
<li><a href="#backlog-prioritization">Backlog Prioritization</a></li>
<li><a href="#reference-documentation">Reference Documentation</a></li>
<li><a href="#tools">Tools</a></li>
</ul>
<hr>
<h2>User Story Generation Workflow</h2>
<p>Create INVEST-compliant user stories from requirements:</p>
<ol>
<li>Identify the persona (who benefits from this feature)</li>
<li>Define the action or capability needed</li>
<li>Articulate the benefit or value delivered</li>
<li>Write acceptance criteria using Given-When-Then</li>
<li>Estimate story points using Fibonacci scale</li>
<li>Validate against INVEST criteria</li>
<li>Add to backlog with priority</li>
<li><strong>Validation:</strong> Story passes all INVEST criteria; acceptance criteria are testable</li>
</ol>
<h3>User Story Template</h3>
<pre><code>As a [persona],
I want to [action/capability],
So that [benefit/value].
</code></pre>
<p><strong>Example:</strong></p>
<pre><code>As a marketing manager,
I want to export campaign reports to PDF,
So that I can share results with stakeholders who don&#39;t have system access.
</code></pre>
<h3>Story Types</h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Template</th>
<th>Example</th>
</tr>
</thead>
<tbody><tr>
<td>Feature</td>
<td>As a [persona], I want to [action] so that [benefit]</td>
<td>As a user, I want to filter search results so that I find items faster</td>
</tr>
<tr>
<td>Improvement</td>
<td>As a [persona], I need [capability] to [goal]</td>
<td>As a user, I need faster page loads to complete tasks without frustration</td>
</tr>
<tr>
<td>Bug Fix</td>
<td>As a [persona], I expect [behavior] when [condition]</td>
<td>As a user, I expect my cart to persist when I refresh the page</td>
</tr>
<tr>
<td>Enabler</td>
<td>As a developer, I need to [technical task] to enable [capability]</td>
<td>As a developer, I need to implement caching to enable instant search</td>
</tr>
</tbody></table>
<h3>Persona Reference</h3>
<table>
<thead>
<tr>
<th>Persona</th>
<th>Typical Needs</th>
<th>Context</th>
</tr>
</thead>
<tbody><tr>
<td>End User</td>
<td>Efficiency, simplicity, reliability</td>
<td>Daily feature usage</td>
</tr>
<tr>
<td>Administrator</td>
<td>Control, visibility, security</td>
<td>System management</td>
</tr>
<tr>
<td>Power User</td>
<td>Automation, customization, shortcuts</td>
<td>Expert workflows</td>
</tr>
<tr>
<td>New User</td>
<td>Guidance, learning, safety</td>
<td>Onboarding</td>
</tr>
</tbody></table>
<hr>
<h2>Acceptance Criteria Patterns</h2>
<p>Write testable acceptance criteria using Given-When-Then format.</p>
<h3>Given-When-Then Template</h3>
<pre><code>Given [precondition/context],
When [action/trigger],
Then [expected outcome].
</code></pre>
<p><strong>Examples:</strong></p>
<pre><code>Given the user is logged in with valid credentials,
When they click the &quot;Export&quot; button,
Then a PDF download starts within 2 seconds.

Given the user has entered an invalid email format,
When they submit the registration form,
Then an inline error message displays &quot;Please enter a valid email address.&quot;

Given the shopping cart contains items,
When the user refreshes the browser,
Then the cart contents remain unchanged.
</code></pre>
<h3>Acceptance Criteria Checklist</h3>
<p>Each story should include criteria for:</p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Example</th>
</tr>
</thead>
<tbody><tr>
<td>Happy Path</td>
<td>Given valid input, When submitted, Then success message displayed</td>
</tr>
<tr>
<td>Validation</td>
<td>Should reject input when required field is empty</td>
</tr>
<tr>
<td>Error Handling</td>
<td>Must show user-friendly message when API fails</td>
</tr>
<tr>
<td>Performance</td>
<td>Should complete operation within 2 seconds</td>
</tr>
<tr>
<td>Accessibility</td>
<td>Must be navigable via keyboard only</td>
</tr>
</tbody></table>
<h3>Minimum Criteria by Story Size</h3>
<table>
<thead>
<tr>
<th>Story Points</th>
<th>Minimum AC Count</th>
</tr>
</thead>
<tbody><tr>
<td>1-2</td>
<td>3-4 criteria</td>
</tr>
<tr>
<td>3-5</td>
<td>4-6 criteria</td>
</tr>
<tr>
<td>8</td>
<td>5-8 criteria</td>
</tr>
<tr>
<td>13+</td>
<td>Split the story</td>
</tr>
</tbody></table>
<p>See <code>references/user-story-templates.md</code> for complete template library.</p>
<hr>
<h2>Epic Breakdown Workflow</h2>
<p>Break epics into deliverable sprint-sized stories:</p>
<ol>
<li>Define epic scope and success criteria</li>
<li>Identify all personas affected by the epic</li>
<li>List all capabilities needed for each persona</li>
<li>Group capabilities into logical stories</li>
<li>Validate each story is ‚â§8 points</li>
<li>Identify dependencies between stories</li>
<li>Sequence stories for incremental delivery</li>
<li><strong>Validation:</strong> Each story delivers standalone value; total stories cover epic scope</li>
</ol>
<h3>Splitting Techniques</h3>
<table>
<thead>
<tr>
<th>Technique</th>
<th>When to Use</th>
<th>Example</th>
</tr>
</thead>
<tbody><tr>
<td>By workflow step</td>
<td>Linear process</td>
<td>&quot;Checkout&quot; ‚Üí &quot;Add to cart&quot; + &quot;Enter payment&quot; + &quot;Confirm order&quot;</td>
</tr>
<tr>
<td>By persona</td>
<td>Multiple user types</td>
<td>&quot;Dashboard&quot; ‚Üí &quot;Admin dashboard&quot; + &quot;User dashboard&quot;</td>
</tr>
<tr>
<td>By data type</td>
<td>Multiple inputs</td>
<td>&quot;Import&quot; ‚Üí &quot;Import CSV&quot; + &quot;Import Excel&quot;</td>
</tr>
<tr>
<td>By operation</td>
<td>CRUD functionality</td>
<td>&quot;Manage users&quot; ‚Üí &quot;Create&quot; + &quot;Edit&quot; + &quot;Delete&quot;</td>
</tr>
<tr>
<td>Happy path first</td>
<td>Risk reduction</td>
<td>&quot;Feature&quot; ‚Üí &quot;Basic flow&quot; + &quot;Error handling&quot; + &quot;Edge cases&quot;</td>
</tr>
</tbody></table>
<h3>Epic Example</h3>
<p><strong>Epic:</strong> User Dashboard</p>
<p><strong>Breakdown:</strong></p>
<pre><code>Epic: User Dashboard (34 points total)
‚îú‚îÄ‚îÄ US-001: View key metrics (5 pts) - End User
‚îú‚îÄ‚îÄ US-002: Customize layout (5 pts) - Power User
‚îú‚îÄ‚îÄ US-003: Export data to CSV (3 pts) - End User
‚îú‚îÄ‚îÄ US-004: Share with team (5 pts) - End User
‚îú‚îÄ‚îÄ US-005: Set up alerts (5 pts) - Power User
‚îú‚îÄ‚îÄ US-006: Filter by date range (3 pts) - End User
‚îú‚îÄ‚îÄ US-007: Admin overview (5 pts) - Admin
‚îî‚îÄ‚îÄ US-008: Enable caching (3 pts) - Enabler
</code></pre>
<hr>
<h2>Sprint Planning Workflow</h2>
<p>Plan sprint capacity and select stories:</p>
<ol>
<li>Calculate team capacity (velocity √ó availability)</li>
<li>Review sprint goal with stakeholders</li>
<li>Select stories from prioritized backlog</li>
<li>Fill to 80-85% of capacity (committed)</li>
<li>Add stretch goals (10-15% additional)</li>
<li>Identify dependencies and risks</li>
<li>Break complex stories into tasks</li>
<li><strong>Validation:</strong> Committed points ‚â§85% capacity; all stories have acceptance criteria</li>
</ol>
<h3>Capacity Calculation</h3>
<pre><code>Sprint Capacity = Average Velocity √ó Availability Factor

Example:
Average Velocity: 30 points
Team availability: 90% (one member partially out)
Adjusted Capacity: 27 points

Committed: 23 points (85% of 27)
Stretch: 4 points (15% of 27)
</code></pre>
<h3>Availability Factors</h3>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>Factor</th>
</tr>
</thead>
<tbody><tr>
<td>Full sprint, no PTO</td>
<td>1.0</td>
</tr>
<tr>
<td>One team member out 50%</td>
<td>0.9</td>
</tr>
<tr>
<td>Holiday during sprint</td>
<td>0.8</td>
</tr>
<tr>
<td>Multiple members out</td>
<td>0.7</td>
</tr>
</tbody></table>
<h3>Sprint Loading Template</h3>
<pre><code>Sprint Capacity: 27 points
Sprint Goal: [Clear, measurable objective]

COMMITTED (23 points):
[H] US-001: User dashboard (5 pts)
[H] US-002: Export feature (3 pts)
[H] US-003: Search filter (5 pts)
[M] US-004: Settings page (5 pts)
[M] US-005: Help tooltips (3 pts)
[L] US-006: Theme options (2 pts)

STRETCH (4 points):
[L] US-007: Sort options (2 pts)
[L] US-008: Print view (2 pts)
</code></pre>
<p>See <code>references/sprint-planning-guide.md</code> for complete planning procedures.</p>
<hr>
<h2>Backlog Prioritization</h2>
<p>Prioritize backlog using value and effort assessment.</p>
<h3>Priority Levels</h3>
<table>
<thead>
<tr>
<th>Priority</th>
<th>Definition</th>
<th>Sprint Target</th>
</tr>
</thead>
<tbody><tr>
<td>Critical</td>
<td>Blocking users, security, data loss</td>
<td>Immediate</td>
</tr>
<tr>
<td>High</td>
<td>Core functionality, key user needs</td>
<td>This sprint</td>
</tr>
<tr>
<td>Medium</td>
<td>Improvements, enhancements</td>
<td>Next 2-3 sprints</td>
</tr>
<tr>
<td>Low</td>
<td>Nice-to-have, minor improvements</td>
<td>Backlog</td>
</tr>
</tbody></table>
<h3>Prioritization Factors</h3>
<table>
<thead>
<tr>
<th>Factor</th>
<th>Weight</th>
<th>Questions</th>
</tr>
</thead>
<tbody><tr>
<td>Business Value</td>
<td>40%</td>
<td>Revenue impact? User demand? Strategic alignment?</td>
</tr>
<tr>
<td>User Impact</td>
<td>30%</td>
<td>How many users? How frequently used?</td>
</tr>
<tr>
<td>Risk/Dependencies</td>
<td>15%</td>
<td>Technical risk? External dependencies?</td>
</tr>
<tr>
<td>Effort</td>
<td>15%</td>
<td>Size? Complexity? Uncertainty?</td>
</tr>
</tbody></table>
<h3>INVEST Criteria Validation</h3>
<p>Before adding to sprint, validate each story:</p>
<table>
<thead>
<tr>
<th>Criterion</th>
<th>Question</th>
<th>Pass If...</th>
</tr>
</thead>
<tbody><tr>
<td><strong>I</strong>ndependent</td>
<td>Can this be developed without other uncommitted stories?</td>
<td>No blocking dependencies</td>
</tr>
<tr>
<td><strong>N</strong>egotiable</td>
<td>Is the implementation flexible?</td>
<td>Multiple approaches possible</td>
</tr>
<tr>
<td><strong>V</strong>aluable</td>
<td>Does this deliver user or business value?</td>
<td>Clear benefit in &quot;so that&quot;</td>
</tr>
<tr>
<td><strong>E</strong>stimable</td>
<td>Can the team estimate this?</td>
<td>Understood well enough to size</td>
</tr>
<tr>
<td><strong>S</strong>mall</td>
<td>Can this complete in one sprint?</td>
<td>‚â§8 story points</td>
</tr>
<tr>
<td><strong>T</strong>estable</td>
<td>Can we verify this is done?</td>
<td>Clear acceptance criteria</td>
</tr>
</tbody></table>
<hr>
<h2>Reference Documentation</h2>
<h3>User Story Templates</h3>
<p><code>references/user-story-templates.md</code> contains:</p>
<ul>
<li>Standard story formats by type (feature, improvement, bug fix, enabler)</li>
<li>Acceptance criteria patterns (Given-When-Then, Should/Must/Can)</li>
<li>INVEST criteria validation checklist</li>
<li>Story point estimation guide (Fibonacci scale)</li>
<li>Common story antipatterns and fixes</li>
<li>Story splitting techniques</li>
</ul>
<h3>Sprint Planning Guide</h3>
<p><code>references/sprint-planning-guide.md</code> contains:</p>
<ul>
<li>Sprint planning meeting agenda</li>
<li>Capacity calculation formulas</li>
<li>Backlog prioritization framework (WSJF)</li>
<li>Sprint ceremony guides (standup, review, retro)</li>
<li>Velocity tracking and burndown patterns</li>
<li>Definition of Done checklist</li>
<li>Sprint metrics and targets</li>
</ul>
<hr>
<h2>Tools</h2>
<h3>User Story Generator</h3>
<pre><code class="language-bash"># Generate stories from sample epic
python scripts/user_story_generator.py

# Plan sprint with capacity
python scripts/user_story_generator.py sprint 30
</code></pre>
<p>Generates:</p>
<ul>
<li>INVEST-compliant user stories</li>
<li>Given-When-Then acceptance criteria</li>
<li>Story point estimates (Fibonacci scale)</li>
<li>Priority assignments</li>
<li>Sprint loading with committed and stretch items</li>
</ul>
<h3>Sample Output</h3>
<pre><code>USER STORY: USR-001
========================================
Title: View Key Metrics
Type: story
Priority: HIGH
Points: 5

Story:
As a End User, I want to view key metrics and KPIs
so that I can save time and work more efficiently

Acceptance Criteria:
  1. Given user has access, When they view key metrics, Then the result is displayed
  2. Should validate input before processing
  3. Must show clear error message when action fails
  4. Should complete within 2 seconds
  5. Must be accessible via keyboard navigation

INVEST Checklist:
  ‚úì Independent
  ‚úì Negotiable
  ‚úì Valuable
  ‚úì Estimable
  ‚úì Small
  ‚úì Testable
</code></pre>
<hr>
<h2>Sprint Metrics</h2>
<p>Track sprint health and team performance.</p>
<h3>Key Metrics</h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Formula</th>
<th>Target</th>
</tr>
</thead>
<tbody><tr>
<td>Velocity</td>
<td>Points completed / sprint</td>
<td>Stable ¬±10%</td>
</tr>
<tr>
<td>Commitment Reliability</td>
<td>Completed / Committed</td>
<td>&gt;85%</td>
</tr>
<tr>
<td>Scope Change</td>
<td>Points added or removed mid-sprint</td>
<td>&lt;10%</td>
</tr>
<tr>
<td>Carryover</td>
<td>Points not completed</td>
<td>&lt;15%</td>
</tr>
</tbody></table>
<h3>Velocity Tracking</h3>
<pre><code>Sprint 1: 25 points
Sprint 2: 28 points
Sprint 3: 30 points
Sprint 4: 32 points
Sprint 5: 29 points
------------------------
Average Velocity: 28.8 points
Trend: Stable

Planning: Commit to 24-26 points
</code></pre>
<h3>Definition of Done</h3>
<p>Story is complete when:</p>
<ul>
<li><input disabled="" type="checkbox"> Code complete and peer reviewed</li>
<li><input disabled="" type="checkbox"> Unit tests written and passing</li>
<li><input disabled="" type="checkbox"> Acceptance criteria verified</li>
<li><input disabled="" type="checkbox"> Documentation updated</li>
<li><input disabled="" type="checkbox"> Deployed to staging environment</li>
<li><input disabled="" type="checkbox"> Product Owner accepted</li>
<li><input disabled="" type="checkbox"> No critical bugs remaining</li>
</ul>

                </div>
              </div>
            </article>
            <aside class="skill-page-sidebar">
              <div class="sidebar-card">
                <div class="sidebar-title">Actions</div>
                <a href="https://github.com/openclaw/skills/tree/main/skills/alirezarezvani/agile-product-owner/SKILL.md" target="_blank" rel="noopener" class="sidebar-btn sidebar-btn-primary">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
                  View on GitHub
                </a>
                <a href="https://clawdhub.com/alirezarezvani/agile-product-owner" target="_blank" rel="noopener" class="sidebar-btn sidebar-btn-clawdhub">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/><line x1="2" y1="12" x2="22" y2="12"/></svg>
                  View on ClawdHub
                </a>
                <a href="https://raw.githubusercontent.com/openclaw/skills/main/skills/alirezarezvani/agile-product-owner/SKILL.md" download="SKILL.md" class="sidebar-btn sidebar-btn-secondary">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                  Download SKILL.md
                </a>
                <button onclick="sendToSecurityAuditor()" class="sidebar-btn sidebar-btn-security">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                  Security Check
                </button>
              </div>
              <div class="sidebar-card">
                <div class="sidebar-title">Details</div>
                <div class="sidebar-info">
                  <div class="sidebar-info-item">
                    <span class="sidebar-info-label">Author</span>
                    <span class="sidebar-info-value">@alirezarezvani</span>
                  </div>
                  <div class="sidebar-info-item">
                    <span class="sidebar-info-label">Category</span>
                    <span class="sidebar-info-value">AI & LLMs</span>
                  </div>
                </div>
              </div>
            </aside>
          </div>
        
  <footer class="footer">
    <div class="footer-inner">
      <p class="footer-text" style="margin-bottom: 8px;"><a href="https://github.com/neonone123/moltdirectory" target="_blank" rel="noopener" style="color: var(--accent); text-decoration: none;">View on GitHub</a></p>
      <p class="footer-text" style="opacity: 0.6; font-size: 13px;">OpenClawDirectory.com is a community-run project and is not affiliated with the official OpenClaw team or Peter Steinberger. We are just fans of the lobster.</p>
    </div>
  </footer>
  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      if (newTheme === 'light') {
        html.setAttribute('data-theme', 'light');
      } else {
        html.removeAttribute('data-theme');
      }
      localStorage.setItem('theme', newTheme);
    }
    
    function copySkillContent(btn) {
      const wrapper = btn.closest('.skill-source-wrapper');
      const content = wrapper.querySelector('.markdown-content');
      if (content) {
        const text = content.innerText || content.textContent;
        navigator.clipboard.writeText(text).then(() => {
          btn.classList.add('copied');
          btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg> Copied!';
          setTimeout(() => {
            btn.classList.remove('copied');
            btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy';
          }, 2000);
        });
      }
    }

    async function sendToSecurityAuditor() {
      try {
        const contentElement = document.querySelector('.markdown-content');
        if (!contentElement) throw new Error('Could not find markdown content');
        const skillContent = contentElement.innerText || contentElement.textContent;
        localStorage.setItem('skillAuditContent', skillContent);
        window.open('/security-auditor', '_blank'); 
      } catch (error) {
        alert('Error: ' + error.message);
      }
    }

    function updateVoteWidget(widget, toolData) {
      if (!widget || !toolData) return;
      const upBtn = widget.querySelector('[data-vote="1"]');
      const downBtn = widget.querySelector('[data-vote="-1"]');
      const countNode = widget.querySelector('.vote-count');
      widget.dataset.rankScore = String(toolData.rankScore ?? 0);
      widget.dataset.viewerVote = String(toolData.viewerVote ?? 0);

      if (countNode) {
        countNode.textContent = toolData.displayCount || 'New';
      }
      if (upBtn) {
        upBtn.classList.toggle('is-active', Number(toolData.viewerVote) === 1);
      }
      if (downBtn) {
        downBtn.classList.toggle('is-active', Number(toolData.viewerVote) === -1);
      }
    }

    function setWidgetBusy(widget, busy) {
      widget.dataset.busy = busy ? '1' : '0';
      widget.querySelectorAll('.vote-btn').forEach((btn) => {
        btn.disabled = busy;
      });
    }

    function applySortMode(grid, mode) {
      const cards = [...grid.querySelectorAll('.skill-card[data-tool-id]')];
      cards.sort((a, b) => {
        if (mode === 'community') {
          const scoreDiff = Number(b.dataset.rankScore || 0) - Number(a.dataset.rankScore || 0);
          if (scoreDiff !== 0) return scoreDiff;
        }
        return Number(a.dataset.originalIndex || 0) - Number(b.dataset.originalIndex || 0);
      });
      cards.forEach((card) => grid.appendChild(card));
    }

    function bindSortToggle(toolbar, grid) {
      const buttons = toolbar.querySelectorAll('.sort-toggle-btn');
      const status = toolbar.querySelector('.sort-status');
      buttons.forEach((btn) => {
        btn.addEventListener('click', () => {
          const mode = btn.dataset.sortMode;
          buttons.forEach((b) => b.classList.toggle('is-active', b === btn));
          applySortMode(grid, mode);
          status.textContent = mode === 'community' ? 'Community ranking active' : 'Original order active';
        });
      });
    }

    async function fetchScores(categoryId, toolIds) {
      const params = new URLSearchParams({
        categoryId,
        toolIds: toolIds.join(',')
      });
      const response = await fetch('/api/v1/scores?' + params.toString(), {
        method: 'GET',
        credentials: 'same-origin'
      });
      if (!response.ok) {
        throw new Error('Unable to fetch vote scores');
      }
      return response.json();
    }

    async function submitVote(widget, voteValue) {
      const categoryId = widget.dataset.categoryId;
      const toolId = widget.dataset.toolId;
      setWidgetBusy(widget, true);
      try {
        const response = await fetch('/api/v1/vote', {
          method: 'POST',
          credentials: 'same-origin',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            categoryId,
            toolId,
            vote: voteValue
          })
        });
        const payload = await response.json().catch(() => ({}));
        if (!response.ok) {
          throw new Error(payload.error || 'Vote request failed');
        }
        if (payload.tool) {
          updateVoteWidget(widget, payload.tool);
          const card = widget.closest('.skill-card[data-tool-id]');
          if (card) {
            card.dataset.rankScore = String(payload.tool.rankScore ?? 0);
          }
        }
      } catch (error) {
        console.error(error);
      } finally {
        setWidgetBusy(widget, false);
      }
    }

    document.addEventListener('DOMContentLoaded', async () => {
      const widgets = [...document.querySelectorAll('.vote-widget[data-category-id][data-tool-id]')];
      if (widgets.length === 0) return;

      const grouped = new Map();
      widgets.forEach((widget) => {
        const key = widget.dataset.categoryId;
        if (!grouped.has(key)) grouped.set(key, new Map());
        grouped.get(key).set(widget.dataset.toolId, widget);
      });

      for (const [categoryId, widgetMap] of grouped.entries()) {
        const toolIds = [...widgetMap.keys()];
        try {
          const data = await fetchScores(categoryId, toolIds);
          const byTool = new Map((data.tools || []).map((tool) => [tool.toolId, tool]));
          for (const [toolId, widget] of widgetMap.entries()) {
            const toolData = byTool.get(toolId);
            if (toolData) {
              updateVoteWidget(widget, toolData);
              const card = widget.closest('.skill-card[data-tool-id]');
              if (card) {
                card.dataset.rankScore = String(toolData.rankScore ?? 0);
              }
            }
          }
        } catch (error) {
          console.error(error);
        }
      }

      widgets.forEach((widget) => {
        widget.querySelectorAll('.vote-btn').forEach((btn) => {
          btn.addEventListener('click', (event) => {
            event.preventDefault();
            event.stopPropagation();
            if (widget.dataset.busy === '1') return;
            const voteValue = Number(btn.dataset.vote);
            submitVote(widget, voteValue).then(() => {
              const grid = widget.closest('.skills-grid[data-category-id]');
              const toolbar = document.querySelector('.sort-toolbar[data-category-id="' + widget.dataset.categoryId + '"]');
              const communityBtn = toolbar ? toolbar.querySelector('.sort-toggle-btn[data-sort-mode="community"]') : null;
              if (grid && communityBtn && communityBtn.classList.contains('is-active')) {
                applySortMode(grid, 'community');
              }
            });
          });
        });
      });

      document.querySelectorAll('.skills-grid[data-category-id]').forEach((grid) => {
        const categoryId = grid.dataset.categoryId;
        const toolbar = document.querySelector('.sort-toolbar[data-category-id="' + categoryId + '"]');
        if (!toolbar) return;
        bindSortToggle(toolbar, grid);
        applySortMode(grid, 'community');
      });
    });
  </script>
</body>
</html>