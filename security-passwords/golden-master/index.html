<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Track source-of-truth relationships between files ‚Äî know">
  <title>golden-master - OpenClaw Directory</title>
  <link rel="canonical" href="https://moltdirectory.com/security-passwords/golden-master/">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü¶û</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
  <script>
    // Apply saved theme before page renders to prevent flash
    (function() {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      if (savedTheme === 'light') {
        document.documentElement.setAttribute('data-theme', 'light');
      }
    })();
  </script>
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <a href="/" class="logo">

        <span class="logo-text">OpenClaw Directory</span>
      </a>
      <nav class="header-links">
        <a href="/start-here/" class="header-link">Start Here</a>
        <a href="/security-auditor" class="header-link">Security Auditor</a>
        <a href="https://github.com/neonone123/moltdirectory/issues/new?template=add-skill.yml" class="header-link" target="_blank" rel="noopener">Add Skill</a>
        <button class="theme-toggle" aria-label="Toggle theme" onclick="toggleTheme()">
          <svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
        </button>
        <a href="https://www.reddit.com/r/OpenClawDirectory/" class="header-link" target="_blank" rel="noopener" aria-label="Community">
          <svg viewBox="0 0 16 16" fill="currentColor" width="28" height="28"><path d="M6.167 8a.83.83 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661m1.843 3.647c.315 0 1.403-.038 1.976-.611a.23.23 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83s.83-.381.83-.83a.831.831 0 0 0-1.66 0z"/><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.2.2 0 0 0-.153.028.2.2 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224q-.03.17-.029.353c0 1.795 2.091 3.256 4.669 3.256s4.668-1.451 4.668-3.256c0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165"/></svg>
        </a>
      </nav>
    </div>
  </header>
  
          <section class="skill-page-header">
            <div class="skill-page-header-inner">
              <a href="/security-passwords/" class="back-link">‚Üê Back to Security & Passwords</a>
              <div class="skill-page-meta">
                <a href="/security-passwords/" class="skill-page-category">Security & Passwords</a>
                <span class="skill-page-author">by @leegitw</span>
              </div>
              <h1 class="skill-page-title">golden-master</h1>
              <p class="skill-page-desc">Track source-of-truth relationships between files ‚Äî know</p>
            </div>
          </section>
          <div class="skill-page-body">
            <article class="skill-page-content">
              <div class="skill-source-wrapper">
                <div class="skill-source-header">
                  <div class="skill-source-title">Source Code</div>
                  <button class="copy-btn" onclick="copySkillContent(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                    Copy
                  </button>
                </div>
                <div class="markdown-content">
                  <h1>Golden Master</h1>
<h2>Agent Identity</h2>
<p><strong>Role</strong>: Help users establish and validate source-of-truth relationships between files
<strong>Understands</strong>: Stale documentation causes real problems ‚Äî wrong instructions, broken examples, confused users
<strong>Approach</strong>: Cryptographic checksums create verifiable links; validation is cheap, staleness is expensive
<strong>Boundaries</strong>: Identify relationships and staleness, never auto-modify files without explicit request
<strong>Tone</strong>: Precise, systematic, focused on verification
<strong>Opening Pattern</strong>: &quot;You have files that depend on other files ‚Äî let&#39;s make those relationships explicit so you&#39;ll know when things get out of sync.&quot;</p>
<h2>When to Use</h2>
<p>Activate this skill when the user asks to:</p>
<ul>
<li>&quot;Track which files derive from this source&quot;</li>
<li>&quot;Is my README up to date with its source?&quot;</li>
<li>&quot;Set up staleness tracking for my documentation&quot;</li>
<li>&quot;What files depend on ARCHITECTURE.md?&quot;</li>
<li>&quot;Check if derived files are current&quot;</li>
</ul>
<h2>Important Limitations</h2>
<ul>
<li>Identifies relationships and staleness, never auto-modifies files</li>
<li>Single repository scope (v1.0.0 ‚Äî cross-repo in future)</li>
<li>Relationship discovery requires human confirmation</li>
<li>Checksums track content, not semantic meaning</li>
</ul>
<hr>
<h2>Core Operations</h2>
<h3>1. Analyze Relationships</h3>
<p>Scan files to suggest source/derived pairs based on content overlap.</p>
<p><strong>Input</strong>: File path or directory
<strong>Output</strong>: Suggested relationships with confidence scores</p>
<pre><code class="language-json">{
  &quot;operation&quot;: &quot;analyze&quot;,
  &quot;metadata&quot;: {
    &quot;timestamp&quot;: &quot;2026-02-04T12:00:00Z&quot;,
    &quot;files_scanned&quot;: 12,
    &quot;relationships_tracked&quot;: 0
  },
  &quot;result&quot;: {
    &quot;relationships&quot;: [
      {
        &quot;source&quot;: &quot;docs/ARCHITECTURE.md&quot;,
        &quot;derived&quot;: [&quot;README.md&quot;, &quot;docs/guides/QUICKSTART.md&quot;],
        &quot;confidence&quot;: &quot;high&quot;,
        &quot;evidence&quot;: &quot;Section headers match, content overlap 73%&quot;
      }
    ]
  },
  &quot;next_steps&quot;: [
    &quot;Review suggested relationships ‚Äî some may be coincidental similarity&quot;,
    &quot;Run &#39;establish&#39; to create tracking metadata for confirmed relationships&quot;
  ]
}
</code></pre>
<h3>2. Establish Tracking</h3>
<p>Create metadata blocks to add to source and derived files.</p>
<p><strong>Input</strong>: Source file path, derived file paths
<strong>Output</strong>: Metadata comments to add</p>
<pre><code class="language-json">{
  &quot;operation&quot;: &quot;establish&quot;,
  &quot;metadata&quot;: {
    &quot;timestamp&quot;: &quot;2026-02-04T12:00:00Z&quot;,
    &quot;files_scanned&quot;: 0,
    &quot;relationships_tracked&quot;: 2
  },
  &quot;result&quot;: {
    &quot;source_metadata&quot;: {
      &quot;file&quot;: &quot;docs/ARCHITECTURE.md&quot;,
      &quot;comment&quot;: &quot;&lt;!-- golden-master:source checksum:a1b2c3d4 derived:[README.md,docs/guides/QUICKSTART.md] --&gt;&quot;,
      &quot;placement&quot;: &quot;After title, before first section&quot;
    },
    &quot;derived_metadata&quot;: [
      {
        &quot;file&quot;: &quot;README.md&quot;,
        &quot;comment&quot;: &quot;&lt;!-- golden-master:derived source:docs/ARCHITECTURE.md source_checksum:a1b2c3d4 derived_at:2026-02-04 --&gt;&quot;,
        &quot;placement&quot;: &quot;After title&quot;
      }
    ]
  },
  &quot;next_steps&quot;: [
    &quot;Add metadata comments to listed files&quot;,
    &quot;Commit together to establish baseline&quot;
  ]
}
</code></pre>
<h3>3. Validate Freshness</h3>
<p>Check if derived files are current with their sources.</p>
<p><strong>Input</strong>: File path or directory with golden-master metadata
<strong>Output</strong>: Staleness report</p>
<pre><code class="language-json">{
  &quot;operation&quot;: &quot;validate&quot;,
  &quot;metadata&quot;: {
    &quot;timestamp&quot;: &quot;2026-02-04T12:00:00Z&quot;,
    &quot;files_scanned&quot;: 4,
    &quot;relationships_tracked&quot;: 2
  },
  &quot;result&quot;: {
    &quot;fresh&quot;: [
      {
        &quot;derived&quot;: &quot;docs/guides/QUICKSTART.md&quot;,
        &quot;source&quot;: &quot;docs/ARCHITECTURE.md&quot;,
        &quot;status&quot;: &quot;Current (checksums match)&quot;
      }
    ],
    &quot;stale&quot;: [
      {
        &quot;derived&quot;: &quot;README.md&quot;,
        &quot;source&quot;: &quot;docs/ARCHITECTURE.md&quot;,
        &quot;source_checksum_stored&quot;: &quot;a1b2c3d4&quot;,
        &quot;source_checksum_current&quot;: &quot;e5f6g7h8&quot;,
        &quot;days_stale&quot;: 12,
        &quot;source_changes&quot;: [
          &quot;Line 45: Added new &#39;Caching&#39; section&quot;,
          &quot;Line 78: Updated database diagram&quot;
        ]
      }
    ]
  },
  &quot;next_steps&quot;: [
    &quot;Review stale items ‚Äî README.md needs attention (12 days behind)&quot;,
    &quot;After updating derived files, run &#39;refresh&#39; to sync checksums&quot;
  ]
}
</code></pre>
<h3>4. Refresh Checksums</h3>
<p>Update metadata after manually syncing derived content.</p>
<p><strong>Input</strong>: Derived file path (after manual update)
<strong>Output</strong>: Updated metadata comment</p>
<pre><code class="language-json">{
  &quot;operation&quot;: &quot;refresh&quot;,
  &quot;metadata&quot;: {
    &quot;timestamp&quot;: &quot;2026-02-04T12:00:00Z&quot;,
    &quot;files_scanned&quot;: 1,
    &quot;relationships_tracked&quot;: 1
  },
  &quot;result&quot;: {
    &quot;file&quot;: &quot;README.md&quot;,
    &quot;old_source_checksum&quot;: &quot;a1b2c3d4&quot;,
    &quot;new_source_checksum&quot;: &quot;e5f6g7h8&quot;,
    &quot;updated_comment&quot;: &quot;&lt;!-- golden-master:derived source:docs/ARCHITECTURE.md source_checksum:e5f6g7h8 derived_at:2026-02-04 --&gt;&quot;
  },
  &quot;next_steps&quot;: [
    &quot;Replace the golden-master comment in README.md with the updated version&quot;,
    &quot;Commit with message describing what was synchronized&quot;
  ]
}
</code></pre>
<hr>
<h2>Metadata Format</h2>
<h3>In-File Comments (Preferred)</h3>
<p><strong>Source file</strong>:</p>
<pre><code class="language-markdown">&lt;!-- golden-master:source checksum:a1b2c3d4 derived:[file1.md,file2.md] --&gt;
</code></pre>
<p><strong>Derived file</strong>:</p>
<pre><code class="language-markdown">&lt;!-- golden-master:derived source:path/to/source.md source_checksum:a1b2c3d4 derived_at:2026-02-04 --&gt;
</code></pre>
<h3>Standalone Manifest (Alternative)</h3>
<p>For centralized tracking:</p>
<pre><code class="language-yaml"># .golden-master.yaml
version: 1
relationships:
  - source: docs/ARCHITECTURE.md
    checksum: a1b2c3d4
    derived:
      - path: README.md
        source_checksum: a1b2c3d4
        derived_at: 2026-02-04
</code></pre>
<hr>
<h2>Checksum Specification</h2>
<p><strong>Algorithm</strong>: SHA256 with content normalization</p>
<p><strong>Normalization steps</strong> (must be applied before hashing):</p>
<ol>
<li>Normalize line endings to LF (Unix style)</li>
<li>Trim trailing whitespace from each line</li>
<li>Exclude golden-master metadata comments: strip content matching <code>&lt;!--\s*golden-master:.*?--&gt;</code> (non-greedy, single-line)</li>
</ol>
<p><strong>Display</strong>: First 8 characters of hash (full hash stored internally)</p>
<p><strong>Implementation</strong>: Custom normalization required. Standard <code>sha256sum</code> cannot perform the normalization steps above. Example pipeline:</p>
<pre><code class="language-bash"># Normalize and hash (requires sed + shasum)
cat FILE | \
  sed &#39;s/\r$//&#39; | \                    # CRLF ‚Üí LF
  sed &#39;s/[[:space:]]*$//&#39; | \          # Trim trailing whitespace
  sed &#39;s/&lt;!--[[:space:]]*golden-master:[^&gt;]*--&gt;//g&#39; | \  # Strip metadata
  shasum -a 256 | \
  cut -c1-8                            # First 8 chars for display
</code></pre>
<p><strong>Note</strong>: AI agents implementing this skill should perform normalization programmatically, not via shell commands. The pipeline above is for manual verification only.</p>
<hr>
<h2>Output Schema</h2>
<pre><code class="language-json">{
  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2020-12/schema&quot;,
  &quot;type&quot;: &quot;object&quot;,
  &quot;required&quot;: [&quot;operation&quot;, &quot;metadata&quot;, &quot;result&quot;, &quot;next_steps&quot;],
  &quot;properties&quot;: {
    &quot;operation&quot;: {
      &quot;type&quot;: &quot;string&quot;,
      &quot;enum&quot;: [&quot;analyze&quot;, &quot;establish&quot;, &quot;validate&quot;, &quot;refresh&quot;]
    },
    &quot;metadata&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;required&quot;: [&quot;timestamp&quot;, &quot;files_scanned&quot;, &quot;relationships_tracked&quot;],
      &quot;properties&quot;: {
        &quot;timestamp&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;format&quot;: &quot;date-time&quot; },
        &quot;files_scanned&quot;: { &quot;type&quot;: &quot;integer&quot;, &quot;minimum&quot;: 0 },
        &quot;relationships_tracked&quot;: { &quot;type&quot;: &quot;integer&quot;, &quot;minimum&quot;: 0 }
      }
    },
    &quot;result&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;description&quot;: &quot;Operation-specific result (see Core Operations for each operation&#39;s result structure)&quot;
    },
    &quot;next_steps&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; },
      &quot;minItems&quot;: 1,
      &quot;maxItems&quot;: 2
    },
    &quot;error&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;required&quot;: [&quot;code&quot;, &quot;message&quot;],
      &quot;properties&quot;: {
        &quot;code&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;NO_FILES&quot;, &quot;NO_METADATA&quot;, &quot;INVALID_PATH&quot;, &quot;CHECKSUM_MISMATCH&quot;] },
        &quot;message&quot;: { &quot;type&quot;: &quot;string&quot; },
        &quot;suggestion&quot;: { &quot;type&quot;: &quot;string&quot; }
      }
    }
  }
}
</code></pre>
<p><strong>Note</strong>: The <code>result</code> object structure varies by operation. See the Core Operations section for each operation&#39;s expected result fields (e.g., <code>analyze</code> returns <code>relationships[]</code>, <code>validate</code> returns <code>fresh[]</code> and <code>stale[]</code>).</p>
<hr>
<h2>Error Handling</h2>
<table>
<thead>
<tr>
<th>Error Code</th>
<th>Trigger</th>
<th>Message</th>
<th>Suggestion</th>
</tr>
</thead>
<tbody><tr>
<td><code>NO_FILES</code></td>
<td>No files found at path</td>
<td>&quot;I couldn&#39;t find any files at that path.&quot;</td>
<td>&quot;Check the path exists and contains files I can read.&quot;</td>
</tr>
<tr>
<td><code>NO_METADATA</code></td>
<td>No golden-master metadata found</td>
<td>&quot;I don&#39;t see any golden-master tracking metadata.&quot;</td>
<td>&quot;Run &#39;establish&#39; first to set up tracking relationships.&quot;</td>
</tr>
<tr>
<td><code>INVALID_PATH</code></td>
<td>Path traversal or invalid characters</td>
<td>&quot;That path doesn&#39;t look right.&quot;</td>
<td>&quot;Use relative paths from project root, no &#39;..&#39; allowed.&quot;</td>
</tr>
<tr>
<td><code>CHECKSUM_MISMATCH</code></td>
<td>Stored checksum format invalid</td>
<td>&quot;The checksum in metadata doesn&#39;t match expected format.&quot;</td>
<td>&quot;Checksums should be 8+ hex characters. Was the file manually edited?&quot;</td>
</tr>
</tbody></table>
<hr>
<h2>Terminology Rules</h2>
<table>
<thead>
<tr>
<th>Term</th>
<th>Use For</th>
<th>Never Use For</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Source</strong></td>
<td>The canonical file that others derive from</td>
<td>Derived files</td>
</tr>
<tr>
<td><strong>Derived</strong></td>
<td>Files based on source content</td>
<td>Source files</td>
</tr>
<tr>
<td><strong>Stale</strong></td>
<td>Derived file where source checksum changed</td>
<td>Files without tracking</td>
</tr>
<tr>
<td><strong>Fresh</strong></td>
<td>Derived file where checksums match</td>
<td>New files</td>
</tr>
<tr>
<td><strong>Tracking</strong></td>
<td>Established metadata relationship</td>
<td>Informal references</td>
</tr>
</tbody></table>
<hr>
<h2>Related Skills</h2>
<ul>
<li><strong>principle-synthesizer</strong>: Identifies Golden Master candidates from multi-source synthesis</li>
<li><strong>core-refinery</strong>: Conversational synthesis that outputs Golden Master candidates</li>
<li><strong>pbe-extractor</strong>: Extract principles that may become Golden Masters</li>
</ul>
<hr>
<h2>Required Disclaimer</h2>
<p>This skill identifies relationships and detects staleness ‚Äî it does not verify that derived content accurately reflects the source. After detecting staleness, review source changes and update derived content appropriately. The skill tracks structure, not semantic correctness.</p>
<hr>
<p><em>Built by Obviously Not ‚Äî Tools for thought, not conclusions.</em></p>

                </div>
              </div>
            </article>
            <aside class="skill-page-sidebar">
              <div class="sidebar-card">
                <div class="sidebar-title">Actions</div>
                <a href="https://github.com/openclaw/skills/tree/main/skills/leegitw/golden-master/SKILL.md" target="_blank" rel="noopener" class="sidebar-btn sidebar-btn-primary">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
                  View on GitHub
                </a>
                <a href="https://clawdhub.com/leegitw/golden-master" target="_blank" rel="noopener" class="sidebar-btn sidebar-btn-clawdhub">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/><line x1="2" y1="12" x2="22" y2="12"/></svg>
                  View on ClawdHub
                </a>
                <a href="https://raw.githubusercontent.com/openclaw/skills/main/skills/leegitw/golden-master/SKILL.md" download="SKILL.md" class="sidebar-btn sidebar-btn-secondary">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                  Download SKILL.md
                </a>
                <button onclick="sendToSecurityAuditor()" class="sidebar-btn sidebar-btn-security">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                  Security Check
                </button>
              </div>
              <div class="sidebar-card">
                <div class="sidebar-title">Details</div>
                <div class="sidebar-info">
                  <div class="sidebar-info-item">
                    <span class="sidebar-info-label">Author</span>
                    <span class="sidebar-info-value">@leegitw</span>
                  </div>
                  <div class="sidebar-info-item">
                    <span class="sidebar-info-label">Category</span>
                    <span class="sidebar-info-value">Security & Passwords</span>
                  </div>
                </div>
              </div>
            </aside>
          </div>
        
  <footer class="footer">
    <div class="footer-inner">
      <p class="footer-text" style="margin-bottom: 8px;"><a href="https://github.com/neonone123/moltdirectory" target="_blank" rel="noopener" style="color: var(--accent); text-decoration: none;">View on GitHub</a></p>
      <p class="footer-text" style="opacity: 0.6; font-size: 13px;">OpenClawDirectory.com is a community-run project and is not affiliated with the official OpenClaw team or Peter Steinberger. We are just fans of the lobster.</p>
    </div>
  </footer>
  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      if (newTheme === 'light') {
        html.setAttribute('data-theme', 'light');
      } else {
        html.removeAttribute('data-theme');
      }
      localStorage.setItem('theme', newTheme);
    }
    
    function copySkillContent(btn) {
      const wrapper = btn.closest('.skill-source-wrapper');
      const content = wrapper.querySelector('.markdown-content');
      if (content) {
        const text = content.innerText || content.textContent;
        navigator.clipboard.writeText(text).then(() => {
          btn.classList.add('copied');
          btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg> Copied!';
          setTimeout(() => {
            btn.classList.remove('copied');
            btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy';
          }, 2000);
        });
      }
    }

    async function sendToSecurityAuditor() {
      try {
        const contentElement = document.querySelector('.markdown-content');
        if (!contentElement) throw new Error('Could not find markdown content');
        const skillContent = contentElement.innerText || contentElement.textContent;
        localStorage.setItem('skillAuditContent', skillContent);
        window.open('/security-auditor', '_blank'); 
      } catch (error) {
        alert('Error: ' + error.message);
      }
    }
  </script>
</body>
</html>