<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Cloud file management and collaboration platform">
  <title>fastio-skills - OpenClaw Directory</title>
  <link rel="canonical" href="https://moltdirectory.com/self-hosted-automation/fastio-skills/">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü¶û</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
  <script>
    // Apply saved theme before page renders to prevent flash
    (function() {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      if (savedTheme === 'light') {
        document.documentElement.setAttribute('data-theme', 'light');
      }
    })();
  </script>
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <a href="/" class="logo">

        <span class="logo-text">OpenClaw Directory</span>
      </a>
      <nav class="header-links">
        <a href="/start-here/" class="header-link">Start Here</a>
        <a href="/security-auditor" class="header-link">Security Auditor</a>
        <a href="https://github.com/neonone123/moltdirectory/issues/new?template=add-skill.yml" class="header-link" target="_blank" rel="noopener">Add Skill</a>
        <button class="theme-toggle" aria-label="Toggle theme" onclick="toggleTheme()">
          <svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
        </button>
        <a href="https://www.reddit.com/r/OpenClawDirectory/" class="header-link" target="_blank" rel="noopener" aria-label="Community">
          <svg viewBox="0 0 16 16" fill="currentColor" width="28" height="28"><path d="M6.167 8a.83.83 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661m1.843 3.647c.315 0 1.403-.038 1.976-.611a.23.23 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83s.83-.381.83-.83a.831.831 0 0 0-1.66 0z"/><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.2.2 0 0 0-.153.028.2.2 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224q-.03.17-.029.353c0 1.795 2.091 3.256 4.669 3.256s4.668-1.451 4.668-3.256c0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165"/></svg>
        </a>
      </nav>
    </div>
  </header>
  
          <section class="skill-page-header">
            <div class="skill-page-header-inner">
              <a href="/self-hosted-automation/" class="back-link">‚Üê Back to Self-Hosted & Automation</a>
              <div class="skill-page-meta">
                <a href="/self-hosted-automation/" class="skill-page-category">Self-Hosted & Automation</a>
                <span class="skill-page-author">by @dbalve</span>
              </div>
              <h1 class="skill-page-title">fastio-skills</h1>
              <p class="skill-page-desc">Cloud file management and collaboration platform</p>
              <div class="vote-widget skill-page-vote" data-category-id="self-hosted-automation" data-tool-id="fastio-skills">
                <button type="button" class="vote-btn" data-vote="1" aria-label="Upvote fastio-skills">‚ñ≤</button>
                <span class="vote-count">New</span>
                <button type="button" class="vote-btn" data-vote="-1" aria-label="Downvote fastio-skills">‚ñº</button>
              </div>
            </div>
          </section>
          <div class="skill-page-body">
            <article class="skill-page-content">
              <div class="skill-source-wrapper">
                <div class="skill-source-header">
                  <div class="skill-source-title">Source Code</div>
                  <button class="copy-btn" onclick="copySkillContent(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                    Copy
                  </button>
                </div>
                <div class="markdown-content">
                  <h1>Fast.io MCP Server</h1>
<p><strong>Store files. Share with humans. Query with AI. All through one API -- free.</strong></p>
<blockquote>
<p><strong>This is a summary.</strong> The complete agent guide with all 266 tool parameters, workflows, ID formats, and constraints is at <strong><code>https://mcp.fast.io/skill.md</code></strong> -- fetch it at the start of every session.</p>
</blockquote>
<p>Fast.io gives AI agents a complete file management and collaboration platform. Upload outputs, create branded data rooms, ask questions about documents using built-in AI, and hand everything off to a human when the job is done.</p>
<h2>Connecting to the Server</h2>
<table>
<thead>
<tr>
<th>Transport</th>
<th>Endpoint</th>
</tr>
</thead>
<tbody><tr>
<td>Streamable HTTP (preferred)</td>
<td><code>mcp.fast.io/mcp</code></td>
</tr>
<tr>
<td>SSE (legacy)</td>
<td><code>mcp.fast.io/sse</code></td>
</tr>
</tbody></table>
<h2>MCP Resources</h2>
<p>Two resources are available via <code>resources/list</code> and <code>resources/read</code>:</p>
<table>
<thead>
<tr>
<th>URI</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>skill://guide</code></td>
<td>skill-guide</td>
<td>Full agent guide (text/markdown)</td>
</tr>
<tr>
<td><code>session://status</code></td>
<td>session-status</td>
<td>Auth state as JSON: <code>authenticated</code>, <code>user_id</code>, <code>user_email</code>, <code>token_expires_at</code></td>
</tr>
</tbody></table>
<h2>MCP Prompts</h2>
<p>Eight guided prompts for common operations via <code>prompts/list</code> and <code>prompts/get</code>:</p>
<table>
<thead>
<tr>
<th>Prompt</th>
<th>Purpose</th>
</tr>
</thead>
<tbody><tr>
<td><code>get-started</code></td>
<td>Onboarding: account, org, workspace</td>
</tr>
<tr>
<td><code>create-share</code></td>
<td>Send/Receive/Exchange type selection</td>
</tr>
<tr>
<td><code>ask-ai</code></td>
<td>AI chat scoping and polling</td>
</tr>
<tr>
<td><code>upload-file</code></td>
<td>Choose upload method</td>
</tr>
<tr>
<td><code>transfer-to-human</code></td>
<td>Ownership handoff</td>
</tr>
<tr>
<td><code>discover-content</code></td>
<td>Find orgs/workspaces</td>
</tr>
<tr>
<td><code>invite-collaborator</code></td>
<td>Member invitations</td>
</tr>
<tr>
<td><code>setup-branding</code></td>
<td>Asset uploads</td>
</tr>
</tbody></table>
<h2>Getting Started</h2>
<h3>1. Create an Agent Account</h3>
<pre><code>auth-signup ‚Üí first_name, last_name, email, password
</code></pre>
<p>Agent accounts are free, skip email verification, and never expire. The session is established automatically. JWT tokens last <strong>1 hour</strong> -- call <code>auth-signin</code> to re-authenticate when expired. API keys (human accounts) do not expire.</p>
<h3>2. Create an Organization</h3>
<pre><code>org-create ‚Üí name, domain (3+ chars, lowercase alphanumeric + hyphens)
</code></pre>
<p>Agent orgs get the free plan: 100 GB storage, 5,000 monthly credits, 5 workspaces, 50 shares.</p>
<h3>3. Create a Workspace</h3>
<pre><code>org-create-workspace ‚Üí org_id, name, folder_name (URL slug)
</code></pre>
<p>Workspaces are file storage containers with AI chat, member management, and shares.</p>
<h3>Alternative: Assist an Existing Human</h3>
<p>If a human already has a Fast.io account, they can create an API key at <code>https://go.fast.io/settings/api-keys</code> and provide it as a Bearer token. No agent account needed.</p>
<h3>Org Discovery (Important)</h3>
<p>To find all available orgs, <strong>always call both</strong>:</p>
<ul>
<li><code>list-orgs</code> -- internal orgs where you are a direct member</li>
<li><code>orgs-external</code> -- orgs you access via workspace membership only</li>
</ul>
<p>External orgs are the most common pattern when a human invites an agent to a workspace but not the org. An agent that only checks <code>list-orgs</code> will miss these entirely.</p>
<h2>Key Concepts</h2>
<h3>Workspaces</h3>
<p>Collaborative file storage containers. Each has members, a folder hierarchy, AI chat, and shares. 100 GB storage on the free plan.</p>
<p><strong>Intelligence toggle:</strong> OFF = pure storage. ON = AI-powered knowledge base with automatic RAG indexing, semantic search, auto-summarization, and metadata extraction. Enabled by default.</p>
<h3>Shares</h3>
<p>Purpose-built spaces for exchanging files with people outside a workspace:</p>
<ul>
<li><strong>Send</strong> -- deliver files to humans (reports, exports, generated content)</li>
<li><strong>Receive</strong> -- collect files from humans (documents, datasets, submissions)</li>
<li><strong>Exchange</strong> -- bidirectional (collaborative workflows, review cycles)</li>
</ul>
<p>Features: password protection, expiration, custom branding, access levels, guest chat, download controls.</p>
<h3>Storage Nodes</h3>
<p>Files and folders are identified by 30-character opaque IDs. Use <code>root</code> for the root folder and <code>trash</code> for the trash folder.</p>
<h3>Profile IDs</h3>
<p>Orgs, workspaces, and shares use 19-digit numeric string identifiers.</p>
<h2>Core Capabilities</h2>
<table>
<thead>
<tr>
<th>Capability</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>File storage</td>
<td>Versioning, folder hierarchy, full-text and semantic search</td>
</tr>
<tr>
<td>Branded shares</td>
<td>Send/Receive/Exchange with passwords, expiration, branding</td>
</tr>
<tr>
<td>Built-in AI/RAG</td>
<td>Read-only: ask questions about files with citations; scope to files, folders, or full workspace. Cannot modify files or settings.</td>
</tr>
<tr>
<td>File preview</td>
<td>Images, video (HLS), audio, PDF, spreadsheets, code -- humans see content inline</td>
</tr>
<tr>
<td>URL import</td>
<td>Import files from any URL including Google Drive, OneDrive, Dropbox</td>
</tr>
<tr>
<td>Comments</td>
<td>Anchored to image regions, video/audio timestamps, PDF pages/text; single-level threading; deep link with <code>?comment={id}</code>, <code>?t={seconds}</code>, <code>?p={page}</code></td>
</tr>
<tr>
<td>Notes</td>
<td>Markdown documents as knowledge grounding for AI queries</td>
</tr>
<tr>
<td>Ownership transfer</td>
<td>Build an org, transfer to a human; agent keeps admin access</td>
</tr>
<tr>
<td>Real-time</td>
<td>WebSocket-based live presence, cursor tracking, follow mode</td>
</tr>
<tr>
<td>Events</td>
<td>Full audit trail with AI-powered activity summaries</td>
</tr>
</tbody></table>
<h2>AI Chat</h2>
<p><strong>AI chat is read-only.</strong> It can read, analyze, search, and answer questions about file contents, but it cannot modify files, change settings, manage members, or access events. All actions beyond reading file content must be done through the MCP tools directly.</p>
<p>Two chat types:</p>
<ul>
<li><strong><code>chat</code></strong> -- general conversation, no file context</li>
<li><strong><code>chat_with_files</code></strong> -- grounded in your files with citations</li>
</ul>
<p>Two file context modes (mutually exclusive):</p>
<ul>
<li><strong>Folder/file scope (RAG)</strong> -- searches indexed content; requires intelligence ON</li>
<li><strong>File attachments</strong> -- reads files directly; up to 10 files; no intelligence needed</li>
</ul>
<p><strong>Personality:</strong> <code>concise</code> (short answers) or <code>detailed</code> (comprehensive, default). Set on chat creation or per message.</p>
<h3>AI Chat Workflow</h3>
<pre><code>ai-chat-create ‚Üí workspace_id, query_text, type
ai-message-read ‚Üí workspace_id, chat_id, message_id  (auto-polls until complete)
ai-message-send ‚Üí workspace_id, chat_id, query_text   (follow-up messages)
</code></pre>
<p>Use <code>activity-poll</code> for efficient waiting instead of polling message details in a loop.</p>
<h2>File Upload</h2>
<h3>Text Files (Recommended)</h3>
<pre><code>upload-text-file ‚Üí profile_type, profile_id, parent_node_id, filename, content
</code></pre>
<p>Single-step upload for text-based files (code, markdown, CSV, JSON, config). Creates the session, uploads, finalizes, and polls until stored ‚Äî returns <code>new_file_id</code>.</p>
<h3>Binary or Large Files (Chunked Flow)</h3>
<pre><code>upload-create-session ‚Üí profile_type, profile_id, parent_node_id, filename, filesize
upload-chunk ‚Üí upload_id, chunk_number, content | blob_ref | data (exactly one)
upload-finalize ‚Üí upload_id (polls until stored, returns new_file_id)
</code></pre>
<p>Three options for chunk data (provide exactly one):</p>
<ul>
<li><strong><code>content</code></strong> ‚Äî text (strings, code, JSON). Do not put text in <code>data</code>.</li>
<li><strong><code>blob_ref</code></strong> ‚Äî <em>preferred for binary</em>. <code>POST</code> raw bytes to <code>/blob</code> with <code>Mcp-Session-Id</code> header and <code>Content-Type: application/octet-stream</code>. Returns <code>{ blob_id, size }</code>. Pass <code>blob_id</code> as <code>blob_ref</code>. Avoids base64 overhead. Blobs expire after 5 minutes, consumed on use.</li>
<li><strong><code>data</code></strong> ‚Äî legacy base64-encoded binary. Still supported but adds ~33% size overhead.</li>
</ul>
<h2>Shares Workflow</h2>
<pre><code>share-create ‚Üí workspace_id, type (send/receive/exchange), title
share-add-file ‚Üí share_id, node_id (add files to the share)
</code></pre>
<p>Share link: <code>https://go.fast.io/shared/{custom_name}/{title-slug}</code></p>
<h2>Ownership Transfer</h2>
<p>Build an org with workspaces, shares, and files, then transfer to a human:</p>
<pre><code>org-transfer-token-create ‚Üí org_id (returns 64-char token, valid 72 hours)
</code></pre>
<p>Claim URL: <code>https://go.fast.io/claim?token={token}</code></p>
<p>Human becomes owner, agent keeps admin access. Human gets a 14-day trial and can upgrade.</p>
<h2>Common Patterns</h2>
<ul>
<li><strong>Downloads:</strong> Tools return download URLs; they never stream binary.</li>
<li><strong>Pagination:</strong> Storage list endpoints use cursor-based pagination (<code>sort_by</code>, <code>sort_dir</code>, <code>page_size</code>, <code>cursor</code>; check <code>next_cursor</code>). All other list endpoints support limit/offset pagination (<code>limit</code> 1-500, default 100; <code>offset</code> default 0).</li>
<li><strong>Trash/delete/purge:</strong> Delete moves to trash (recoverable). Purge permanently destroys (confirm with user first).</li>
<li><strong>Activity polling:</strong> Use <code>activity-poll</code> with <code>wait=95</code> for efficient change detection instead of polling resource endpoints.</li>
</ul>
<h2>Agent Plan (Free)</h2>
<p>$0/month. No credit card, no trial period, no expiration.</p>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Limit</th>
</tr>
</thead>
<tbody><tr>
<td>Storage</td>
<td>100 GB</td>
</tr>
<tr>
<td>Max file size</td>
<td>1 GB</td>
</tr>
<tr>
<td>Monthly credits</td>
<td>5,000</td>
</tr>
<tr>
<td>Workspaces</td>
<td>5</td>
</tr>
<tr>
<td>Shares</td>
<td>50</td>
</tr>
<tr>
<td>Members per workspace</td>
<td>5</td>
</tr>
</tbody></table>
<p>Credits cover: storage (100/GB), bandwidth (212/GB), AI tokens (1/100 tokens), document ingestion (10/page).</p>
<p>When credits run out, transfer the org to a human who can upgrade to unlimited credits.</p>
<h2>Tool Categories (266 Tools)</h2>
<table>
<thead>
<tr>
<th>Category</th>
<th>Count</th>
<th>Examples</th>
</tr>
</thead>
<tbody><tr>
<td>Auth</td>
<td>11</td>
<td>signup, signin, 2FA, API keys, password reset</td>
</tr>
<tr>
<td>User</td>
<td>13</td>
<td>profile, settings, invitations, asset types/list</td>
</tr>
<tr>
<td>Organization</td>
<td>29</td>
<td>create, billing, members, transfer, asset types/list</td>
</tr>
<tr>
<td>Workspace</td>
<td>45</td>
<td>storage CRUD, search, move, copy, notes</td>
</tr>
<tr>
<td>Workspace Members</td>
<td>10</td>
<td>add, remove, permissions, invitations</td>
</tr>
<tr>
<td>Workspace Management</td>
<td>17</td>
<td>settings, intelligence, branding, asset types/list/read</td>
</tr>
<tr>
<td>Shares</td>
<td>34</td>
<td>create, branding, links, members, guest chat</td>
</tr>
<tr>
<td>Share Management</td>
<td>17</td>
<td>settings, access, asset types/list, analytics</td>
</tr>
<tr>
<td>Upload</td>
<td>6</td>
<td>text-file, session, chunk, finalize, status, web import</td>
</tr>
<tr>
<td>Download</td>
<td>5</td>
<td>file, folder (zip), share, version downloads</td>
</tr>
<tr>
<td>AI Chat</td>
<td>12</td>
<td>chat CRUD, messages, publish, transactions</td>
</tr>
<tr>
<td>Share AI</td>
<td>12</td>
<td>share-scoped AI chat, autotitle, AI share</td>
</tr>
<tr>
<td>Comments</td>
<td>8</td>
<td>list (per-node/all), add with reference anchoring, delete (recursive), bulk delete, reactions</td>
</tr>
<tr>
<td>Previews</td>
<td>7</td>
<td>status, image, video (HLS), audio, PDF, code</td>
</tr>
<tr>
<td>Versions</td>
<td>6</td>
<td>list, details, restore, delete, download</td>
</tr>
<tr>
<td>Locking</td>
<td>4</td>
<td>lock, unlock, status, break lock</td>
</tr>
<tr>
<td>Metadata</td>
<td>8</td>
<td>get, set, delete custom metadata fields</td>
</tr>
<tr>
<td>Events</td>
<td>5</td>
<td>search, details, acknowledge, summarize</td>
</tr>
<tr>
<td>System</td>
<td>7</td>
<td>status, ping, health, feature flags, activity poll</td>
</tr>
<tr>
<td>Real-time</td>
<td>6</td>
<td>presence, cursors, follow, WebSocket</td>
</tr>
</tbody></table>
<h2>Permission Values (Quick Reference)</h2>
<p><strong>Organization creation</strong> (<code>org-create</code>):</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Values</th>
</tr>
</thead>
<tbody><tr>
<td><code>industry</code></td>
<td><code>unspecified</code>, <code>technology</code>, <code>healthcare</code>, <code>financial</code>, <code>education</code>, <code>manufacturing</code>, <code>construction</code>, <code>professional</code>, <code>media</code>, <code>retail</code>, <code>real_estate</code>, <code>logistics</code>, <code>energy</code>, <code>automotive</code>, <code>agriculture</code>, <code>pharmaceutical</code>, <code>legal</code>, <code>government</code>, <code>non_profit</code>, <code>insurance</code>, <code>telecommunications</code>, <code>research</code>, <code>entertainment</code>, <code>architecture</code>, <code>consulting</code>, <code>marketing</code></td>
</tr>
<tr>
<td><code>background_mode</code></td>
<td><code>stretched</code>, <code>fixed</code></td>
</tr>
</tbody></table>
<p><strong>Workspace permissions</strong> (<code>org-create-workspace</code>, <code>workspace-update</code>):</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Values</th>
</tr>
</thead>
<tbody><tr>
<td><code>perm_join</code></td>
<td><code>Only Org Owners</code>, <code>Admin or above</code>, <code>Member or above</code></td>
</tr>
<tr>
<td><code>perm_member_manage</code></td>
<td><code>Admin or above</code>, <code>Member or above</code></td>
</tr>
</tbody></table>
<p><strong>Share permissions</strong> (<code>share-create</code>):</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Values</th>
</tr>
</thead>
<tbody><tr>
<td><code>access_options</code></td>
<td><code>Only members of the Share or Workspace</code>, <code>Members of the Share, Workspace or Org</code>, <code>Anyone with a registered account</code>, <code>Anyone with the link</code></td>
</tr>
<tr>
<td><code>invite</code></td>
<td><code>owners</code>, <code>guests</code></td>
</tr>
<tr>
<td><code>notify</code></td>
<td><code>never</code>, <code>notify_on_file_received</code>, <code>notify_on_file_sent_or_received</code></td>
</tr>
</tbody></table>
<p>See the full guide for complete parameter documentation and constraints.</p>
<h2>Detailed Reference</h2>
<p>This skill file is a summary. The full agent guide with all 266 tool parameters, workflows, and constraints is served directly by the MCP server:</p>
<p><strong>Fetch the full guide:</strong> <code>https://mcp.fast.io/skill.md</code></p>
<p>This is the definitive reference ‚Äî always fetch it at the start of a session for the latest tool documentation. It covers:</p>
<ul>
<li>Full tool parameter reference for all 266 tools</li>
<li>Detailed AI chat documentation (file context modes, question phrasing, response handling)</li>
<li>Complete URL construction guide with deep linking</li>
<li>Credit budget management</li>
<li>All end-to-end workflows with step-by-step instructions</li>
<li>ID formats, encoding rules, and common gotchas</li>
</ul>
<p>Also available: <a href="https://github.com/openclaw/skills/blob/main/skills/dbalve/fastio-skills/references/REFERENCE.md">references/REFERENCE.md</a> ‚Äî platform capabilities, agent plan details, and upgrade paths.</p>

                </div>
              </div>
            </article>
            <aside class="skill-page-sidebar">
              <div class="sidebar-card">
                <div class="sidebar-title">Actions</div>
                <a href="https://github.com/openclaw/skills/tree/main/skills/dbalve/fastio-skills/SKILL.md" target="_blank" rel="noopener" class="sidebar-btn sidebar-btn-primary">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
                  View on GitHub
                </a>
                <a href="https://clawdhub.com/dbalve/fastio-skills" target="_blank" rel="noopener" class="sidebar-btn sidebar-btn-clawdhub">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/><line x1="2" y1="12" x2="22" y2="12"/></svg>
                  View on ClawdHub
                </a>
                <a href="https://raw.githubusercontent.com/openclaw/skills/main/skills/dbalve/fastio-skills/SKILL.md" download="SKILL.md" class="sidebar-btn sidebar-btn-secondary">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                  Download SKILL.md
                </a>
                <button onclick="sendToSecurityAuditor()" class="sidebar-btn sidebar-btn-security">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                  Security Check
                </button>
              </div>
              <div class="sidebar-card">
                <div class="sidebar-title">Details</div>
                <div class="sidebar-info">
                  <div class="sidebar-info-item">
                    <span class="sidebar-info-label">Author</span>
                    <span class="sidebar-info-value">@dbalve</span>
                  </div>
                  <div class="sidebar-info-item">
                    <span class="sidebar-info-label">Category</span>
                    <span class="sidebar-info-value">Self-Hosted & Automation</span>
                  </div>
                </div>
              </div>
            </aside>
          </div>
        
  <footer class="footer">
    <div class="footer-inner">
      <p class="footer-text" style="margin-bottom: 8px;"><a href="https://github.com/neonone123/moltdirectory" target="_blank" rel="noopener" style="color: var(--accent); text-decoration: none;">View on GitHub</a></p>
      <p class="footer-text" style="opacity: 0.6; font-size: 13px;">OpenClawDirectory.com is a community-run project and is not affiliated with the official OpenClaw team or Peter Steinberger. We are just fans of the lobster.</p>
    </div>
  </footer>
  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      if (newTheme === 'light') {
        html.setAttribute('data-theme', 'light');
      } else {
        html.removeAttribute('data-theme');
      }
      localStorage.setItem('theme', newTheme);
    }
    
    function copySkillContent(btn) {
      const wrapper = btn.closest('.skill-source-wrapper');
      const content = wrapper.querySelector('.markdown-content');
      if (content) {
        const text = content.innerText || content.textContent;
        navigator.clipboard.writeText(text).then(() => {
          btn.classList.add('copied');
          btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg> Copied!';
          setTimeout(() => {
            btn.classList.remove('copied');
            btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy';
          }, 2000);
        });
      }
    }

    async function sendToSecurityAuditor() {
      try {
        const contentElement = document.querySelector('.markdown-content');
        if (!contentElement) throw new Error('Could not find markdown content');
        const skillContent = contentElement.innerText || contentElement.textContent;
        localStorage.setItem('skillAuditContent', skillContent);
        window.open('/security-auditor', '_blank'); 
      } catch (error) {
        alert('Error: ' + error.message);
      }
    }

    function updateVoteWidget(widget, toolData) {
      if (!widget || !toolData) return;
      const upBtn = widget.querySelector('[data-vote="1"]');
      const downBtn = widget.querySelector('[data-vote="-1"]');
      const countNode = widget.querySelector('.vote-count');
      widget.dataset.rankScore = String(toolData.rankScore ?? 0);
      widget.dataset.viewerVote = String(toolData.viewerVote ?? 0);

      if (countNode) {
        countNode.textContent = toolData.displayCount || 'New';
      }
      if (upBtn) {
        upBtn.classList.toggle('is-active', Number(toolData.viewerVote) === 1);
      }
      if (downBtn) {
        downBtn.classList.toggle('is-active', Number(toolData.viewerVote) === -1);
      }
    }

    function setWidgetBusy(widget, busy) {
      widget.dataset.busy = busy ? '1' : '0';
      widget.querySelectorAll('.vote-btn').forEach((btn) => {
        btn.disabled = busy;
      });
    }

    function applySortMode(grid, mode) {
      const cards = [...grid.querySelectorAll('.skill-card[data-tool-id]')];
      cards.sort((a, b) => {
        if (mode === 'community') {
          const scoreDiff = Number(b.dataset.rankScore || 0) - Number(a.dataset.rankScore || 0);
          if (scoreDiff !== 0) return scoreDiff;
        }
        return Number(a.dataset.originalIndex || 0) - Number(b.dataset.originalIndex || 0);
      });
      cards.forEach((card) => grid.appendChild(card));
    }

    function bindSortToggle(toolbar, grid) {
      const buttons = toolbar.querySelectorAll('.sort-toggle-btn');
      const status = toolbar.querySelector('.sort-status');
      buttons.forEach((btn) => {
        btn.addEventListener('click', () => {
          const mode = btn.dataset.sortMode;
          buttons.forEach((b) => b.classList.toggle('is-active', b === btn));
          applySortMode(grid, mode);
          status.textContent = mode === 'community' ? 'Community ranking active' : 'Original order active';
        });
      });
    }

    async function fetchScores(categoryId, toolIds) {
      const params = new URLSearchParams({
        categoryId,
        toolIds: toolIds.join(',')
      });
      const response = await fetch('/api/v1/scores?' + params.toString(), {
        method: 'GET',
        credentials: 'same-origin'
      });
      if (!response.ok) {
        throw new Error('Unable to fetch vote scores');
      }
      return response.json();
    }

    async function submitVote(widget, voteValue) {
      const categoryId = widget.dataset.categoryId;
      const toolId = widget.dataset.toolId;
      setWidgetBusy(widget, true);
      try {
        const response = await fetch('/api/v1/vote', {
          method: 'POST',
          credentials: 'same-origin',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            categoryId,
            toolId,
            vote: voteValue
          })
        });
        const payload = await response.json().catch(() => ({}));
        if (!response.ok) {
          throw new Error(payload.error || 'Vote request failed');
        }
        if (payload.tool) {
          updateVoteWidget(widget, payload.tool);
          const card = widget.closest('.skill-card[data-tool-id]');
          if (card) {
            card.dataset.rankScore = String(payload.tool.rankScore ?? 0);
          }
        }
      } catch (error) {
        console.error(error);
      } finally {
        setWidgetBusy(widget, false);
      }
    }

    document.addEventListener('DOMContentLoaded', async () => {
      const widgets = [...document.querySelectorAll('.vote-widget[data-category-id][data-tool-id]')];
      if (widgets.length === 0) return;

      const grouped = new Map();
      widgets.forEach((widget) => {
        const key = widget.dataset.categoryId;
        if (!grouped.has(key)) grouped.set(key, new Map());
        grouped.get(key).set(widget.dataset.toolId, widget);
      });

      for (const [categoryId, widgetMap] of grouped.entries()) {
        const toolIds = [...widgetMap.keys()];
        try {
          const data = await fetchScores(categoryId, toolIds);
          const byTool = new Map((data.tools || []).map((tool) => [tool.toolId, tool]));
          for (const [toolId, widget] of widgetMap.entries()) {
            const toolData = byTool.get(toolId);
            if (toolData) {
              updateVoteWidget(widget, toolData);
              const card = widget.closest('.skill-card[data-tool-id]');
              if (card) {
                card.dataset.rankScore = String(toolData.rankScore ?? 0);
              }
            }
          }
        } catch (error) {
          console.error(error);
        }
      }

      widgets.forEach((widget) => {
        widget.querySelectorAll('.vote-btn').forEach((btn) => {
          btn.addEventListener('click', (event) => {
            event.preventDefault();
            event.stopPropagation();
            if (widget.dataset.busy === '1') return;
            const voteValue = Number(btn.dataset.vote);
            submitVote(widget, voteValue).then(() => {
              const grid = widget.closest('.skills-grid[data-category-id]');
              const toolbar = document.querySelector('.sort-toolbar[data-category-id="' + widget.dataset.categoryId + '"]');
              const communityBtn = toolbar ? toolbar.querySelector('.sort-toggle-btn[data-sort-mode="community"]') : null;
              if (grid && communityBtn && communityBtn.classList.contains('is-active')) {
                applySortMode(grid, 'community');
              }
            });
          });
        });
      });

      document.querySelectorAll('.skills-grid[data-category-id]').forEach((grid) => {
        const categoryId = grid.dataset.categoryId;
        const toolbar = document.querySelector('.sort-toolbar[data-category-id="' + categoryId + '"]');
        if (!toolbar) return;
        bindSortToggle(toolbar, grid);
        applySortMode(grid, 'community');
      });
    });
  </script>
</body>
</html>