<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Cloud file management and collaboration platform">
  <title>fast-io - OpenClaw Directory</title>
  <link rel="canonical" href="https://moltdirectory.com/self-hosted-automation/fast-io/">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü¶û</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
  <script>
    // Apply saved theme before page renders to prevent flash
    (function() {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      if (savedTheme === 'light') {
        document.documentElement.setAttribute('data-theme', 'light');
      }
    })();
  </script>
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <a href="/" class="logo">

        <span class="logo-text">OpenClaw Directory</span>
      </a>
      <nav class="header-links">
        <a href="/start-here/" class="header-link">Start Here</a>
        <a href="/security-auditor" class="header-link">Security Auditor</a>
        <a href="https://github.com/neonone123/moltdirectory/issues/new?template=add-skill.yml" class="header-link" target="_blank" rel="noopener">Add Skill</a>
        <button class="theme-toggle" aria-label="Toggle theme" onclick="toggleTheme()">
          <svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
        </button>
        <a href="https://www.reddit.com/r/OpenClawDirectory/" class="header-link" target="_blank" rel="noopener" aria-label="Community">
          <svg viewBox="0 0 16 16" fill="currentColor" width="28" height="28"><path d="M6.167 8a.83.83 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661m1.843 3.647c.315 0 1.403-.038 1.976-.611a.23.23 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83s.83-.381.83-.83a.831.831 0 0 0-1.66 0z"/><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.2.2 0 0 0-.153.028.2.2 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224q-.03.17-.029.353c0 1.795 2.091 3.256 4.669 3.256s4.668-1.451 4.668-3.256c0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165"/></svg>
        </a>
      </nav>
    </div>
  </header>
  
          <section class="skill-page-header">
            <div class="skill-page-header-inner">
              <a href="/self-hosted-automation/" class="back-link">‚Üê Back to Self-Hosted & Automation</a>
              <div class="skill-page-meta">
                <a href="/self-hosted-automation/" class="skill-page-category">Self-Hosted & Automation</a>
                <span class="skill-page-author">by @dbalve</span>
              </div>
              <h1 class="skill-page-title">fast-io</h1>
              <p class="skill-page-desc">Cloud file management and collaboration platform</p>
              <div class="vote-widget skill-page-vote" data-category-id="self-hosted-automation" data-tool-id="fast-io">
                <button type="button" class="vote-btn" data-vote="1" aria-label="Upvote fast-io">‚ñ≤</button>
                <span class="vote-count">New</span>
                <button type="button" class="vote-btn" data-vote="-1" aria-label="Downvote fast-io">‚ñº</button>
              </div>
            </div>
          </section>
          <div class="skill-page-body">
            <article class="skill-page-content">
              <div class="skill-source-wrapper">
                <div class="skill-source-header">
                  <div class="skill-source-title">Source Code</div>
                  <button class="copy-btn" onclick="copySkillContent(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                    Copy
                  </button>
                </div>
                <div class="markdown-content">
                  <h1>Fast.io MCP Server -- AI Agent Guide</h1>
<p><strong>Version:</strong> 1.54
<strong>Last Updated:</strong> 2026-02-13</p>
<p>The definitive guide for AI agents using the Fast.io MCP server. Covers why and how to use the platform: product capabilities, the free agent plan, authentication, core concepts (workspaces, shares, intelligence, previews, comments, URL import, metadata, ownership transfer), 10 end-to-end workflows, and all 14 consolidated tools with action-based routing.</p>
<blockquote>
<p><strong>Versioned guide.</strong> This guide is versioned and updated with each server release. The version number at the top of this document tracks tool parameters, ID formats, and API behavior changes. If you encounter unexpected errors, the guide version may have changed since you last read it.</p>
</blockquote>
<blockquote>
<p><strong>Platform reference.</strong> For a comprehensive overview of Fast.io&#39;s capabilities, the agent plan, key workflows, and upgrade paths, see <a href="https://github.com/openclaw/skills/blob/main/skills/dbalve/fast-io/references/REFERENCE.md">references/REFERENCE.md</a>.</p>
</blockquote>
<hr>
<h2>1. Overview</h2>
<p><strong>Workspaces for Agentic Teams. Collaborate, share, and query with AI -- all through one API, free.</strong></p>
<p>Fast.io provides workspaces for agentic teams -- where agents collaborate with other agents and with humans. Upload outputs, create branded data rooms, ask questions about documents using built-in AI, and hand everything off to a human when the job is done. No infrastructure to manage, no subscriptions to set up, no credit card required.</p>
<h3>The Problem Fast.io Solves</h3>
<p>Agentic teams -- groups of agents working together and with humans -- need a shared place to work. Today, agents cobble together S3 buckets, presigned URLs, email attachments, and custom download pages. Every agent reinvents collaboration, and there is no shared workspace where agents and humans can see the same files, track activity, and hand off work.</p>
<p>When agents need to <em>understand</em> documents -- not just store them -- they have to download files, parse dozens of formats, build search indexes, and manage their own RAG pipeline. That is a lot of infrastructure for what should be a simple question: &quot;What does this document say?&quot;</p>
<table>
<thead>
<tr>
<th>Problem</th>
<th>Fast.io Solution</th>
</tr>
</thead>
<tbody><tr>
<td>No shared workspace for agentic teams</td>
<td>Workspaces where agents and humans collaborate with file preview, versioning, and AI</td>
</tr>
<tr>
<td>Agent-to-agent coordination lacks structure</td>
<td>Shared workspaces with activity feeds, comments, and real-time sync across team members</td>
</tr>
<tr>
<td>Sharing outputs with humans is awkward</td>
<td>Purpose-built shares (Send, Receive, Exchange) with link sharing, passwords, expiration</td>
</tr>
<tr>
<td>Collecting files from humans is harder</td>
<td>Receive shares let humans upload directly to your workspace -- no email attachments</td>
</tr>
<tr>
<td>Understanding document contents</td>
<td>Built-in AI reads, summarizes, and answers questions about your files</td>
</tr>
<tr>
<td>Building a RAG pipeline from scratch</td>
<td>Enable intelligence on a workspace and files are automatically indexed, summarized, and queryable</td>
</tr>
<tr>
<td>Finding the right file in a large collection</td>
<td>Semantic search finds files by meaning, not just filename</td>
</tr>
<tr>
<td>Handing a project off to a human</td>
<td>One-click ownership transfer -- human gets the org, agent keeps admin access</td>
</tr>
<tr>
<td>Tracking what happened</td>
<td>Full audit trail with AI-powered activity summaries</td>
</tr>
<tr>
<td>Cost</td>
<td>Free. 50 GB storage, 5,000 monthly credits, no credit card</td>
</tr>
</tbody></table>
<h3>MCP Server</h3>
<p>This MCP server exposes 14 consolidated tools that cover the full Fast.io REST API surface. Every authenticated API endpoint has a corresponding tool action, and the server handles session management automatically.</p>
<p>Once a user authenticates, the auth token is stored in the server session and automatically attached to all subsequent API calls. There is no need to pass tokens between tool invocations.</p>
<h3>Server Endpoints</h3>
<ul>
<li><strong>Production:</strong> <code>mcp.fast.io</code></li>
<li><strong>Development:</strong> <code>mcp.fastdev1.com</code></li>
</ul>
<p>Two transports are available on each:</p>
<ul>
<li><strong>Streamable HTTP at <code>/mcp</code></strong> -- the preferred transport for new integrations.</li>
<li><strong>SSE at <code>/sse</code></strong> -- a legacy transport maintained for backward compatibility.</li>
</ul>
<h3>MCP Resources</h3>
<p>The server exposes two MCP resources that clients can read directly via <code>resources/list</code> and <code>resources/read</code>:</p>
<table>
<thead>
<tr>
<th>URI</th>
<th>Name</th>
<th>Description</th>
<th>MIME Type</th>
</tr>
</thead>
<tbody><tr>
<td><code>skill://guide</code></td>
<td>skill-guide</td>
<td>Full agent guide (this document) with all 14 tools, workflows, and platform documentation</td>
<td><code>text/markdown</code></td>
</tr>
<tr>
<td><code>session://status</code></td>
<td>session-status</td>
<td>Current authentication state: <code>authenticated</code> boolean, <code>user_id</code>, <code>user_email</code>, <code>token_expires_at</code> (Unix epoch), <code>token_expires_at_iso</code> (ISO 8601), <code>scopes</code> (array of granted scopes or null), <code>agent_name</code> (string or null)</td>
<td><code>application/json</code></td>
</tr>
</tbody></table>
<h3>MCP Prompts</h3>
<p>The server provides 6 guided prompts for complex, multi-step operations via <code>prompts/list</code> and <code>prompts/get</code>:</p>
<table>
<thead>
<tr>
<th>Prompt</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>get-started</code></td>
<td>Complete onboarding: create account, org, and workspace. Covers new agents, returning users, API key auth, browser login (PKCE), and invited agents.</td>
</tr>
<tr>
<td><code>add-file</code></td>
<td>Add a file from text content, binary upload (with blob staging), or URL import (Google Drive, OneDrive, Dropbox). Helps choose the right method.</td>
</tr>
<tr>
<td><code>ask-ai</code></td>
<td>Guide for AI chat. Explains scoping (folder/file scope vs attachments), intelligence requirements, polling.</td>
</tr>
<tr>
<td><code>comment-conversation</code></td>
<td>Agent-human collaboration via comments on files. Read/write anchored comments (image regions, video timestamps, PDF pages), reply in threads, react with emoji, and construct deep-link URLs so humans land directly on the conversation.</td>
</tr>
<tr>
<td><code>catch-up</code></td>
<td>Understand what happened. AI-powered activity summaries, event search with filters, real-time change monitoring with activity-poll, and the polling loop pattern.</td>
</tr>
<tr>
<td><code>metadata</code></td>
<td>Structured metadata on files. Template setup (create, assign), setting values, AI extraction, querying files by metadata, and version tracking.</td>
</tr>
</tbody></table>
<h3>Additional References</h3>
<ul>
<li><strong>Agent guide (this file):</strong> <code>/skill.md</code> on the MCP server -- tool documentation, workflows, and constraints.</li>
<li><strong>REST API reference:</strong> <code>https://api.fast.io/llms.txt</code> -- endpoint documentation for the underlying Fast.io API.</li>
<li><strong>Platform guide:</strong> <a href="https://github.com/openclaw/skills/blob/main/skills/dbalve/fast-io/references/REFERENCE.md">references/REFERENCE.md</a> -- capabilities, agent plan details, key workflows, and upgrade paths.</li>
</ul>
<hr>
<h2>2. Authentication (Critical First Step)</h2>
<p>Authentication is required before calling any tool except these unauthenticated tools:</p>
<ul>
<li><code>auth</code> with actions: <code>signin</code>, <code>signup</code>, <code>set-api-key</code>, <code>pkce-login</code>, <code>email-check</code>, <code>password-reset-request</code>, <code>password-reset</code></li>
<li><code>download</code> with action: <code>quickshare-details</code></li>
</ul>
<h3>Choosing the Right Approach</h3>
<p>There are three ways to use Fast.io as an agent, depending on whether you are operating autonomously or assisting an existing human user.</p>
<p><strong>Option 1: Autonomous Agent -- Create an Agent Account</strong></p>
<p>If you are operating independently (storing files, running workflows, building workspaces for users), create your own agent account with <code>auth</code> action <code>signup</code>. Agent accounts get the free agent plan (50 GB, 5,000 monthly credits) and can transfer orgs to humans when ready. This is the recommended path for autonomous agents. See <strong>Agent Account Creation</strong> below for steps.</p>
<p><strong>Option 2: Assisting a Human -- Use Their API Key</strong></p>
<p>If a human already has a Fast.io account and wants your help managing their files, workspaces, or shares, they can create an API key for you to use. No separate agent account is needed -- you operate as the human user. The human creates a key at Settings -&gt; Devices &amp; Agents -&gt; API Keys (direct link: <code>https://go.fast.io/settings/api-keys</code>). Call <code>auth</code> with action <code>set-api-key</code> and the key to authenticate -- the key is validated and stored in the session automatically. API keys are a 1:1 replacement for JWT tokens: they work as Bearer tokens with the same permissions as the account owner and do not expire unless revoked. Agents can also manage API keys programmatically with <code>auth</code> actions <code>api-key-create</code>, <code>api-key-list</code>, and <code>api-key-delete</code>.</p>
<p><strong>Option 3: Agent Account Invited to a Human&#39;s Org</strong></p>
<p>If you want your own agent identity but need to work within a human&#39;s existing organization, create an agent account with <code>auth</code> action <code>signup</code>, then have the human invite you to their org with <code>member</code> action <code>add</code> (entity_type <code>org</code>) or to a workspace with <code>member</code> action <code>add</code> (entity_type <code>workspace</code>). Alternatively the human can invite via the UI: Settings -&gt; Your Organization -&gt; Manage People. This gives you access to their workspaces and shares while keeping your own account separate. After accepting invitations with <code>user</code> action <code>accept-all-invitations</code>, use <code>auth</code> action <code>signin</code> to authenticate normally. <strong>Note:</strong> If the human only invites you to a workspace (not the org), the org will appear as external -- see <strong>Internal vs External Orgs</strong> in the Organizations section.</p>
<p><strong>Option 4: Browser Login (PKCE)</strong></p>
<p>If you prefer not to send a password through the agent, use browser-based PKCE login. Call <code>auth</code> action <code>pkce-login</code> (optionally with an <code>email</code> hint) to get a login URL. The user opens the URL in a browser, signs in (email/password or SSO like Google/Microsoft), and approves access. The browser displays an authorization code which the user copies back to the agent. Call <code>auth</code> action <code>pkce-complete</code> with the code to finish signing in. This is the most secure option -- no credentials pass through the agent.</p>
<p>PKCE login supports optional <strong>scoped access</strong> via the <code>scope_type</code> parameter. By default, <code>scope_type</code> is <code>&quot;user&quot;</code> (full account access). Other scope types restrict the token to specific entity types:</p>
<table>
<thead>
<tr>
<th>scope_type</th>
<th>Access granted</th>
</tr>
</thead>
<tbody><tr>
<td><code>user</code></td>
<td>Full account access (default)</td>
</tr>
<tr>
<td><code>org</code></td>
<td>User selects specific organizations</td>
</tr>
<tr>
<td><code>workspace</code></td>
<td>User selects specific workspaces</td>
</tr>
<tr>
<td><code>all_orgs</code></td>
<td>All organizations the user belongs to</td>
</tr>
<tr>
<td><code>all_workspaces</code></td>
<td>All workspaces the user has access to</td>
</tr>
<tr>
<td><code>all_shares</code></td>
<td>All shares the user is a member of (<code>share:*:&lt;mode&gt;</code>)</td>
</tr>
</tbody></table>
<p><strong>Scope inheritance:</strong> Broader scopes include access to child entities automatically:</p>
<ul>
<li><code>all_orgs</code> includes all orgs + all workspaces + all shares within those orgs</li>
<li><code>all_workspaces</code> includes all workspaces + all shares within those workspaces</li>
<li><code>org</code> scope on a specific org includes access to all workspaces and shares within that org</li>
<li><code>workspace</code> scope on a specific workspace includes access to shares within that workspace</li>
<li><code>all_shares</code> grants direct access to all shares the user has membership in, bypassing workspace/org inheritance</li>
</ul>
<p>The <code>agent_name</code> parameter controls what the user sees on the approval screen -- the screen displays &quot;<strong>[agent_name]</strong> will act on your behalf&quot;. If omitted, only the client name is shown. Use a descriptive name so the user knows which agent is requesting access.</p>
<p><strong>Approval flow by scope_type:</strong></p>
<ul>
<li><strong><code>user</code></strong> (default): Full account access. The user sees a simple approve/decline prompt with no entity picker.</li>
<li><strong><code>org</code></strong>, <strong><code>workspace</code></strong>: The user sees an entity selection screen listing their accessible entities with checkboxes, plus a read-only / read-write toggle. The user picks which entities to grant, then approves or declines.</li>
<li><strong><code>all_orgs</code></strong>, <strong><code>all_workspaces</code></strong>, <strong><code>all_shares</code></strong>: The user sees a summary of the wildcard access being requested (no entity picker), then approves or declines.</li>
</ul>
<p>The MCP server defaults to <code>scope_type=&quot;user&quot;</code> for backward compatibility.</p>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>Recommended Approach</th>
</tr>
</thead>
<tbody><tr>
<td>Operating autonomously, storing files, building for users</td>
<td>Create an agent account with your own org (Option 1)</td>
</tr>
<tr>
<td>Helping a human manage their existing account</td>
<td>Ask the human to create an API key for you (Option 2)</td>
</tr>
<tr>
<td>Working within a human&#39;s org with your own identity</td>
<td>Create an agent account, have the human invite you (Option 3)</td>
</tr>
<tr>
<td>Building something to hand off to a human</td>
<td>Create an agent account, build it, then transfer the org (Option 1)</td>
</tr>
<tr>
<td>Signing in without sending a password through the agent</td>
<td>Browser-based PKCE login (Option 4)</td>
</tr>
</tbody></table>
<p><strong>Credit limits by account type:</strong> Agent accounts (Options 1, 3) can transfer orgs to humans when credits run out -- see Ownership Transfer in section 3. Human accounts (Option 2) cannot use the transfer/claim API; direct the human to upgrade their plan at <code>https://go.fast.io/settings/billing</code> or via <code>org</code> action <code>billing-create</code>.</p>
<h3>Standard Sign-In Flow</h3>
<ol>
<li>Call <code>auth</code> with action <code>signin</code>, <code>email</code> and <code>password</code>.</li>
<li>The server returns a JWT <code>auth_token</code> and stores it in the session automatically.</li>
<li>All subsequent tool calls use this token without any manual passing.</li>
</ol>
<h3>Agent Account Creation</h3>
<p>When creating a new account (Options 1 and 3 above), agents <strong>MUST</strong> use <code>auth</code> action <code>signup</code> which automatically registers with <code>agent=true</code>. Never sign up as a human account. Agent accounts provide:</p>
<ul>
<li><code>account_type</code> set to <code>&quot;agent&quot;</code></li>
<li>Free agent plan assigned automatically</li>
<li>Transfer/claim workflow enabled for handing orgs off to humans</li>
</ul>
<p><strong>Steps:</strong></p>
<ol>
<li>Optionally call <code>auth</code> action <code>email-check</code> with the desired <code>email</code> to verify it is available for registration before attempting signup.</li>
<li>Call <code>auth</code> action <code>signup</code> with <code>first_name</code>, <code>last_name</code>, <code>email</code>, and <code>password</code>. The <code>agent=true</code> flag is sent automatically by the MCP server.</li>
<li>The account is created and a session is established automatically -- the agent is signed in immediately.</li>
<li><strong>Verify your email</strong> (required before using most endpoints): Call <code>auth</code> action <code>email-verify</code> with <code>email</code> to send a verification code, then call <code>auth</code> action <code>email-verify</code> again with <code>email</code> and <code>email_token</code> to validate the code.</li>
<li>No credit card is required. No trial period. No expiration. The account persists indefinitely.</li>
</ol>
<h3>Two-Factor Authentication Flow</h3>
<ol>
<li>Call <code>auth</code> action <code>signin</code> with <code>email</code> and <code>password</code>.</li>
<li>If the response includes <code>two_factor_required: true</code>, the returned token has limited scope.</li>
<li>Call <code>auth</code> action <code>2fa-verify</code> with the 2FA <code>code</code> (TOTP, SMS, or WhatsApp).</li>
<li>The server replaces the limited-scope token with a full-scope token automatically.</li>
</ol>
<h3>Browser Login (PKCE) Flow</h3>
<ol>
<li>Call <code>auth</code> action <code>pkce-login</code> (optionally with <code>email</code> to pre-fill the sign-in form, <code>scope_type</code> to request scoped access, and <code>agent_name</code> to identify the agent).</li>
<li>The tool returns a <code>login_url</code> -- present it to the user to open in a browser.</li>
<li>The user signs in (email/password or SSO).</li>
<li>The user sees the approval screen showing the <code>agent_name</code> (or client name if not provided). Depending on <code>scope_type</code>: for <code>user</code> they simply approve; for <code>org</code>/<code>workspace</code> they select specific entities and read-only/read-write access; for <code>all_orgs</code>/<code>all_workspaces</code>/<code>all_shares</code> they review the wildcard access summary.</li>
<li>The user clicks Approve. The browser displays an authorization code. The user copies it.</li>
<li>Call <code>auth</code> action <code>pkce-complete</code> with the <code>code</code> to exchange it for an access token.</li>
<li>The session is established automatically -- all subsequent tool calls are authenticated. If scoped access was granted, <code>scopes</code> and <code>agent_name</code> are included in the response and stored in the session.</li>
</ol>
<h3>Checking Session Status</h3>
<ul>
<li><code>auth</code> action <code>status</code> -- checks the local Durable Object session. No API call is made. Returns authentication state, user ID, email, token expiry, scopes, and agent_name.</li>
<li><code>auth</code> action <code>check</code> -- validates the token against the Fast.io API. Returns the user ID if the token is still valid.</li>
</ul>
<h3>Session Expiry</h3>
<p>JWT tokens last <strong>1 hour</strong>. API keys (used when assisting a human) do not expire unless revoked. When a JWT session expires, tool calls return a clear error indicating that re-authentication is needed. Call <code>auth</code> action <code>signin</code> again to establish a new session. The MCP server does not auto-refresh tokens.</p>
<p><strong>Tip:</strong> For long-running sessions, use <code>auth</code> action <code>status</code> to check remaining token lifetime before starting a multi-step workflow. If the token is close to expiring, re-authenticate first to avoid mid-workflow interruptions.</p>
<h3>Signing Out</h3>
<p>Call <code>auth</code> action <code>signout</code> to clear the stored session from the Durable Object.</p>
<hr>
<h2>3. Core Concepts</h2>
<h3>Organizations</h3>
<p>Organizations are top-level containers that collect workspaces. An organization can represent a company, a business unit, a team, or simply your own personal collection. Every user belongs to one or more organizations. Organizations have:</p>
<ul>
<li><strong>Workspaces</strong> ‚Äî the file storage containers that belong to the organization.</li>
<li><strong>Members</strong> with roles: owner, admin, member, guest, view.</li>
<li><strong>Billing and subscriptions</strong> managed through Stripe integration.</li>
<li><strong>Plan limits</strong> that govern storage, transfer, AI tokens, and member counts.</li>
</ul>
<p>Organizations are identified by a 19-digit numeric profile ID or a domain string.</p>
<p><strong>IMPORTANT:</strong> When creating orgs, agents MUST use <code>org</code> action <code>create</code> which automatically assigns <code>billing_plan: &quot;agent&quot;</code>. This ensures the org gets the free agent plan (50 GB, 5,000 credits/month). Do not use any other billing plan for agent-created organizations.</p>
<h4>Org Discovery (IMPORTANT)</h4>
<p>To discover all available orgs, agents <strong>must call both actions</strong>:</p>
<ol>
<li><code>org</code> action <code>list</code> -- returns internal orgs where you are a direct member (<code>member: true</code>)</li>
<li><code>org</code> action <code>discover-external</code> -- returns external orgs you access via workspace membership only (<code>member: false</code>)</li>
</ol>
<p><strong>An agent that only checks <code>org</code> action <code>list</code> will miss external orgs entirely and won&#39;t discover the workspaces it&#39;s been invited to.</strong> External orgs are the most common pattern when a human invites an agent to help with a specific project -- they add the agent to a workspace but not to the org itself.</p>
<h4>Internal vs External Orgs</h4>
<p><strong>Internal orgs</strong> (<code>member: true</code>) -- orgs you created or were invited to join as a member. You have org-level access: you can see all workspaces (subject to permissions), manage settings if you&#39;re an admin, and appear in the org&#39;s member list.</p>
<p><strong>External orgs</strong> (<code>member: false</code>) -- orgs you can access only through workspace membership. You can see the org&#39;s name and basic public info, but you cannot manage org settings, see other workspaces, or add members at the org level. Your access is limited to the specific workspaces you were explicitly invited to.</p>
<p><strong>Example:</strong> A human invites your agent to their &quot;Q4 Reports&quot; workspace. You can upload files, run AI queries, and collaborate in that workspace. But you cannot create new workspaces in their org, view their billing, or access their other workspaces. The org shows up via <code>org</code> action <code>discover-external</code> -- not <code>org</code> action <code>list</code>. If the human later invites you to the org itself, the org moves from external to internal.</p>
<h3>Workspaces</h3>
<p>Workspaces are file storage containers within organizations. Each workspace has:</p>
<ul>
<li>Its own set of <strong>members</strong> with roles (owner, admin, member, guest).</li>
<li>A <strong>storage tree</strong> of files and folders (storage nodes).</li>
<li>Optional <strong>AI features</strong> for RAG-powered chat.</li>
<li><strong>Shares</strong> that can be created within the workspace.</li>
<li><strong>Archive/unarchive</strong> lifecycle management.</li>
<li><strong>50 GB included storage</strong> on the free agent plan, with files up to 1 GB per upload.</li>
<li><strong>File versioning</strong> -- every edit creates a new version, old versions are recoverable.</li>
<li><strong>Full-text and semantic search</strong> -- find files by name, content, or meaning.</li>
</ul>
<p>Workspaces are identified by a 19-digit numeric profile ID.</p>
<h4>Intelligence: On or Off</h4>
<p>Workspaces have an <strong>intelligence</strong> toggle that controls whether AI features are active:</p>
<p><strong>Intelligence OFF</strong> -- the workspace is pure file storage. You can still attach files directly to an AI chat conversation (up to 20 files, 200 MB total), but files are not persistently indexed. This is fine for simple storage and sharing where you do not need to query your content.</p>
<p><strong>Intelligence ON</strong> -- the workspace becomes an AI-powered knowledge base. Every file uploaded is automatically ingested, summarized, and indexed. This enables:</p>
<ul>
<li><strong>RAG (retrieval-augmented generation)</strong> -- scope AI chat to entire folders or the full workspace and ask questions across all your content. The AI retrieves relevant passages and answers with citations.</li>
<li><strong>Semantic search</strong> -- find files by meaning, not just keywords. &quot;Show me contracts with indemnity clauses&quot; works even if those exact words do not appear in the filename.</li>
<li><strong>Auto-summarization</strong> -- short and long summaries generated for every file, searchable and visible in the UI.</li>
<li><strong>Metadata extraction</strong> -- AI pulls key metadata from documents automatically.</li>
</ul>
<p>Intelligence defaults to ON for workspaces created via the API by agent accounts. If the workspace is only used for file storage and sharing, disable it to conserve credits. If you need to query your content, leave it enabled.</p>
<p><strong>Agent use case:</strong> Create a workspace per project or client. Enable intelligence if you need to query the content later. Upload reports, datasets, and deliverables. Invite other agents and human stakeholders. Everything is organized, searchable, and versioned.</p>
<p>For full details on AI chat types, file context modes, AI state, and how intelligence affects them, see the <strong>AI Chat</strong> section below.</p>
<h3>Shares</h3>
<p>Shares are purpose-built spaces for exchanging files with people outside your workspace. They can exist within workspaces and have three types:</p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>What It Does</th>
<th>Agent Use Case</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Send</strong></td>
<td>Recipients can download files</td>
<td>Deliver reports, exports, generated content</td>
</tr>
<tr>
<td><strong>Receive</strong></td>
<td>Recipients can upload files</td>
<td>Collect documents, datasets, user submissions</td>
</tr>
<tr>
<td><strong>Exchange</strong></td>
<td>Both upload and download</td>
<td>Collaborative workflows, review cycles</td>
</tr>
</tbody></table>
<h4>Share Features</h4>
<ul>
<li><strong>Password protection</strong> -- require a password for link access</li>
<li><strong>Expiration dates</strong> -- shares auto-expire after a set period</li>
<li><strong>Download controls</strong> -- enable or disable file downloads</li>
<li><strong>Access levels</strong> -- Members Only, Org Members, Registered Users, or Public (anyone with the link)</li>
<li><strong>Custom branding</strong> -- background images, gradient colors, accent colors, logos</li>
<li><strong>Post-download messaging</strong> -- show custom messages and links after download</li>
<li><strong>Up to 3 custom links</strong> per share for context or calls-to-action</li>
<li><strong>Guest chat</strong> -- let share recipients ask questions in real-time</li>
<li><strong>AI-powered auto-titling</strong> -- shares automatically generate smart titles from their contents</li>
<li><strong>Activity notifications</strong> -- get notified when files are sent or received</li>
<li><strong>Comment controls</strong> -- configure who can see and post comments (owners, guests, or both)</li>
</ul>
<h4>Two Storage Modes</h4>
<p>When creating a share with <code>share</code> action <code>create</code>, the <code>storage_mode</code> parameter determines how files are stored:</p>
<ul>
<li><p><strong><code>room</code></strong> (independent storage, default) -- The share has its own isolated storage. Files are added directly to the share and are independent of any workspace. This creates a self-contained data room -- changes to workspace files do not affect the room, and vice versa. Use for final deliverables, compliance packages, archived reports, or any scenario where you want an immutable snapshot.</p>
</li>
<li><p><strong><code>shared_folder</code></strong> (workspace-backed) -- The share is backed by a specific folder in a workspace. The share displays the live contents of that folder -- any files added, updated, or removed in the workspace folder are immediately reflected in the share. No file duplication, so no extra storage cost. To create a shared folder, pass <code>storage_mode=shared_folder</code> and <code>folder_node_id={folder_opaque_id}</code> when creating the share. <strong>Note:</strong> Expiration dates are not allowed on shared folder shares since the content is live.</p>
</li>
</ul>
<p>Both modes look the same to share recipients -- a branded data room with file preview, download controls, and all share features. The difference is whether the content is a snapshot (room) or a live view (shared folder).</p>
<p>Shares are identified by a 19-digit numeric profile ID.</p>
<p><strong>Agent use case:</strong> Generate a quarterly report, create a Send share with your client&#39;s branding, set a 30-day expiration, and share the link. The client sees a professional, branded page with instant file preview -- not a raw download link.</p>
<h3>Storage Nodes</h3>
<p>Files and folders are represented as storage nodes. Each node has an opaque ID (a 30-character alphanumeric string, displayed with hyphens, e.g. <code>f3jm5-zqzfx-pxdr2-dx8z5-bvnb3-rpjfm4</code>). The special value <code>root</code> refers to the root folder of a workspace or share, and <code>trash</code> refers to the trash folder.</p>
<p>Key operations on storage nodes: list, create-folder, move, copy, rename, delete (moves to trash), purge (permanently deletes), restore (recovers from trash), search, add-file (link an upload), and add-link (create a share reference).</p>
<p>Nodes have versions. Each file modification creates a new version. Version history can be listed and files can be restored to previous versions.</p>
<h3>Notes</h3>
<p>Notes are a storage node type (alongside files and folders) that store markdown content directly on the server. They live in the same folder hierarchy as files, are versioned like any other node, and appear in storage listings with <code>type: &quot;note&quot;</code>.</p>
<h4>Creating and Updating Notes</h4>
<p>Create notes with <code>workspace</code> action <code>create-note</code> and update with <code>workspace</code> action <code>update-note</code>.</p>
<p><strong>Creating:</strong> Provide <code>workspace_id</code>, <code>parent_id</code> (folder opaque ID or <code>&quot;root&quot;</code>), <code>name</code> (must end in <code>.md</code>, max 100 characters), and <code>content</code> (markdown text, max 100 KB).</p>
<p><strong>Updating:</strong> Provide <code>workspace_id</code>, <code>node_id</code>, and at least one of <code>name</code> (must end in <code>.md</code>) or <code>content</code> (max 100 KB).</p>
<table>
<thead>
<tr>
<th>Constraint</th>
<th>Limit</th>
</tr>
</thead>
<tbody><tr>
<td>Content size</td>
<td>100 KB max</td>
</tr>
<tr>
<td>Filename</td>
<td>1-100 characters, must end in <code>.md</code></td>
</tr>
<tr>
<td>Markdown validation</td>
<td>Code blocks and emphasis markers must be balanced</td>
</tr>
<tr>
<td>Rate limit</td>
<td>2 per 10s, 5 per 60s</td>
</tr>
</tbody></table>
<h4>Notes as Long-Term Knowledge Grounding</h4>
<p>In an intelligent workspace, notes are automatically ingested and indexed just like uploaded files. This makes notes a way to bank knowledge over time -- any facts, context, or decisions stored in notes become grounding material for future AI queries.</p>
<p>When an AI chat uses folder scope (or defaults to the entire workspace), notes within that scope are searched alongside files. The AI retrieves relevant passages from notes and cites them in answers.</p>
<p>Key behaviors:</p>
<ul>
<li>Notes are ingested for RAG when workspace intelligence is enabled</li>
<li>Notes within a folder scope are included in scoped queries</li>
<li>Notes with <code>ai_state: ready</code> are searchable via RAG</li>
<li>Notes can also be attached directly to a chat via <code>files_attach</code> (if they have a ready preview)</li>
</ul>
<p><strong>Use cases:</strong></p>
<ul>
<li>Store project context, decisions, and rationale. Months later, ask &quot;Why did we choose vendor X?&quot; and the AI retrieves the note.</li>
<li>Save research findings in a note. Future AI chats automatically use those findings as grounding.</li>
<li>Create reference documents (style guides, naming conventions) that inform all future AI queries in the workspace.</li>
</ul>
<h4>Other Note Operations</h4>
<p>Notes support the same storage operations as files and folders: move (via <code>storage</code> action <code>move</code>), copy (<code>storage</code> action <code>copy</code>), delete/trash (<code>storage</code> action <code>delete</code>), restore (<code>storage</code> action <code>restore</code>), version history (<code>storage</code> action <code>version-list</code>), and details (<code>storage</code> action <code>details</code>).</p>
<h4>Linking Users to Notes</h4>
<ul>
<li><strong>Note in workspace context</strong> (opens workspace with note panel): <code>https://{domain}.fast.io/workspace/{folder_name}/storage/root?note={note_id}</code></li>
<li><strong>Note preview</strong> (standalone view): <code>https://{domain}.fast.io/workspace/{folder_name}/preview/{note_id}</code></li>
</ul>
<h3>AI Chat</h3>
<p>AI chat lets agents ask questions about files stored in workspaces and shares. Two chat types are available, each with different file context options.</p>
<p><strong>AI chat is read-only.</strong> It can read, analyze, search, and answer questions about file contents, but it cannot modify files, change workspace settings, manage members, or access events. Any action beyond reading file content ‚Äî uploading, deleting, moving files, changing settings, managing shares, reading events ‚Äî must be done through the MCP tools directly. Do not attempt to use AI chat as a general-purpose tool for workspace management.</p>
<h4>Two Chat Types</h4>
<ul>
<li><strong><code>chat</code></strong> ‚Äî Basic AI conversation with no file context from the workspace index. Use for general questions only.</li>
<li><strong><code>chat_with_files</code></strong> ‚Äî AI grounded in your files. Two mutually exclusive modes for providing file context:<ul>
<li><strong>Folder/file scope (RAG)</strong> ‚Äî limits the retrieval search space. Requires intelligence enabled; files must be in <code>ready</code> AI state.</li>
<li><strong>File attachments</strong> ‚Äî files read directly by the AI. No intelligence required; files must have a ready preview. Max 20 files, 200 MB total.</li>
</ul>
</li>
</ul>
<p>Both types augment answers with web knowledge when relevant.</p>
<h4>File Context: Scope vs Attachments</h4>
<p>For <code>chat_with_files</code>, choose one of these mutually exclusive approaches:</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Folder/File Scope (RAG)</th>
<th>File Attachments</th>
</tr>
</thead>
<tbody><tr>
<td>How it works</td>
<td>Limits RAG search space</td>
<td>Files read directly by AI</td>
</tr>
<tr>
<td>Requires intelligence</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>File readiness requirement</td>
<td><code>ai_state: ready</code></td>
<td>Ready preview</td>
</tr>
<tr>
<td>Best for</td>
<td>Many files, knowledge retrieval</td>
<td>Specific files, direct analysis</td>
</tr>
<tr>
<td>Max references</td>
<td>100 folder refs (subfolder tree expansion) or 100 file refs</td>
<td>20 files / 200 MB</td>
</tr>
<tr>
<td>Default (no scope given)</td>
<td>Entire workspace</td>
<td>N/A</td>
</tr>
</tbody></table>
<p><strong>Scope parameters</strong> (requires intelligence):</p>
<ul>
<li><code>folders_scope</code> ‚Äî comma-separated <code>nodeId:depth</code> pairs (depth 1-10, max 100 subfolder refs). Defines a search boundary ‚Äî the RAG backend finds files within scoped folders automatically. Just pass folder IDs with depth; do not enumerate individual files. A folder with thousands of files and few subfolders works fine.</li>
<li><code>files_scope</code> ‚Äî comma-separated <code>nodeId:versionId</code> pairs (max 100). Limits RAG to specific indexed files. Both <code>nodeId</code> AND <code>versionId</code> are required and must be non-empty ‚Äî get <code>versionId</code> from the file&#39;s <code>version</code> field in <code>storage</code> action <code>list</code> or <code>details</code> responses.</li>
<li><strong>If neither is specified, the default scope is the entire workspace (all indexed files).</strong> This is the recommended default ‚Äî omit scope parameters unless you specifically need to narrow the search.</li>
</ul>
<p><strong>Attachment parameter</strong> (no intelligence required):</p>
<ul>
<li><code>files_attach</code> ‚Äî comma-separated <code>nodeId:versionId</code> pairs (max 20, 200 MB total). Both <code>nodeId</code> AND <code>versionId</code> are required and must be non-empty. Files are read directly, not via RAG.</li>
</ul>
<p><strong>Do not</strong> list folder contents and pass individual file IDs as <code>files_scope</code> when you mean to search a folder ‚Äî use <code>folders_scope</code> with the folder&#39;s nodeId instead. <code>files_scope</code> is only for targeting specific known file versions.</p>
<p><code>files_scope</code>/<code>folders_scope</code> and <code>files_attach</code> are mutually exclusive ‚Äî sending both will error.</p>
<h4>Intelligence and AI State</h4>
<p>The workspace intelligence toggle (see Workspaces above) controls whether uploaded files are auto-ingested, summarized, and indexed for RAG. When intelligence is enabled, each file has an <code>ai_state</code> indicating its readiness:</p>
<table>
<thead>
<tr>
<th>State</th>
<th>Meaning</th>
</tr>
</thead>
<tbody><tr>
<td><code>disabled</code></td>
<td>AI processing disabled for this file</td>
</tr>
<tr>
<td><code>pending</code></td>
<td>Queued for processing</td>
</tr>
<tr>
<td><code>in_progress</code></td>
<td>Currently being ingested and indexed</td>
</tr>
<tr>
<td><code>ready</code></td>
<td>Complete ‚Äî available for folder/file scope queries</td>
</tr>
<tr>
<td><code>failed</code></td>
<td>Processing failed</td>
</tr>
</tbody></table>
<p>Only files with <code>ai_state: ready</code> are included in folder/file scope searches. Check file state via <code>storage</code> action <code>details</code> with <code>context_type: &quot;workspace&quot;</code>.</p>
<p><strong>When to enable intelligence:</strong> You need scoped RAG queries, cross-file search, auto-summarization, or a persistent knowledge base.</p>
<p><strong>When to disable intelligence:</strong> The workspace is for storage/sharing only, or you only need to analyze specific files via attachments. Saves credits (ingestion costs 10 credits/page, 5 credits/sec for video).</p>
<p>Even with intelligence off, <code>chat_with_files</code> with file attachments still works.</p>
<h4>How to Phrase Questions</h4>
<p><strong>With folder/file scope (RAG):</strong> Write questions likely to match content in indexed files. The AI searches the scope, retrieves passages, and cites them.</p>
<ul>
<li>Good: &quot;What are the payment terms in the vendor contracts?&quot;</li>
<li>Good: &quot;Summarize the key findings from the Q3 analysis reports&quot;</li>
<li>Bad: &quot;Tell me about these files&quot; ‚Äî too vague, no specific content to match</li>
<li>Bad: &quot;What&#39;s in this workspace?&quot; ‚Äî cannot meaningfully search for &quot;everything&quot;</li>
</ul>
<p><strong>With file attachments:</strong> Be direct ‚Äî the AI reads the full file content. No retrieval step.</p>
<ul>
<li>&quot;Describe this image in detail&quot;</li>
<li>&quot;Extract all dates and amounts from this invoice&quot;</li>
<li>&quot;Convert this CSV data into a summary table&quot;</li>
</ul>
<p><strong>Personality:</strong> The <code>personality</code> parameter controls the tone and length of AI responses. Pass it when creating a chat or sending a message:</p>
<ul>
<li><code>concise</code> ‚Äî short, brief answers</li>
<li><code>detailed</code> ‚Äî comprehensive answers with context and evidence (default)</li>
</ul>
<p>Use <code>concise</code> when you need a quick fact, a yes/no answer, or a brief summary. Use <code>detailed</code> (or omit the parameter) when you need thorough analysis with supporting evidence and citations. The personality can also be overridden per follow-up message.</p>
<p><strong>Controlling verbosity in questions:</strong> You can also guide verbosity through how you phrase the question itself:</p>
<ul>
<li>&quot;In one sentence, what is the main conclusion of this report?&quot;</li>
<li>&quot;List only the file names that mention GDPR compliance, no explanations&quot;</li>
<li>&quot;Give me a brief summary ‚Äî 2-3 bullet points max&quot;</li>
</ul>
<p>Combining <code>personality: &quot;concise&quot;</code> with a direct question produces the shortest answers and uses the fewest AI credits.</p>
<h4>Chat Parameters</h4>
<p>Create a chat with <code>ai</code> action <code>chat-create</code> (with <code>context_type: &quot;workspace&quot;</code>) or <code>ai</code> action <code>chat-create</code> (with <code>context_type: &quot;share&quot;</code>):</p>
<ul>
<li><code>type</code> (required) ‚Äî <code>chat</code> or <code>chat_with_files</code></li>
<li><code>query_text</code> (required for workspace, optional for share) ‚Äî initial message, 2-12,768 characters</li>
<li><code>personality</code> (optional) ‚Äî <code>concise</code> or <code>detailed</code> (default: <code>detailed</code>)</li>
<li><code>privacy</code> (optional) ‚Äî <code>private</code> or <code>public</code> (default: <code>public</code>)</li>
<li><code>files_scope</code> (optional) ‚Äî <code>nodeId:versionId,...</code> (max 100, requires <code>chat_with_files</code> + intelligence). Both parts required and non-empty. <strong>Omit to search all files (recommended default).</strong></li>
<li><code>folders_scope</code> (optional) ‚Äî <code>nodeId:depth,...</code> (depth 1-10, max 100 subfolder refs, requires <code>chat_with_files</code> + intelligence). Folder scope = search boundary, not file enumeration. <strong>Omit to search all files (recommended default).</strong></li>
<li><code>files_attach</code> (optional) ‚Äî <code>nodeId:versionId,...</code> (max 20 / 200 MB, both parts required and non-empty, mutually exclusive with scope params)</li>
</ul>
<h4>Follow-up Messages</h4>
<p>Send follow-ups with <code>ai</code> action <code>message-send</code> (with <code>context_type: &quot;workspace&quot;</code> or <code>&quot;share&quot;</code>). The chat type is inherited from the parent chat. Each follow-up can update the scope, attachment, and personality parameters.</p>
<h4>Waiting for AI Responses</h4>
<p>After creating a chat or sending a message, the AI response is asynchronous. Message states progress: <code>ready</code> ‚Üí <code>in_progress</code> ‚Üí <code>complete</code> (or <code>errored</code>).</p>
<p><strong>Recommended:</strong> Call <code>ai</code> action <code>message-read</code> (with <code>context_type: &quot;workspace&quot;</code> or <code>&quot;share&quot;</code>) with the returned <code>message_id</code>. The tool polls automatically (up to 15 attempts, 2-second intervals, ~30 seconds). If the response is still processing after that window, use <code>event</code> action <code>activity-poll</code> with the workspace/share ID instead of calling the read action in a loop ‚Äî see Activity Polling in section 7.</p>
<h4>Response Citations</h4>
<p>Completed AI responses include citations pointing to source files:</p>
<ul>
<li><code>nodeId</code> ‚Äî storage node opaque ID</li>
<li><code>versionId</code> ‚Äî file version opaque ID</li>
<li><code>entries[].page</code> ‚Äî page number</li>
<li><code>entries[].snippet</code> ‚Äî text excerpt</li>
<li><code>entries[].timestamp</code> ‚Äî audio/video timestamp</li>
</ul>
<h4>Linking Users to AI Chats</h4>
<p>Append <code>?chat={chat_opaque_id}</code> to the workspace storage URL:</p>
<p><code>https://{domain}.fast.io/workspace/{folder_name}/storage/root?chat={chat_id}</code></p>
<h4>Share AI Chats</h4>
<p>Shares support AI chat with identical capabilities. All workspace AI endpoints have share equivalents accessible via <code>ai</code> actions with <code>context_type: &quot;share&quot;</code>.</p>
<h3>AI Share / Export</h3>
<p>Generate temporary markdown-formatted download URLs for files that can be pasted into external AI tools (ChatGPT, Claude, etc.). Use <code>ai</code> action <code>share-generate</code> (with <code>context_type: &quot;workspace&quot;</code> or <code>&quot;share&quot;</code>). URLs expire after 5 minutes. Limits: 25 files maximum, 50 MB per file, 100 MB total.</p>
<h3>Profile IDs</h3>
<p>Organizations, workspaces, and shares are all identified by 19-digit numeric profile IDs. These appear throughout the tool parameters as <code>workspace_id</code>, <code>share_id</code>, <code>org_id</code>, <code>profile_id</code>, and <code>member_id</code>.</p>
<p>Most endpoints also accept custom names as identifiers:</p>
<table>
<thead>
<tr>
<th>Profile Type</th>
<th>Numeric ID</th>
<th>Custom Name</th>
</tr>
</thead>
<tbody><tr>
<td>Workspace</td>
<td>19-digit ID</td>
<td>Folder name (e.g., <code>my-project</code>)</td>
</tr>
<tr>
<td>Share</td>
<td>19-digit ID</td>
<td>URL name (e.g., <code>q4-financials</code>)</td>
</tr>
<tr>
<td>Organization</td>
<td>19-digit ID</td>
<td>Domain name (e.g., <code>acme</code>)</td>
</tr>
<tr>
<td>User</td>
<td>19-digit ID</td>
<td>Email address (e.g., <code>user@example.com</code>)</td>
</tr>
</tbody></table>
<h3>QuickShares</h3>
<p>QuickShares are temporary public download links for individual files in workspaces (not available for shares). They can be accessed without authentication. Expires in seconds from creation (default 10,800 = 3 hours, max 86,400 = 24 hours). Max file size: 1 GB. Each quickshare has an opaque identifier used to retrieve metadata and download the file.</p>
<h3>File Preview</h3>
<p>Files uploaded to Fast.io get automatic preview generation. When humans open a share or workspace, they see the content immediately -- no &quot;download and open in another app&quot; friction.</p>
<p>Supported preview formats:</p>
<ul>
<li><strong>Images</strong> -- full-resolution with auto-rotation and zoom</li>
<li><strong>Video</strong> -- HLS adaptive streaming (50--60% faster load than raw video)</li>
<li><strong>Audio</strong> -- interactive waveform visualization</li>
<li><strong>PDF</strong> -- page navigation, zoom, text selection</li>
<li><strong>Spreadsheets</strong> -- grid navigation with multi-sheet support</li>
<li><strong>Code and text</strong> -- syntax highlighting, markdown rendering</li>
</ul>
<p>Use <code>storage</code> action <code>preview-url</code> (with <code>context_type: &quot;workspace&quot;</code> or <code>&quot;share&quot;</code>) to generate preview URLs. Use <code>storage</code> action <code>preview-transform</code> (with <code>context_type: &quot;workspace&quot;</code> or <code>&quot;share&quot;</code>) for image resize, crop, and format conversion.</p>
<p><strong>Agent use case:</strong> Your generated PDF report does not just appear as a download link. The human sees it rendered inline, can flip through pages, zoom in, and comment on specific sections -- all without leaving the browser.</p>
<h3>Comments and Annotations</h3>
<p>Humans and agents can leave feedback directly on files, anchored to specific content using the <code>reference</code> parameter:</p>
<ul>
<li><strong>Image comments</strong> -- anchored to spatial regions (normalized x/y/width/height coordinates)</li>
<li><strong>Video comments</strong> -- anchored to timestamps with spatial region selection</li>
<li><strong>Audio comments</strong> -- anchored to timestamps or time ranges</li>
<li><strong>PDF comments</strong> -- anchored to specific pages with optional text snippet selection</li>
<li><strong>Threaded replies</strong> -- single-level threading only; replies to replies are auto-flattened to the parent</li>
<li><strong>Emoji reactions</strong> -- one reaction per user per comment; adding a new reaction replaces the previous one</li>
<li><strong>Mention tags</strong> -- reference users and files inline using bracket syntax: <code>@[profile:id]</code>, <code>@[user:opaqueId:Display Name]</code>, <code>@[file:fileId:filename.ext]</code>. Get IDs from member lists, user details, or storage listings. The display name segment is optional for profile tags but recommended for user and file tags</li>
</ul>
<p>Comments use JSON request bodies (<code>Content-Type: application/json</code>), unlike most other endpoints which use form-encoded data.</p>
<p><strong>Listing comments:</strong> Use <code>comment</code> action <code>list</code> for per-file comments and <code>comment</code> action <code>list-all</code> for all comments across a workspace or share. Both support <code>sort</code>, <code>limit</code> (2-200), <code>offset</code>, <code>include_deleted</code>, <code>reference_type</code> filter, and <code>include_total</code>.</p>
<p><strong>Adding comments:</strong> Use <code>comment</code> action <code>add</code> with <code>profile_type</code>, <code>profile_id</code>, <code>node_id</code>, and <code>text</code>. Optionally include <code>parent_comment_id</code> for replies and <code>reference</code> to anchor to a specific position. Supports mention tags in the body. Two character limits apply: total body including tags max 8,192 chars, display text (body with <code>@[...]</code> tags stripped) max 2,048 chars.</p>
<p><strong>Deleting comments:</strong> <code>comment</code> action <code>delete</code> is recursive -- deleting a parent also removes all replies. <code>comment</code> action <code>bulk-delete</code> is NOT recursive -- replies to deleted comments are preserved.</p>
<p><strong>Linking users to comments:</strong> The preview URL opens the comments sidebar automatically. Deep link query parameters let you target a specific comment or position:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Format</th>
<th>Purpose</th>
</tr>
</thead>
<tbody><tr>
<td><code>?comment={id}</code></td>
<td>Comment opaque ID</td>
<td>Scrolls to and highlights a specific comment for 2 seconds</td>
</tr>
<tr>
<td><code>?t={seconds}</code></td>
<td>e.g. <code>?t=45.5</code></td>
<td>Seeks to timestamp for audio/video comments</td>
</tr>
<tr>
<td><code>?p={pageNum}</code></td>
<td>e.g. <code>?p=3</code></td>
<td>Navigates to page for PDF comments</td>
</tr>
</tbody></table>
<p>Workspace: <code>https://{org.domain}.fast.io/workspace/{folder_name}/preview/{file_opaque_id}?comment={comment_id}</code></p>
<p>Share: <code>https://go.fast.io/shared/{custom_name}/{title-slug}/preview/{file_opaque_id}?comment={comment_id}</code></p>
<p>Parameters can be combined -- e.g. <code>?comment={id}&amp;t=45.5</code> to deep link to a video comment at a specific timestamp. In shares, the comments sidebar only opens if the share has comments enabled.</p>
<p><strong>Agent use case:</strong> You generate a design mockup. The human comments &quot;Change the header color&quot; on a specific region of the image. You read the comment, see exactly what region they are referring to via the <code>reference.region</code> coordinates, and regenerate.</p>
<h3>URL Import</h3>
<p>Agents can import files directly from URLs without downloading them locally first. Fast.io&#39;s server fetches the file, processes it, and adds it to your workspace or share.</p>
<ul>
<li>Supports any HTTP/HTTPS URL</li>
<li>Supports OAuth-protected sources: <strong>Google Drive, OneDrive, Dropbox</strong></li>
<li>Files go through the same processing pipeline (preview generation, AI indexing if intelligence is enabled, virus scanning)</li>
</ul>
<p>Use <code>upload</code> action <code>web-import</code> with the source URL, target profile, and parent node ID. Use <code>upload</code> action <code>web-status</code> to check progress and <code>upload</code> action <code>web-list</code> to list active import jobs.</p>
<p><strong>Security note:</strong> The <code>upload</code> action <code>web-import</code> instructs the <strong>Fast.io cloud server</strong> to fetch the URL -- not the agent&#39;s local environment. The Fast.io server is a public cloud service with no access to your local network, internal systems, or private infrastructure. It can only reach publicly accessible URLs and supported OAuth-authenticated cloud storage providers. This is functionally equivalent to the agent downloading a file and re-uploading it; the same data is transferred, just more efficiently since the server handles it directly. No internal or private data is exposed beyond what the agent could already access through its own network requests.</p>
<p><strong>Agent use case:</strong> A user says &quot;Add this Google Doc to the project.&quot; You call <code>upload</code> action <code>web-import</code> with the URL. Fast.io downloads it server-side, generates previews, indexes it for AI, and it appears in the workspace. No local I/O.</p>
<h3>Metadata</h3>
<p>Metadata enables structured data annotation on files within workspaces. The system uses a template-based approach: administrators create templates that define the fields (name, type, constraints), then assign a template to the workspace. Files can then have metadata values set against the template fields.</p>
<p>Key points:</p>
<ul>
<li><strong>One template per workspace</strong> -- each workspace supports at most one assigned metadata template at a time.</li>
<li><strong>Template categories</strong> -- legal, financial, business, medical, technical, engineering, insurance, educational, multimedia, hr.</li>
<li><strong>Field types</strong> -- string, int, float, bool, json, url, datetime -- each with optional constraints (min, max, default, fixed_list, can_be_null).</li>
<li><strong>Two metadata types</strong> -- template metadata conforms to template field definitions; custom metadata is freeform key-value pairs not tied to any template.</li>
<li><strong>System templates</strong> -- pre-built templates that are automatically cloned when assigned to a workspace, so customizations do not affect the global definition.</li>
<li><strong>AI extraction</strong> -- the <code>extract</code> action uses AI to analyze file content and automatically populate metadata fields. Extracted values are flagged with <code>is_auto: true</code>. Consumes AI credits.</li>
<li><strong>Version history</strong> -- metadata changes are tracked with version snapshots, accessible via the <code>versions</code> action.</li>
<li><strong>Requires billing feature</strong> -- the organization must have the metadata billing feature enabled.</li>
<li><strong>Template IDs</strong> are alphanumeric strings prefixed with <code>mt_</code> (e.g. <code>mt_abc123def456</code>).</li>
</ul>
<h3>Ownership Transfer</h3>
<p>The primary way agents deliver value: build something, then give it to a human. Also the recommended action when the agent plan runs out of credits and API calls start returning 402 Payment Required -- transfer the org to a human who can upgrade to a paid plan.</p>
<p><strong>IMPORTANT: Account type restriction.</strong> The transfer/claim workflow (<code>org</code> actions <code>transfer-token-create</code>, <code>transfer-token-list</code>, <code>transfer-token-delete</code>, <code>transfer-claim</code>) is only available when the agent created an <strong>agent account</strong> (via <code>auth</code> action <code>signup</code>) and that agent account owns the org. If the agent is signed in with a <strong>human account</strong> (via <code>auth</code> action <code>signin</code>), the transfer/claim API cannot be used. Human-owned orgs must be upgraded directly by the human through the Fast.io dashboard.</p>
<p><strong>The flow:</strong></p>
<ol>
<li>Agent creates an agent account with <code>auth</code> action <code>signup</code> and an org with <code>org</code> action <code>create</code>, sets up workspaces with <code>org</code> action <code>create-workspace</code>, uploads files, configures shares</li>
<li>Agent generates a transfer token (valid 72 hours) with <code>org</code> action <code>transfer-token-create</code></li>
<li>Agent sends the claim URL to the human: <code>https://go.fast.io/claim?token=&lt;token&gt;</code></li>
<li>Human clicks the link and claims the org with their account</li>
</ol>
<p><strong>When to transfer:</strong></p>
<ul>
<li>The org is ready for human use (workspaces configured, files uploaded, shares set up)</li>
<li>The agent plan runs out of credits (402 Payment Required) -- transfer so the human can upgrade</li>
<li>The human explicitly asks to take over the org</li>
</ul>
<p><strong>Managing transfer tokens:</strong></p>
<ul>
<li><code>org</code> action <code>transfer-token-list</code> -- check for existing pending tokens before creating new ones</li>
<li><code>org</code> action <code>transfer-token-delete</code> -- revoke a token if the transfer is no longer needed</li>
<li><code>org</code> action <code>transfer-claim</code> -- claim an org using a token (used by the receiving human&#39;s agent)</li>
</ul>
<p><strong>What happens after transfer:</strong></p>
<ul>
<li>Human becomes the owner of the org and all workspaces</li>
<li>Agent retains admin access (can still manage files and shares)</li>
<li>Human gets a free plan (credit-based, no trial period)</li>
<li>Human can upgrade to Pro or Business at any time</li>
</ul>
<p><strong>Agent use case:</strong> A user says &quot;Set up a project workspace for my team.&quot; You create the org, build out the workspace structure, upload templates, configure shares for client deliverables, invite team members -- then transfer ownership. The human walks into a fully configured platform. You stay on as admin to keep managing things.</p>
<p><strong>402 Payment Required use case (agent account):</strong> While working, the agent hits credit limits. Call <code>org</code> action <code>transfer-token-create</code>, send the claim URL to the human, and explain they can upgrade to continue. The agent keeps admin access and resumes work once the human upgrades.</p>
<p><strong>402 Payment Required use case (human account):</strong> The agent cannot transfer the org. Instead, inform the user that their org has run out of credits and they need to upgrade their billing plan. Direct them to the Fast.io dashboard or use <code>org</code> action <code>billing-create</code> to update to a paid plan.</p>
<h3>Permission Parameter Values</h3>
<p>Several tools use permission parameters with specific allowed values. Use these exact strings when calling the tools.</p>
<h4>Organization Creation (<code>org</code> action <code>create</code>)</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Allowed Values</th>
<th>Default</th>
</tr>
</thead>
<tbody><tr>
<td><code>perm_member_manage</code></td>
<td><code>Owner only</code>, <code>Admin or above</code>, <code>Member or above</code></td>
<td><code>Member or above</code></td>
</tr>
<tr>
<td><code>industry</code></td>
<td><code>unspecified</code>, <code>technology</code>, <code>healthcare</code>, <code>financial</code>, <code>education</code>, <code>manufacturing</code>, <code>construction</code>, <code>professional</code>, <code>media</code>, <code>retail</code>, <code>real_estate</code>, <code>logistics</code>, <code>energy</code>, <code>automotive</code>, <code>agriculture</code>, <code>pharmaceutical</code>, <code>legal</code>, <code>government</code>, <code>non_profit</code>, <code>insurance</code>, <code>telecommunications</code>, <code>research</code>, <code>entertainment</code>, <code>architecture</code>, <code>consulting</code>, <code>marketing</code></td>
<td><code>unspecified</code></td>
</tr>
<tr>
<td><code>background_mode</code></td>
<td><code>stretched</code>, <code>fixed</code></td>
<td><code>stretched</code></td>
</tr>
</tbody></table>
<h4>Workspace Creation (<code>org</code> action <code>create-workspace</code>) and Update (<code>workspace</code> action <code>update</code>)</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Allowed Values</th>
<th>Default</th>
</tr>
</thead>
<tbody><tr>
<td><code>perm_join</code></td>
<td><code>Only Org Owners</code>, <code>Admin or above</code>, <code>Member or above</code></td>
<td><code>Member or above</code></td>
</tr>
<tr>
<td><code>perm_member_manage</code></td>
<td><code>Admin or above</code>, <code>Member or above</code></td>
<td><code>Member or above</code></td>
</tr>
</tbody></table>
<h4>Share Creation (<code>share</code> action <code>create</code>)</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Allowed Values</th>
<th>Default</th>
</tr>
</thead>
<tbody><tr>
<td><code>type</code></td>
<td><code>send</code>, <code>receive</code>, <code>exchange</code></td>
<td><code>exchange</code></td>
</tr>
<tr>
<td><code>storage_mode</code></td>
<td><code>independent</code>, <code>workspace_folder</code></td>
<td><code>independent</code></td>
</tr>
<tr>
<td><code>access_options</code></td>
<td><code>Only members of the Share or Workspace</code>, <code>Members of the Share, Workspace or Org</code>, <code>Anyone with a registered account</code>, <code>Anyone with the link</code></td>
<td><code>Only members of the Share or Workspace</code></td>
</tr>
<tr>
<td><code>invite</code></td>
<td><code>owners</code>, <code>guests</code></td>
<td><code>owners</code></td>
</tr>
<tr>
<td><code>notify</code></td>
<td><code>never</code>, <code>notify_on_file_received</code>, <code>notify_on_file_sent_or_received</code></td>
<td><code>never</code></td>
</tr>
<tr>
<td><code>display_type</code></td>
<td><code>list</code>, <code>grid</code></td>
<td><code>grid</code></td>
</tr>
<tr>
<td><code>intelligence</code></td>
<td><code>true</code>, <code>false</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>comments_enabled</code></td>
<td><code>true</code>, <code>false</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>download_enabled</code></td>
<td><code>true</code>, <code>false</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>guest_chat_enabled</code></td>
<td><code>true</code>, <code>false</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>workspace_style</code></td>
<td><code>true</code>, <code>false</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>background_image</code></td>
<td><code>0</code>-<code>128</code></td>
<td><code>0</code></td>
</tr>
</tbody></table>
<p><strong>Share constraints:</strong></p>
<ul>
<li>Receive and Exchange shares cannot use <code>Anyone with the link</code> access -- this option is only available for Send shares.</li>
<li>Password protection (<code>password</code> parameter) is only allowed when <code>access_options</code> is <code>Anyone with the link</code>.</li>
<li>Expiration (<code>expires</code> parameter in MySQL format <code>YYYY-MM-DD HH:MM:SS</code>) is not allowed on <code>workspace_folder</code> shares.</li>
<li><code>custom_name</code> must be 10-100 characters, alphanumeric + unicode.</li>
<li><code>title</code> (or <code>name</code>) must be 2-80 characters.</li>
<li>Color parameters (<code>accent_color</code>, <code>background_color1</code>, <code>background_color2</code>) accept JSON strings.</li>
<li><code>create_folder</code> creates a new workspace folder for the share when used with <code>storage_mode=&#39;workspace_folder&#39;</code>.</li>
</ul>
<hr>
<h2>4. Agent Plan -- Free Tier</h2>
<p>The agent plan is a free tier designed for AI agents. No credit card, no trial period, no expiration. Enough resources to build and demonstrate value, with room to grow when the org transfers to a human on a paid plan.</p>
<h3>Resource Limits</h3>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Included</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Price</strong></td>
<td>$0 -- no credit card, no trial period, no expiration</td>
</tr>
<tr>
<td><strong>Storage</strong></td>
<td>50 GB</td>
</tr>
<tr>
<td><strong>Max file size</strong></td>
<td>1 GB</td>
</tr>
<tr>
<td><strong>Monthly credits</strong></td>
<td>5,000 (resets every 30 days)</td>
</tr>
<tr>
<td><strong>Workspaces</strong></td>
<td>5</td>
</tr>
<tr>
<td><strong>Shares</strong></td>
<td>50</td>
</tr>
<tr>
<td><strong>Members per workspace</strong></td>
<td>5</td>
</tr>
<tr>
<td><strong>Share invitations</strong></td>
<td>10 per share</td>
</tr>
<tr>
<td><strong>Account auto-deletion</strong></td>
<td>Never</td>
</tr>
</tbody></table>
<h3>Credit Costs</h3>
<p>All platform activity consumes credits from the monthly 5,000 allowance:</p>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Cost</th>
</tr>
</thead>
<tbody><tr>
<td>Storage</td>
<td>100 credits/GB</td>
</tr>
<tr>
<td>Bandwidth</td>
<td>212 credits/GB</td>
</tr>
<tr>
<td>AI chat tokens</td>
<td>1 credit per 100 tokens</td>
</tr>
<tr>
<td>Document pages ingested</td>
<td>10 credits/page</td>
</tr>
<tr>
<td>Video ingested</td>
<td>5 credits/second</td>
</tr>
<tr>
<td>Audio ingested</td>
<td>0.5 credits/second</td>
</tr>
<tr>
<td>Images ingested</td>
<td>5 credits/image</td>
</tr>
<tr>
<td>File conversions</td>
<td>25 credits/conversion</td>
</tr>
</tbody></table>
<p>When credits run out, the org enters a reduced-capability state and API calls return 402 Payment Required. The org is never deleted. Use <code>org</code> action <code>limits</code> to check current credit usage and remaining balance.</p>
<p><strong>When you hit 402 or run low on credits:</strong></p>
<ul>
<li><strong>Agent account (created via <code>auth</code> action <code>signup</code>):</strong> Transfer the org to the human. Call <code>org</code> action <code>transfer-token-create</code> to generate a transfer token, then send the human the claim URL: <code>https://go.fast.io/claim?token=&lt;token&gt;</code>. Once they claim the org they can upgrade to a paid plan with unlimited credits. You retain admin access and can resume work immediately after the upgrade. This is the expected workflow -- agents build on the free plan, then hand off to humans who pay when they are ready.</li>
<li><strong>Human account (signed in via <code>auth</code> action <code>signin</code>):</strong> You cannot use the transfer/claim API. Tell the user they need to upgrade the org&#39;s billing plan directly. They can do this from the Fast.io dashboard or by calling <code>org</code> action <code>billing-create</code> to update their subscription to a paid plan.</li>
</ul>
<h3>After Transfer -- Human Plan Options</h3>
<p>Once an agent transfers an org to a human, the human gets a free plan (credit-based, no trial period) and can upgrade:</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Agent (Free)</th>
<th>Free (Human)</th>
<th>Pro</th>
<th>Business</th>
</tr>
</thead>
<tbody><tr>
<td>Monthly credits</td>
<td>5,000</td>
<td>5,000</td>
<td>Unlimited</td>
<td>Unlimited</td>
</tr>
<tr>
<td>Storage</td>
<td>50 GB</td>
<td>50 GB</td>
<td>1 TB</td>
<td>5 TB</td>
</tr>
<tr>
<td>Max file size</td>
<td>1 GB</td>
<td>1 GB</td>
<td>25 GB</td>
<td>50 GB</td>
</tr>
<tr>
<td>Workspaces</td>
<td>5</td>
<td>5</td>
<td>10</td>
<td>1,000</td>
</tr>
<tr>
<td>Shares</td>
<td>50</td>
<td>50</td>
<td>1,000</td>
<td>50,000</td>
</tr>
</tbody></table>
<p>The transfer flow is the primary way agents deliver value: set everything up on the free agent plan, then hand it off. The human upgrades when they are ready, and the agent retains admin access to keep managing things.</p>
<hr>
<h2>5. Tool Categories</h2>
<p>The 14 tools use action-based routing. Each tool covers a specific area of the Fast.io platform and exposes multiple actions.</p>
<h3>auth</h3>
<p>Authentication, sign-in/sign-up, two-factor authentication, API key management, and OAuth session management. This is always the starting point for any agent interaction.</p>
<p><strong>Actions:</strong> signin, signout, signup, check, session, status, set-api-key, email-check, email-verify, password-reset-request, password-reset, 2fa-verify, 2fa-status, 2fa-enable, 2fa-disable, 2fa-send, 2fa-verify-setup, pkce-login, pkce-complete, api-key-create, api-key-list, api-key-get, api-key-delete, oauth-list, oauth-details, oauth-revoke, oauth-revoke-all</p>
<h3>user</h3>
<p>Retrieve and update the current user profile, search for other users, manage invitations, upload and delete user assets (profile photos), check account eligibility, and list shares the user belongs to.</p>
<p><strong>Actions:</strong> me, update, search, close, details-by-id, profiles, allowed, org-limits, list-shares, invitation-list, invitation-details, accept-all-invitations, asset-upload, asset-delete, asset-types, asset-list</p>
<h3>org</h3>
<p>Organization CRUD, member management, billing and subscription operations, workspace creation, invitation workflows, asset management (upload, delete), organization discovery, and ownership transfer.</p>
<p><strong>Actions:</strong> list, details, create, update, close, public-details, limits, list-workspaces, list-shares, create-workspace, billing-plans, billing-create, billing-cancel, billing-details, billing-activate, billing-reset, billing-members, billing-meters, members, invite-member, remove-member, update-member-role, member-details, leave, transfer-ownership, join, invitations-list, invitation-update, invitation-delete, transfer-token-create, transfer-token-list, transfer-token-delete, transfer-claim, discover-all, discover-available, discover-check-domain, discover-external, asset-upload, asset-delete, asset-types, asset-list</p>
<h3>workspace</h3>
<p>Workspace-level settings, lifecycle operations (update, delete, archive, unarchive), listing and importing shares, managing workspace assets, workspace discovery, notes (create, update), quickshare management, and metadata operations (template CRUD, assignment, file metadata get/set/delete, AI extraction).</p>
<p><strong>Actions:</strong> list, details, update, delete, archive, unarchive, members, list-shares, import-share, available, check-name, create-note, update-note, quickshare-get, quickshare-delete, quickshares-list, metadata-template-create, metadata-template-delete, metadata-template-list, metadata-template-details, metadata-template-update, metadata-template-clone, metadata-template-assign, metadata-template-unassign, metadata-template-resolve, metadata-template-assignments, metadata-get, metadata-set, metadata-delete, metadata-extract, metadata-list-files, metadata-list-templates-in-use, metadata-versions</p>
<h3>share</h3>
<p>Share CRUD, public details, archiving, password authentication, asset management, and share name availability checks.</p>
<p><strong>Actions:</strong> list, details, create, update, delete, public-details, archive, unarchive, password-auth, members, available, check-name, quickshare-create</p>
<h3>storage</h3>
<p>File and folder operations within workspaces and shares. List, create folders, move, copy, delete, rename, purge, restore, search, add files from uploads, add share links, transfer nodes, manage trash, version operations, file locking, and preview/transform URL generation. Requires <code>context_type</code> parameter (<code>workspace</code> or <code>share</code>).</p>
<p><strong>Actions:</strong> list, details, search, trash-list, create-folder, copy, move, delete, rename, purge, restore, add-file, add-link, transfer, version-list, version-restore, lock-acquire, lock-status, lock-release, preview-url, preview-transform</p>
<h3>upload</h3>
<p>File upload operations. Single-step text file upload, chunked upload lifecycle (create session, upload chunks as plain text, staged binary blobs, or legacy base64, finalize, check status, cancel), web imports from external URLs, upload limits and file extension restrictions, and session management.</p>
<p><strong>Actions:</strong> create-session, chunk, finalize, status, cancel, list-sessions, cancel-all, chunk-status, chunk-delete, text-file, web-import, web-list, web-cancel, web-status, limits, extensions</p>
<h3>download</h3>
<p>Generate download URLs and ZIP archive URLs for workspace files, share files, and quickshare links. MCP tools cannot stream binary data -- these actions return URLs that can be opened in a browser or passed to download utilities. Requires <code>context_type</code> parameter (<code>workspace</code> or <code>share</code>) for file-url and zip-url actions.</p>
<p><strong>Actions:</strong> file-url, zip-url, quickshare-details</p>
<h3>ai</h3>
<p>AI-powered chat with RAG in workspaces and shares. Create chats, send messages, read AI responses (with polling), list and manage chats, publish private chats, generate AI share markdown, track AI token usage, and auto-title generation. Requires <code>context_type</code> parameter (<code>workspace</code> or <code>share</code>).</p>
<p><strong>Actions:</strong> chat-create, chat-list, chat-details, chat-update, chat-delete, chat-publish, message-send, message-list, message-details, message-read, share-generate, transactions, autotitle</p>
<h3>comment</h3>
<p>Comments are scoped to <code>{entity_type}/{parent_id}/{node_id}</code> where entity_type is <code>workspace</code> or <code>share</code>, parent_id is the 19-digit profile ID, and node_id is the storage node opaque ID. List comments on files (per-node and profile-wide with sort/limit/offset/filter params), add comments with optional reference anchoring (image regions, video/audio timestamps, PDF pages with text selection), single-level threaded replies, recursive single delete, non-recursive bulk delete, get comment details, and emoji reactions (one per user per comment). Comments use JSON request bodies.</p>
<p><strong>Actions:</strong> list, list-all, add, delete, bulk-delete, details, reaction-add, reaction-remove</p>
<h3>event</h3>
<p>Search the audit/event log with rich filtering by category, subcategory, and event name (see <strong>Event Filtering Reference</strong> in section 7 for the full taxonomy). Get AI-powered summaries of activity, retrieve full details for individual events, list recent activity, and long-poll for activity changes.</p>
<p><strong>Actions:</strong> search, summarize, details, activity-list, activity-poll</p>
<h3>member</h3>
<p>Member management for organizations, workspaces, and shares. Add, remove, update roles, transfer ownership, leave, join, and join via invitation. Requires <code>entity_type</code> parameter (<code>workspace</code> or <code>share</code>).</p>
<p><strong>Actions:</strong> add, remove, details, update, transfer-ownership, leave, join, join-invitation</p>
<h3>invitation</h3>
<p>Invitation management for organizations, workspaces, and shares. List invitations, list by state, update, and delete. Requires <code>entity_type</code> parameter (<code>workspace</code> or <code>share</code>).</p>
<p><strong>Actions:</strong> list, list-by-state, update, delete</p>
<h3>asset</h3>
<p>Asset management (upload, delete, list, read) for organizations, workspaces, shares, and users. Requires <code>entity_type</code> parameter (<code>org</code>, <code>workspace</code>, <code>share</code>, or <code>user</code>).</p>
<p><strong>Actions:</strong> upload, delete, types, list, read</p>
<hr>
<h2>6. Common Workflows</h2>
<h3>1. Create an Account and Sign In</h3>
<p>See <strong>Choosing the Right Approach</strong> in section 2 for which option fits your scenario.</p>
<p><strong>Option 1 -- Autonomous agent (new account):</strong></p>
<ol>
<li>Optionally call <code>auth</code> action <code>email-check</code> with the desired <code>email</code> to verify availability.</li>
<li><code>auth</code> action <code>signup</code> with <code>first_name</code>, <code>last_name</code>, <code>email</code>, and <code>password</code> -- registers as an agent account (agent=true is sent automatically) and signs in immediately.</li>
<li><code>auth</code> action <code>email-verify</code> with <code>email</code> -- sends a verification code. Then <code>auth</code> action <code>email-verify</code> with <code>email</code> and <code>email_token</code> -- validates the code. Required before using most endpoints.</li>
<li><code>org</code> action <code>create</code> to create a new org on the agent plan, or <code>org</code> action <code>list</code> to check existing orgs.</li>
</ol>
<p><strong>Option 2 -- Assisting a human (API key):</strong></p>
<ol>
<li>The human creates an API key at <code>https://go.fast.io/settings/api-keys</code> and provides it to the agent.</li>
<li>Call <code>auth</code> action <code>set-api-key</code> with the API key. The key is validated against the API and stored in the session -- all subsequent tool calls are authenticated automatically. No account creation needed.</li>
<li><code>org</code> action <code>list</code> and <code>org</code> action <code>discover-external</code> to discover all available organizations (see <strong>Org Discovery</strong>).</li>
</ol>
<p><strong>Option 3 -- Agent invited to a human&#39;s org:</strong></p>
<ol>
<li>Create an agent account with <code>auth</code> action <code>signup</code> (same as Option 1).</li>
<li>Have the human invite you via <code>org</code> action <code>invite-member</code> or <code>member</code> action <code>add</code> (with <code>entity_type: &quot;workspace&quot;</code>).</li>
<li>Accept invitations with <code>user</code> action <code>accept-all-invitations</code>.</li>
<li><code>org</code> action <code>list</code> and <code>org</code> action <code>discover-external</code> to discover all available orgs (see <strong>Org Discovery</strong>). If the human only invited you to a workspace (not the org), it will only appear via <code>discover-external</code>.</li>
</ol>
<p><strong>Returning users:</strong></p>
<ol>
<li><code>auth</code> action <code>signin</code> with <code>email</code> and <code>password</code>.</li>
<li>If <code>two_factor_required: true</code>, call <code>auth</code> action <code>2fa-verify</code> with the 2FA <code>code</code>.</li>
<li><code>org</code> action <code>list</code> and <code>org</code> action <code>discover-external</code> to discover all available organizations (see <strong>Org Discovery</strong>).</li>
</ol>
<h3>2. Browse and Download a File</h3>
<ol>
<li><code>org</code> action <code>list</code> and <code>org</code> action <code>discover-external</code> -- discover all available organizations (see <strong>Org Discovery</strong>). Note the <code>org_id</code> values.</li>
<li><code>org</code> action <code>list-workspaces</code> with <code>org_id</code> -- get workspaces in the organization. Note the <code>workspace_id</code> values.</li>
<li><code>storage</code> action <code>list</code> with <code>context_type: &quot;workspace&quot;</code>, <code>context_id</code> (workspace ID), and <code>node_id: &quot;root&quot;</code> -- browse the root folder. Note the <code>node_id</code> values for files and subfolders.</li>
<li><code>storage</code> action <code>details</code> with <code>context_type: &quot;workspace&quot;</code>, <code>context_id</code>, and <code>node_id</code> -- get full details for a specific file (name, size, type, versions).</li>
<li><code>download</code> action <code>file-url</code> with <code>context_type: &quot;workspace&quot;</code>, <code>context_id</code>, and <code>node_id</code> -- get a temporary download URL with an embedded token. Return this URL to the user.</li>
</ol>
<h3>3. Upload a File to a Workspace</h3>
<p><strong>Text files (recommended):</strong> Use <code>upload</code> action <code>text-file</code> with <code>profile_type: &quot;workspace&quot;</code>, <code>profile_id</code>, <code>parent_node_id</code>, <code>filename</code>, and <code>content</code> (plain text). This single action creates the session, uploads, finalizes, and polls until stored ‚Äî returns <code>new_file_id</code> on success. Use this for code, markdown, CSV, JSON, config files, and any other text content.</p>
<p><strong>Binary or large files (chunked flow):</strong></p>
<ol>
<li><code>upload</code> action <code>create-session</code> with <code>profile_type: &quot;workspace&quot;</code>, <code>profile_id</code> (the workspace ID), <code>parent_node_id</code> (target folder or <code>&quot;root&quot;</code>), <code>filename</code>, and <code>filesize</code> in bytes. Returns an <code>upload_id</code>.</li>
<li><code>upload</code> action <code>chunk</code> with <code>upload_id</code>, <code>chunk_number</code> (1-indexed), and chunk data. Three options for passing data (provide exactly one):<ul>
<li><strong><code>content</code></strong> ‚Äî for text (strings, code, JSON, etc.). Do NOT use <code>data</code> for text.</li>
<li><strong><code>blob_ref</code></strong> ‚Äî <em>preferred for binary</em>. First <code>POST</code> raw bytes to <code>/blob</code> (with <code>Mcp-Session-Id</code> header, <code>Content-Type: application/octet-stream</code>). The server returns <code>{ blob_id, size }</code>. Then pass that <code>blob_id</code> as <code>blob_ref</code>. Avoids base64 overhead entirely. Blobs expire after 5 minutes and are consumed (deleted) on use.</li>
<li><strong><code>data</code></strong> ‚Äî legacy base64-encoded binary. Still works but adds ~33% size overhead.
Repeat for each chunk. Wait for each chunk to return success before sending the next.</li>
</ul>
</li>
<li><code>upload</code> action <code>finalize</code> with <code>upload_id</code> -- triggers file assembly and polls until stored. Returns the final session state with <code>status: &quot;stored&quot;</code> or <code>&quot;complete&quot;</code> on success (including <code>new_file_id</code>), or throws on assembly failure. The file is automatically added to the target workspace and folder specified in step 1 -- no separate add-file call is needed.</li>
</ol>
<p><strong>Note:</strong> <code>storage</code> action <code>add-file</code> is only needed if you want to link the upload to a <em>different</em> location than the one specified during session creation.</p>
<h3>4. Import a File from URL</h3>
<p>Use this when you have a file URL (HTTP/HTTPS, Google Drive, OneDrive, Box, Dropbox) and want to add it to a workspace without downloading locally.</p>
<ol>
<li><code>upload</code> action <code>web-import</code> with <code>url</code> (the source URL), <code>profile_type: &quot;workspace&quot;</code>, <code>profile_id</code> (the workspace ID), and <code>parent_node_id</code> (target folder or <code>&quot;root&quot;</code>). Returns a <code>job_id</code>.</li>
<li><code>upload</code> action <code>web-status</code> with <code>job_id</code> -- check import progress. The server downloads the file, scans it, generates previews, and indexes it for AI (if intelligence is enabled).</li>
<li>The file appears in the workspace storage tree once the job completes.</li>
</ol>
<h3>5. Deliver Files to a Client</h3>
<p>Create a branded, professional data room for outbound file delivery. This replaces raw download links, email attachments, and S3 presigned URLs.</p>
<ol>
<li>Upload files to the workspace (see workflow 3 or 4).</li>
<li><code>share</code> action <code>create</code> with <code>workspace_id</code>, <code>name</code>, and <code>type: &quot;send&quot;</code> -- creates a Send share. Returns a <code>share_id</code>.</li>
<li><code>share</code> action <code>update</code> with <code>share_id</code> to configure:<ul>
<li><code>password</code> -- require a password for access</li>
<li><code>expiry_date</code> -- auto-expire the share after a set period</li>
<li><code>access_level</code> -- Members Only, Org Members, Registered Users, or Public</li>
<li><code>allow_downloads</code> -- enable or disable file downloads</li>
<li>Branding options: <code>background_color</code>, <code>accent_color</code>, <code>gradient_color</code></li>
<li><code>post_download_message</code> and <code>post_download_url</code> -- show a message after download</li>
</ul>
</li>
<li><code>member</code> action <code>add</code> with <code>entity_type: &quot;share&quot;</code>, <code>entity_id</code> (share ID), and <code>email_or_user_id</code> -- adds the recipient. An invitation is sent if they do not have a Fast.io account.</li>
<li><code>asset</code> action <code>upload</code> with <code>entity_type: &quot;share&quot;</code> and <code>entity_id</code> (share ID) to add a logo or background image for branding.</li>
<li>The recipient sees a branded page with instant file preview, not a raw download link.</li>
</ol>
<h3>6. Collect Documents from a User</h3>
<p>Create a Receive share so humans can upload files directly to you -- no email attachments, no cloud drive links.</p>
<ol>
<li><code>share</code> action <code>create</code> with <code>workspace_id</code>, <code>name</code> (e.g., &quot;Upload your tax documents here&quot;), and <code>type: &quot;receive&quot;</code>. Returns a <code>share_id</code>.</li>
<li><code>share</code> action <code>update</code> with <code>share_id</code> to set access level, expiration, and branding as needed.</li>
<li><code>member</code> action <code>add</code> with <code>entity_type: &quot;share&quot;</code>, <code>entity_id</code> (share ID), and <code>email_or_user_id</code> to invite the uploader.</li>
<li>The human uploads files through a clean, branded interface.</li>
<li>Files appear in your workspace. If intelligence is enabled, they are auto-indexed by AI.</li>
<li>Use <code>ai</code> action <code>chat-create</code> with <code>context_type: &quot;share&quot;</code> scoped to the receive share&#39;s folder to ask questions like &quot;Are all required forms present?&quot;</li>
</ol>
<h3>7. Build a Knowledge Base</h3>
<p>Create an intelligent workspace that auto-indexes all content for RAG queries.</p>
<ol>
<li><code>org</code> action <code>create-workspace</code> with <code>org_id</code> and <code>name</code>. Intelligence is enabled by default.</li>
<li>Upload reference documents (see workflow 3 or 4). AI auto-indexes and summarizes everything on upload.</li>
<li><code>ai</code> action <code>chat-create</code> with <code>context_type: &quot;workspace&quot;</code>, <code>context_id</code> (workspace ID), <code>query_text</code>, <code>type: &quot;chat_with_files&quot;</code>, and <code>folders_scope</code> (comma-separated <code>nodeId:depth</code> pairs) to query across folders or the entire workspace.</li>
<li><code>ai</code> action <code>message-read</code> with <code>context_type: &quot;workspace&quot;</code>, <code>context_id</code>, <code>chat_id</code>, and <code>message_id</code> -- polls until the AI response is complete. Returns <code>response_text</code> and <code>citations</code> pointing to specific files, pages, and snippets.</li>
<li><code>storage</code> action <code>search</code> with <code>context_type: &quot;workspace&quot;</code>, <code>context_id</code>, and a query string for semantic search -- find files by meaning, not just filename.</li>
<li>Answers include citations to specific pages and files. Pass these back to the user with source references.</li>
</ol>
<h3>8. Ask AI About Files</h3>
<p>Two modes depending on whether intelligence is enabled on the workspace.</p>
<p><strong>With intelligence (persistent index):</strong></p>
<ol>
<li><code>ai</code> action <code>chat-create</code> with <code>context_type: &quot;workspace&quot;</code>, <code>context_id</code> (workspace ID), <code>query_text</code>, <code>type: &quot;chat_with_files&quot;</code>, and either <code>files_scope</code> (comma-separated <code>nodeId:versionId</code> pairs) or <code>folders_scope</code> (comma-separated <code>nodeId:depth</code> pairs, depth range 1-10). <strong>Important:</strong> <code>files_scope</code> and <code>files_attach</code> are mutually exclusive ‚Äî sending both will error. Returns <code>chat_id</code> and <code>message_id</code>.</li>
<li><code>ai</code> action <code>message-read</code> with <code>context_type: &quot;workspace&quot;</code>, <code>context_id</code>, <code>chat_id</code>, and <code>message_id</code> -- polls the API up to 15 times (2-second intervals, approximately 30 seconds) until the AI response is complete. Returns <code>response_text</code> and <code>citations</code>. <strong>Tip:</strong> If the built-in polling window expires, use <code>event</code> action <code>activity-poll</code> with the workspace ID instead of calling <code>message-read</code> in a loop ‚Äî see the Activity Polling section above.</li>
<li><code>ai</code> action <code>message-send</code> with <code>context_type: &quot;workspace&quot;</code>, <code>context_id</code>, <code>chat_id</code>, and <code>query_text</code> for follow-up questions. Returns a new <code>message_id</code>.</li>
<li><code>ai</code> action <code>message-read</code> again with the new <code>message_id</code> to get the follow-up response.</li>
</ol>
<p><strong>Without intelligence (file attachments):</strong></p>
<ol>
<li><code>ai</code> action <code>chat-create</code> with <code>context_type: &quot;workspace&quot;</code>, <code>context_id</code>, <code>query_text</code>, <code>type: &quot;chat_with_files&quot;</code>, and <code>files_attach</code> pointing to specific files (comma-separated <code>nodeId:versionId</code>, max 20 files / 200 MB). Files must have a ready preview. The AI reads attached files directly without persistent indexing.</li>
<li><code>ai</code> action <code>message-read</code> to get the response. No ingestion credit cost -- only chat token credits are consumed.</li>
</ol>
<h3>9. Set Up a Project for a Human</h3>
<p>The full agent-to-human handoff workflow. This is the primary way agents deliver value on Fast.io.</p>
<ol>
<li><code>org</code> action <code>create</code> -- creates a new org on the agent billing plan. The agent becomes owner. An agent-plan subscription (free, 50 GB, 5,000 credits/month) is created automatically.</li>
<li><code>org</code> action <code>create-workspace</code> with <code>org_id</code> and <code>name</code> -- create workspaces for each project area.</li>
<li><code>storage</code> action <code>create-folder</code> with <code>context_type: &quot;workspace&quot;</code> to build out folder structure (templates, deliverables, reference docs, etc.).</li>
<li>Upload files to each workspace (see workflow 3 or 4).</li>
<li><code>share</code> action <code>create</code> with <code>type: &quot;send&quot;</code> for client deliverables, <code>type: &quot;receive&quot;</code> for intake/collection.</li>
<li><code>share</code> action <code>update</code> to configure branding, passwords, expiration, and access levels on each share.</li>
<li><code>org</code> action <code>invite-member</code> or <code>member</code> action <code>add</code> with <code>entity_type: &quot;workspace&quot;</code> to invite team members.</li>
<li><code>org</code> action <code>transfer-token-create</code> with <code>org_id</code> -- generates a transfer token valid for 72 hours. Send the claim URL (<code>https://go.fast.io/claim?token=&lt;token&gt;</code>) to the human.</li>
<li>Human clicks the link and claims the org. They become owner, agent retains admin access. Human gets a free plan.</li>
</ol>
<h3>10. Manage Organization Billing</h3>
<ol>
<li><code>org</code> action <code>billing-plans</code> -- list all available billing plans with pricing and features.</li>
<li><code>org</code> action <code>billing-create</code> with <code>org_id</code> and optionally <code>billing_plan</code> -- create or update a subscription. For new subscriptions, this creates a Stripe Setup Intent.</li>
<li><code>org</code> action <code>billing-details</code> with <code>org_id</code> -- check the current subscription status, Stripe customer info, and payment details.</li>
<li><code>org</code> action <code>limits</code> with <code>org_id</code> -- check credit usage against plan limits, including storage, transfer, AI tokens, and billing period info.</li>
</ol>
<hr>
<h2>7. Key Patterns and Gotchas</h2>
<h3>ID Format</h3>
<p>Profile IDs (org, workspace, share, user) are 19-digit numeric strings. Most endpoints also accept custom names as identifiers -- workspace folder names, share URL names, org domain names, or user email addresses. Both formats are interchangeable in URL path parameters.</p>
<p>All other IDs (node IDs, upload IDs, chat IDs, comment IDs, invitation IDs, etc.) are 30-character alphanumeric opaque IDs (displayed with hyphens). Do not apply numeric validation to these.</p>
<h3>Pagination</h3>
<p>Two pagination styles are used depending on the endpoint:</p>
<p><strong>Cursor-based (storage list endpoints):</strong> <code>sort_by</code>, <code>sort_dir</code>, <code>page_size</code>, and <code>cursor</code>. The response includes a <code>next_cursor</code> value when more results are available. Pass this cursor in the next call to retrieve the next page. Page sizes are typically 100, 250, or 500. Used by: <code>storage</code> action <code>list</code> (with <code>context_type: &quot;workspace&quot;</code> or <code>&quot;share&quot;</code>).</p>
<p><strong>Limit/offset (all other list endpoints):</strong> <code>limit</code> (1-500, default 100) and <code>offset</code> (default 0). Used by: <code>org</code> actions <code>list</code>, <code>members</code>, <code>list-workspaces</code>, <code>list-shares</code>, <code>billing-members</code>, <code>discover-all</code>, <code>discover-external</code>; <code>share</code> actions <code>list</code>, <code>members</code>; <code>workspace</code> actions <code>list</code>, <code>members</code>, <code>list-shares</code>; <code>user</code> action <code>list-shares</code>; <code>storage</code> action <code>search</code>.</p>
<h3>Binary Downloads</h3>
<p>MCP tools return download URLs -- they never stream binary content directly. <code>download</code> action <code>file-url</code> (with <code>context_type: &quot;workspace&quot;</code> or <code>&quot;share&quot;</code>) and <code>download</code> action <code>quickshare-details</code> call the <code>/requestread/</code> endpoint to obtain a temporary token, then construct a full download URL. The agent should return these URLs to the user or pass them to a download utility.</p>
<p><code>download</code> actions <code>zip-url</code> (workspace and share) return the URL along with the required <code>Authorization</code> header value.</p>
<h3>Binary Uploads (Blob Staging)</h3>
<p>For binary chunk uploads, the server provides a sidecar <code>POST /blob</code> endpoint that accepts raw binary data outside the JSON-RPC pipe. This avoids the ~33% size overhead and CPU cost of base64 encoding.</p>
<p><strong>Flow:</strong></p>
<ol>
<li><code>POST /blob</code> with headers <code>Mcp-Session-Id: &lt;session_id&gt;</code> and <code>Content-Type: application/octet-stream</code>. Send raw binary bytes as the request body. The server returns <code>{ &quot;blob_id&quot;: &quot;&lt;uuid&gt;&quot;, &quot;size&quot;: &lt;bytes&gt; }</code> (HTTP 201).</li>
<li>Call <code>upload</code> action <code>chunk</code> with <code>blob_ref: &quot;&lt;blob_id&gt;&quot;</code> instead of <code>data</code>. The server retrieves the staged bytes and uploads them to the Fast.io API.</li>
</ol>
<p><strong>Constraints:</strong></p>
<ul>
<li>Blobs expire after <strong>5 minutes</strong>. Stage and consume them promptly.</li>
<li>Each blob is consumed (deleted) on first use ‚Äî it cannot be reused.</li>
<li>Maximum blob size: <strong>100 MB</strong>.</li>
<li>SSE transport clients must add <code>?transport=sse</code> to the <code>/blob</code> URL.</li>
<li>The <code>content</code> parameter (for text) and <code>data</code> parameter (for base64) remain available. <code>blob_ref</code> is the preferred method for binary data.</li>
</ul>
<h3>Event Filtering Reference</h3>
<p>The <code>event</code> tool&#39;s <code>search</code> and <code>summarize</code> actions accept <code>category</code>, <code>subcategory</code>, and <code>event</code> parameters to narrow results. Use these to target specific activity instead of scanning all events.</p>
<h4>Event Categories</h4>
<table>
<thead>
<tr>
<th>Category</th>
<th>What It Covers</th>
</tr>
</thead>
<tbody><tr>
<td><code>user</code></td>
<td>Account creation, updates, deletion, avatar changes</td>
</tr>
<tr>
<td><code>org</code></td>
<td>Organization lifecycle, settings, transfers</td>
</tr>
<tr>
<td><code>workspace</code></td>
<td>Workspace creation, updates, archival, file operations</td>
</tr>
<tr>
<td><code>share</code></td>
<td>Share lifecycle, settings, file operations</td>
</tr>
<tr>
<td><code>node</code></td>
<td>File and folder operations (cross-profile)</td>
</tr>
<tr>
<td><code>ai</code></td>
<td>AI chat, summaries, RAG indexing</td>
</tr>
<tr>
<td><code>invitation</code></td>
<td>Member invitations sent, accepted, declined</td>
</tr>
<tr>
<td><code>billing</code></td>
<td>Subscriptions, trials, credit usage</td>
</tr>
<tr>
<td><code>domain</code></td>
<td>Custom domain configuration</td>
</tr>
<tr>
<td><code>apps</code></td>
<td>Application integrations</td>
</tr>
<tr>
<td><code>metadata</code></td>
<td>Metadata extraction, templates, key-value updates</td>
</tr>
</tbody></table>
<h4>Event Subcategories</h4>
<table>
<thead>
<tr>
<th>Subcategory</th>
<th>What It Covers</th>
</tr>
</thead>
<tbody><tr>
<td><code>storage</code></td>
<td>File/folder add, move, copy, delete, restore, download</td>
</tr>
<tr>
<td><code>comments</code></td>
<td>Comment created, updated, deleted, mentioned, replied, reaction</td>
</tr>
<tr>
<td><code>members</code></td>
<td>Member added/removed from org, workspace, or share</td>
</tr>
<tr>
<td><code>lifecycle</code></td>
<td>Profile created, updated, deleted, archived</td>
</tr>
<tr>
<td><code>settings</code></td>
<td>Configuration and preference changes</td>
</tr>
<tr>
<td><code>security</code></td>
<td>Security-related events (2FA, password)</td>
</tr>
<tr>
<td><code>authentication</code></td>
<td>Login, SSO, session events</td>
</tr>
<tr>
<td><code>ai</code></td>
<td>AI processing, chat, indexing</td>
</tr>
<tr>
<td><code>invitations</code></td>
<td>Invitation management</td>
</tr>
<tr>
<td><code>billing</code></td>
<td>Subscription and payment events</td>
</tr>
<tr>
<td><code>assets</code></td>
<td>Avatar/asset updates</td>
</tr>
<tr>
<td><code>upload</code></td>
<td>Upload session management</td>
</tr>
<tr>
<td><code>transfer</code></td>
<td>Cross-profile file transfers</td>
</tr>
<tr>
<td><code>import_export</code></td>
<td>Data import/export operations</td>
</tr>
<tr>
<td><code>quickshare</code></td>
<td>Quick share operations</td>
</tr>
<tr>
<td><code>metadata</code></td>
<td>Metadata operations</td>
</tr>
</tbody></table>
<h4>Common Event Names</h4>
<p><strong>File operations (workspace):</strong> <code>workspace_storage_file_added</code>, <code>workspace_storage_file_deleted</code>, <code>workspace_storage_file_moved</code>, <code>workspace_storage_file_copied</code>, <code>workspace_storage_file_updated</code>, <code>workspace_storage_file_restored</code>, <code>workspace_storage_folder_created</code>, <code>workspace_storage_folder_deleted</code>, <code>workspace_storage_folder_moved</code>, <code>workspace_storage_download_token_created</code>, <code>workspace_storage_zip_downloaded</code>, <code>workspace_storage_file_version_restored</code>, <code>workspace_storage_link_added</code></p>
<p><strong>File operations (share):</strong> <code>share_storage_file_added</code>, <code>share_storage_file_deleted</code>, <code>share_storage_file_moved</code>, <code>share_storage_file_copied</code>, <code>share_storage_file_updated</code>, <code>share_storage_file_restored</code>, <code>share_storage_folder_created</code>, <code>share_storage_folder_deleted</code>, <code>share_storage_folder_moved</code>, <code>share_storage_download_token_created</code>, <code>share_storage_zip_downloaded</code></p>
<p><strong>Comments:</strong> <code>comment_created</code>, <code>comment_updated</code>, <code>comment_deleted</code>, <code>comment_mentioned</code>, <code>comment_replied</code>, <code>comment_reaction</code></p>
<p><strong>Membership:</strong> <code>added_member_to_org</code>, <code>added_member_to_workspace</code>, <code>added_member_to_share</code>, <code>removed_member_from_org</code>, <code>removed_member_from_workspace</code>, <code>removed_member_from_share</code>, <code>membership_updated</code></p>
<p><strong>Workspace lifecycle:</strong> <code>workspace_created</code>, <code>workspace_updated</code>, <code>workspace_deleted</code>, <code>workspace_archived</code>, <code>workspace_unarchived</code></p>
<p><strong>Share lifecycle:</strong> <code>share_created</code>, <code>share_updated</code>, <code>share_deleted</code>, <code>share_archived</code>, <code>share_unarchived</code>, <code>share_imported_to_workspace</code></p>
<p><strong>AI:</strong> <code>ai_chat_created</code>, <code>ai_chat_new_message</code>, <code>ai_chat_updated</code>, <code>ai_chat_deleted</code>, <code>ai_chat_published</code>, <code>node_ai_summary_created</code>, <code>workspace_ai_share_created</code></p>
<p><strong>Metadata:</strong> <code>metadata_kv_update</code>, <code>metadata_kv_delete</code>, <code>metadata_kv_extract</code>, <code>metadata_template_update</code>, <code>metadata_template_delete</code>, <code>metadata_template_settings_update</code>, <code>metadata_view_update</code>, <code>metadata_view_delete</code>, <code>metadata_template_select</code></p>
<p><strong>Quick shares:</strong> <code>workspace_quickshare_created</code>, <code>workspace_quickshare_updated</code>, <code>workspace_quickshare_deleted</code>, <code>workspace_quickshare_file_downloaded</code>, <code>workspace_quickshare_file_previewed</code></p>
<p><strong>Invitations:</strong> <code>invitation_email_sent</code>, <code>invitation_accepted</code>, <code>invitation_declined</code></p>
<p><strong>User:</strong> <code>user_created</code>, <code>user_updated</code>, <code>user_deleted</code>, <code>user_email_reset</code>, <code>user_asset_updated</code></p>
<p><strong>Org:</strong> <code>org_created</code>, <code>org_updated</code>, <code>org_closed</code>, <code>org_transfer_token_created</code>, <code>org_transfer_completed</code></p>
<p><strong>Billing:</strong> <code>subscription_created</code>, <code>subscription_cancelled</code>, <code>billing_free_trial_ended</code></p>
<h4>Example Queries</h4>
<ul>
<li><strong>Recent comments in a workspace:</strong> <code>event</code> action <code>search</code> with <code>workspace_id</code> and <code>subcategory: &quot;comments&quot;</code></li>
<li><strong>Files uploaded to a share:</strong> <code>event</code> action <code>search</code> with <code>share_id</code> and <code>event: &quot;share_storage_file_added&quot;</code></li>
<li><strong>All membership changes across an org:</strong> <code>event</code> action <code>search</code> with <code>org_id</code> and <code>subcategory: &quot;members&quot;</code></li>
<li><strong>AI activity in a workspace:</strong> <code>event</code> action <code>search</code> with <code>workspace_id</code> and <code>category: &quot;ai&quot;</code></li>
<li><strong>Who downloaded files from a share:</strong> <code>event</code> action <code>search</code> with <code>share_id</code> and <code>event: &quot;share_storage_download_token_created&quot;</code></li>
</ul>
<h3>Activity Polling</h3>
<p>Three mechanisms for detecting changes, listed from most to least preferred:</p>
<ol>
<li><strong><code>event</code> action <code>activity-poll</code></strong> ‚Äî The server holds the connection for up to 95 seconds and returns immediately when something changes. Returns activity keys (e.g. <code>ai_chat:{chatId}</code>, <code>storage</code>, <code>members</code>) and a <code>lastactivity</code> timestamp for the next poll. Use this for any &quot;wait for something to happen&quot; scenario, including AI chat completion.</li>
<li><strong>WebSocket</strong> ‚Äî For real-time push events. Best for live UIs.</li>
<li><strong><code>event</code> action <code>activity-list</code></strong> ‚Äî Retrieves recent activity events on demand. Use when you need a one-time snapshot rather than continuous monitoring.</li>
</ol>
<p><strong>Why this matters:</strong> Do not poll detail endpoints (like <code>ai</code> action <code>message-read</code>) in tight loops. Instead, use <code>event</code> action <code>activity-poll</code> to detect when something has changed, then fetch the details once.</p>
<h4>AI Message Completion</h4>
<p><code>ai</code> action <code>message-read</code> (with <code>context_type: &quot;workspace&quot;</code> or <code>&quot;share&quot;</code>) implements built-in polling (up to 15 attempts, 2-second intervals). If the response is still processing after that window, use <code>event</code> action <code>activity-poll</code> with the workspace or share ID instead of calling the read action in a loop:</p>
<ol>
<li>Call <code>event</code> action <code>activity-poll</code> with <code>entity_id</code> set to the workspace/share ID.</li>
<li>When the response includes an <code>ai_chat:{chatId}</code> key matching your chat, call <code>ai</code> action <code>message-read</code> once to get the completed response.</li>
</ol>
<h4>Activity Poll Workflow</h4>
<ol>
<li>Make an API call (e.g. <code>ai</code> action <code>chat-create</code>) and note the <code>server_date</code> field in the response.</li>
<li>Call <code>event</code> action <code>activity-poll</code> with <code>entity_id</code> (workspace or share ID) and <code>lastactivity</code> set to the <code>server_date</code> value.</li>
<li>The server holds the connection. When something changes (or the wait period expires), it returns activity keys.</li>
<li>Inspect the keys to determine what changed, then fetch the relevant detail (e.g. <code>ai</code> action <code>message-read</code>, <code>storage</code> action <code>list</code>).</li>
<li>Use the new <code>lastactivity</code> value from the poll response (or the latest <code>server_date</code>) for the next poll call. Repeat as needed.</li>
</ol>
<h3>Trash, Delete, and Purge</h3>
<ul>
<li><code>storage</code> action <code>delete</code> (with <code>context_type: &quot;workspace&quot;</code> or <code>&quot;share&quot;</code>) moves items to the trash. They are recoverable.</li>
<li><code>storage</code> action <code>restore</code> recovers items from the trash.</li>
<li><code>storage</code> action <code>purge</code> permanently and irreversibly deletes items from the trash.</li>
</ul>
<p>Always confirm with the user before calling purge operations.</p>
<h3>Node Types</h3>
<p>Storage nodes can be files, folders, notes, or links. The type is indicated in the storage details response. Notes are markdown files created with <code>workspace</code> action <code>create-note</code> and updated with <code>workspace</code> action <code>update-note</code>. Links are share reference nodes created with <code>storage</code> action <code>add-link</code>.</p>
<h3>Error Pattern</h3>
<p>Failed API calls throw errors with two fields: <code>code</code> (unique numeric error ID) and <code>text</code> (human-readable description). Tools surface these as error text in the MCP response. Common HTTP status codes include 401 (unauthorized), 403 (forbidden), 404 (not found), and 429 (rate limited).</p>
<h3>Session State</h3>
<p>The auth token, user ID, email, and token expiry are persisted in the server session. There is no need to pass tokens between tool calls. The session survives across multiple tool invocations within the same MCP connection.</p>
<h3>Human-Facing URLs</h3>
<p>MCP tools manage data via the API, but humans access Fast.io through a web browser. <strong>You must construct real, clickable URLs and include them in your responses whenever you create or reference a workspace, share, or transfer.</strong> The human cannot see API responses directly -- the URL you provide is how they get to their content. Build the URL by substituting values from API responses into these patterns:</p>
<p>Organization <code>domain</code> values become subdomains: <code>&quot;acme&quot;</code> ‚Üí <code>https://acme.fast.io/</code>. The base domain <code>go.fast.io</code> handles public routes that do not require org context.</p>
<h4>Authenticated Links (require login)</h4>
<table>
<thead>
<tr>
<th>What the human needs</th>
<th>URL pattern</th>
</tr>
</thead>
<tbody><tr>
<td>Workspace root</td>
<td><code>https://{domain}.fast.io/workspace/{folder_name}/storage/root</code></td>
</tr>
<tr>
<td>Specific folder</td>
<td><code>https://{domain}.fast.io/workspace/{folder_name}/storage/{node_id}</code></td>
</tr>
<tr>
<td>File preview</td>
<td><code>https://{domain}.fast.io/workspace/{folder_name}/preview/{node_id}</code></td>
</tr>
<tr>
<td>File with specific comment</td>
<td><code>https://{domain}.fast.io/workspace/{folder_name}/preview/{node_id}?comment={comment_id}</code></td>
</tr>
<tr>
<td>File at video/audio time</td>
<td><code>https://{domain}.fast.io/workspace/{folder_name}/preview/{node_id}?t={seconds}</code></td>
</tr>
<tr>
<td>File at PDF page</td>
<td><code>https://{domain}.fast.io/workspace/{folder_name}/preview/{node_id}?p={page_num}</code></td>
</tr>
<tr>
<td>AI chat in workspace</td>
<td><code>https://{domain}.fast.io/workspace/{folder_name}/storage/root?chat={chat_id}</code></td>
</tr>
<tr>
<td>Note in workspace</td>
<td><code>https://{domain}.fast.io/workspace/{folder_name}/storage/root?note={note_id}</code></td>
</tr>
<tr>
<td>Note preview</td>
<td><code>https://{domain}.fast.io/workspace/{folder_name}/preview/{note_id}</code></td>
</tr>
<tr>
<td>Browse workspaces</td>
<td><code>https://{domain}.fast.io/browse-workspaces</code></td>
</tr>
<tr>
<td>Edit share settings</td>
<td><code>https://{domain}.fast.io/workspace/{folder_name}/share/{custom_name}</code></td>
</tr>
<tr>
<td>Org settings</td>
<td><code>https://{domain}.fast.io/settings</code></td>
</tr>
<tr>
<td>Billing</td>
<td><code>https://{domain}.fast.io/settings/billing</code></td>
</tr>
</tbody></table>
<h4>Public Links (no login required)</h4>
<table>
<thead>
<tr>
<th>What the human needs</th>
<th>URL pattern</th>
</tr>
</thead>
<tbody><tr>
<td>Public share</td>
<td><code>https://go.fast.io/shared/{custom_name}/{title-slug}</code></td>
</tr>
<tr>
<td>Org-branded share</td>
<td><code>https://{domain}.fast.io/shared/{custom_name}/{title-slug}</code></td>
</tr>
<tr>
<td>File in share</td>
<td><code>https://go.fast.io/shared/{custom_name}/{title-slug}/preview/{node_id}</code></td>
</tr>
<tr>
<td>File in share with comment</td>
<td><code>https://go.fast.io/shared/{custom_name}/{title-slug}/preview/{node_id}?comment={comment_id}</code></td>
</tr>
<tr>
<td>QuickShare</td>
<td><code>https://go.fast.io/quickshare/{quickshare_id}</code></td>
</tr>
<tr>
<td>Claim org transfer</td>
<td><code>https://go.fast.io/claim?token={transfer_token}</code></td>
</tr>
<tr>
<td>Onboarding</td>
<td><code>https://go.fast.io/onboarding</code> or <code>https://go.fast.io/onboarding?orgId={org_id}&amp;orgDomain={domain}</code></td>
</tr>
</tbody></table>
<h4>Where the values come from</h4>
<table>
<thead>
<tr>
<th>Value</th>
<th>API source</th>
</tr>
</thead>
<tbody><tr>
<td><code>domain</code></td>
<td><code>org</code> action <code>create</code> or <code>details</code> response</td>
</tr>
<tr>
<td><code>folder_name</code></td>
<td><code>org</code> action <code>create-workspace</code> or <code>workspace</code> action <code>details</code> response</td>
</tr>
<tr>
<td><code>node_id</code></td>
<td><code>storage</code> action <code>list</code>, <code>create-folder</code>, or <code>add-file</code> response</td>
</tr>
<tr>
<td><code>custom_name</code></td>
<td><code>share</code> action <code>create</code> or <code>details</code> response (the <code>{title-slug}</code> is cosmetic -- the share resolves on <code>custom_name</code> alone)</td>
</tr>
<tr>
<td><code>quickshare_id</code></td>
<td><code>workspace</code> action <code>quickshare-create</code> response</td>
</tr>
<tr>
<td><code>transfer_token</code></td>
<td><code>org</code> action <code>transfer-token-create</code> response</td>
</tr>
<tr>
<td><code>chat_id</code></td>
<td><code>ai</code> action <code>chat-create</code> or <code>chat-list</code> response</td>
</tr>
<tr>
<td><code>note_id</code></td>
<td><code>workspace</code> action <code>create-note</code> or <code>storage</code> action <code>list</code> response (node opaque ID)</td>
</tr>
<tr>
<td><code>comment_id</code></td>
<td><code>comment</code> action <code>add</code> or <code>list</code> response</td>
</tr>
<tr>
<td><code>org_id</code></td>
<td><code>org</code> action <code>create</code> or <code>list</code> response</td>
</tr>
</tbody></table>
<p><strong>Always provide URLs to the human in these situations:</strong></p>
<ul>
<li><strong>Created a workspace?</strong> Include the workspace URL in your response. Example: <code>https://acme.fast.io/workspace/q4-reports/storage/root</code></li>
<li><strong>Created or configured a share?</strong> Include the share URL. Example: <code>https://go.fast.io/shared/q4-financials/Q4-Financial-Report</code> -- this is the branded page the human (or their recipients) will open.</li>
<li><strong>Generated a transfer token?</strong> Include the claim URL. Example: <code>https://go.fast.io/claim?token=abc123</code> -- this is the only way the human can claim ownership.</li>
<li><strong>Uploaded files or created folders?</strong> Include the workspace URL pointing to the relevant folder so the human can see what you built.</li>
<li><strong>Human asks &quot;where can I see this?&quot;</strong> Construct the URL from API response data you already have and provide it.</li>
</ul>
<p><strong>Important:</strong> The <code>domain</code> is the org&#39;s domain string (e.g. <code>acme</code>), not the numeric org ID. The <code>folder_name</code> is the workspace&#39;s folder name string (e.g. <code>q4-reports</code>), not the numeric workspace ID. Both are returned by their respective API tools.</p>
<h3>Unauthenticated Tools</h3>
<p>The following actions work without a session: <code>auth</code> actions <code>signin</code>, <code>signup</code>, <code>set-api-key</code>, <code>pkce-login</code>, <code>email-check</code>, <code>password-reset-request</code>, <code>password-reset</code>; and <code>download</code> action <code>quickshare-details</code>.</p>
<hr>
<h2>8. Complete Tool Reference</h2>
<p>All 14 tools with their actions organized by functional area. Each entry shows the action name and its description.</p>
<h3>auth</h3>
<p><strong>signin</strong> -- Sign in to Fast.io with email and password. Returns a JWT auth token. If the account has 2FA enabled the token will have limited scope until 2fa-verify is called. The token is stored in the session automatically.</p>
<p><strong>set-api-key</strong> -- Authenticate using a Fast.io API key. API keys are a 1:1 replacement for JWT tokens -- they work as Bearer tokens with the same permissions as the account owner. The key is validated against the API and stored in the session. All subsequent tool calls are authenticated automatically. API keys do not expire unless revoked.</p>
<p><strong>signup</strong> -- Create a new Fast.io agent account (agent=true), then automatically sign in. Sets account_type to &quot;agent&quot; and assigns the free agent plan. Email verification is required after signup -- call email-verify to send a code, then call it again with the code to verify. Most endpoints require a verified email. No authentication required for signup itself.</p>
<p><strong>check</strong> -- Check whether the current session token is still valid. Returns the user ID associated with the token.</p>
<p><strong>session</strong> -- Get current session information for the authenticated user, including profile details such as name, email, and account flags.</p>
<p><strong>signout</strong> -- Sign out by clearing the stored session. If currently authenticated the token is verified first.</p>
<p><strong>2fa-verify</strong> -- Complete two-factor authentication by submitting a 2FA code. Call this after signin returns two_factor_required: true. The new full-scope token is stored automatically.</p>
<p><strong>email-check</strong> -- Check if an email address is available for registration. No authentication required.</p>
<p><strong>password-reset-request</strong> -- Request a password reset email. Always returns success for security (does not reveal whether the email exists). No authentication required.</p>
<p><strong>password-reset</strong> -- Set a new password using a reset code received by email. No authentication required.</p>
<p><strong>email-verify</strong> -- Send or validate an email verification code. When email_token is omitted a new code is sent. When provided the code is validated and the email marked as verified.</p>
<p><strong>status</strong> -- Check local session status. No API call is made. Returns whether the user is authenticated, and if so their user_id, email, token expiry, scopes (if scoped access), and agent_name (if set).</p>
<p><strong>pkce-login</strong> -- Start a browser-based PKCE login flow. Returns a URL for the user to open in their browser. After signing in and approving access, the browser displays an authorization code. The user copies the code and provides it to pkce-complete to finish signing in. No password is sent through the agent. Optional params: <code>scope_type</code> (default <code>&quot;user&quot;</code> for full access; use <code>&quot;org&quot;</code>, <code>&quot;workspace&quot;</code>, <code>&quot;all_orgs&quot;</code>, <code>&quot;all_workspaces&quot;</code>, or <code>&quot;all_shares&quot;</code> for scoped access), <code>agent_name</code> (displayed in the approval screen and audit logs; defaults to MCP client name).</p>
<p><strong>pkce-complete</strong> -- Complete a PKCE login flow by exchanging the authorization code for an access token. Call this after the user has approved access in the browser and copied the code from the screen. The token is stored in the session automatically. If scoped access was granted, the response includes <code>scopes</code> (JSON array of granted scope strings like <code>&quot;org:123:rw&quot;</code>) and <code>agent_name</code>.</p>
<p><strong>api-key-create</strong> -- Create a new persistent API key. The full key value is only returned once at creation time -- store it securely.</p>
<p><strong>api-key-list</strong> -- List all API keys for the authenticated user. Key values are masked (only last 4 characters visible).</p>
<p><strong>api-key-get</strong> -- Get details of a specific API key. The key value is masked.</p>
<p><strong>api-key-delete</strong> -- Revoke (delete) an API key. This action cannot be undone.</p>
<p><strong>2fa-status</strong> -- Get the current two-factor authentication configuration status (enabled, unverified, or disabled).</p>
<p><strong>2fa-enable</strong> -- Enable two-factor authentication on the specified channel. For TOTP, returns a binding URI for QR code display. The account enters an &#39;unverified&#39; state until 2fa-verify-setup is called.</p>
<p><strong>2fa-disable</strong> -- Disable (remove) two-factor authentication from the account. Requires a valid 2FA code to confirm when 2FA is in the enabled (verified) state.</p>
<p><strong>2fa-send</strong> -- Send a 2FA verification code to the user&#39;s phone via SMS, voice call, or WhatsApp.</p>
<p><strong>2fa-verify-setup</strong> -- Verify a 2FA setup code to confirm enrollment. Transitions 2FA from the &#39;unverified&#39; state to &#39;enabled&#39;.</p>
<p><strong>oauth-list</strong> -- List all active OAuth sessions for the authenticated user.</p>
<p><strong>oauth-details</strong> -- Get details of a specific OAuth session.</p>
<p><strong>oauth-revoke</strong> -- Revoke a specific OAuth session (log out that device).</p>
<p><strong>oauth-revoke-all</strong> -- Revoke all OAuth sessions. Optionally exclude the current session to enable &#39;log out everywhere else&#39;.</p>
<h3>user</h3>
<p><strong>me</strong> -- Get the current authenticated user&#39;s profile details.</p>
<p><strong>update</strong> -- Update the current user&#39;s profile (name, email, etc.).</p>
<p><strong>search</strong> -- Search for users by name or email address.</p>
<p><strong>close</strong> -- Close/delete the current user account (requires email confirmation).</p>
<p><strong>details-by-id</strong> -- Get another user&#39;s public profile details by their user ID.</p>
<p><strong>profiles</strong> -- Check what profile types (orgs, workspaces, shares) the user has access to.</p>
<p><strong>allowed</strong> -- Check if the user&#39;s country allows creating shares and organizations.</p>
<p><strong>org-limits</strong> -- Get free org creation eligibility, limits, and cooldown status.</p>
<p><strong>list-shares</strong> -- List all shares the current user is a member of.</p>
<p><strong>invitation-list</strong> -- List all pending invitations for the current user.</p>
<p><strong>invitation-details</strong> -- Get details of a specific invitation by its ID or key.</p>
<p><strong>accept-all-invitations</strong> -- Accept all pending invitations at once.</p>
<p><strong>asset-upload</strong> -- Upload a user asset (e.g. profile photo). Provide either plain-text content or base64-encoded content_base64 (not both).</p>
<p><strong>asset-delete</strong> -- Delete a user asset (e.g. profile photo).</p>
<p><strong>asset-types</strong> -- List available asset types for users.</p>
<p><strong>asset-list</strong> -- List all user assets.</p>
<h3>org</h3>
<p><strong>list</strong> -- List internal organizations (orgs the user is a direct member of, <code>member: true</code>). Returns member orgs with subscription status, user permission, and plan info. Non-admin members only see orgs with active subscriptions. Does not include external orgs -- use discover-external for those.</p>
<p><strong>details</strong> -- Get detailed information about an organization. Fields returned vary by the caller&#39;s role: owners see encryption keys and storage config, admins see billing and permissions, members see basic info.</p>
<p><strong>members</strong> -- List all members of an organization with their IDs, emails, names, and permission levels.</p>
<p><strong>invite-member</strong> -- Invite a user to the organization by email. The email is passed in the URL path (not the body). If the user already has a Fast.io account they are added directly; otherwise an email invitation is sent. Cannot add as owner.</p>
<p><strong>remove-member</strong> -- Remove a member from the organization. Requires member management permission as configured by the org&#39;s perm_member_manage setting.</p>
<p><strong>update-member-role</strong> -- Update a member&#39;s role/permissions in the organization. Cannot set role to &#39;owner&#39; -- use transfer-ownership instead.</p>
<p><strong>limits</strong> -- Get organization plan limits and credit usage. Returns credit limits, usage stats, billing period, trial info, and run-rate projections. Requires admin or owner role.</p>
<p><strong>list-workspaces</strong> -- List workspaces in an organization that the current user can access. Owners and admins see all workspaces; members see workspaces matching the join permission setting.</p>
<p><strong>list-shares</strong> -- List shares accessible to the current user. Returns all shares including parent org and workspace info. Use parent_org in the response to identify shares belonging to a specific organization.</p>
<p><strong>create</strong> -- Create a new organization on the &quot;agent&quot; billing plan. The authenticated user becomes the owner. A storage instance and agent-plan subscription (free, 50 GB, 5,000 credits/month) are created automatically. Returns the new org and trial status.</p>
<p><strong>update</strong> -- Update organization details. Only provided fields are changed. Supports identity, branding, social links, permissions, and billing email. Requires admin or owner role.</p>
<p><strong>close</strong> -- Close/delete an organization. Cancels any active subscription and initiates deletion. Requires owner role. The confirm field must match the org domain or org ID.</p>
<p><strong>public-details</strong> -- Get public details for an organization. Does not require membership -- returns public-level fields only (name, domain, logo, accent color). The org must exist and not be closed/suspended.</p>
<p><strong>create-workspace</strong> -- Create a new workspace within the organization. Checks workspace feature availability and creation limits based on the org billing plan. The creating user becomes the workspace owner.</p>
<p><strong>billing-plans</strong> -- List available billing plans with pricing, features, and plan defaults. Returns plan IDs needed for subscription creation.</p>
<p><strong>billing-create</strong> -- Create a new subscription or update an existing one. For new subscriptions, creates a Stripe Setup Intent. For existing subscriptions, updates the plan. Requires admin or owner.</p>
<p><strong>billing-cancel</strong> -- Cancel the organization&#39;s subscription. Requires owner role. Some plans may cause the org to be closed on cancellation.</p>
<p><strong>billing-details</strong> -- Get comprehensive billing and subscription details including Stripe customer info, subscription status, setup intents, payment intents, and plan info. Requires admin or owner.</p>
<p><strong>billing-activate</strong> -- Activate a billing plan (development environment only). Simulates Stripe payment setup and activates the subscription using a test payment method.</p>
<p><strong>billing-reset</strong> -- Reset billing status (development environment only). Deletes the Stripe customer and removes the subscriber flag.</p>
<p><strong>billing-members</strong> -- List billable members with their workspace memberships. Shows who the org is being billed for. Requires admin or owner role.</p>
<p><strong>billing-meters</strong> -- Get usage meter time-series data (storage, transfer, AI, etc). Returns grouped data points with cost and credit calculations. Requires admin or owner role.</p>
<p><strong>leave</strong> -- Leave an organization. Removes the current user&#39;s own membership. Owners cannot leave -- they must transfer ownership or close the org first.</p>
<p><strong>member-details</strong> -- Get detailed membership information for a specific user in the organization, including permissions, invite status, notification preference, and expiration.</p>
<p><strong>transfer-ownership</strong> -- Transfer organization ownership to another member. The current owner is demoted to admin. Requires owner role.</p>
<p><strong>transfer-token-create</strong> -- Create a transfer token (valid 72 hours) for an organization. Send the claim URL <code>https://go.fast.io/claim?token=&lt;token&gt;</code> to a human. Use when handing off an org or when hitting 402 Payment Required on the agent plan. Requires owner role.</p>
<p><strong>transfer-token-list</strong> -- List all active transfer tokens for an organization. Requires owner role.</p>
<p><strong>transfer-token-delete</strong> -- Delete (revoke) a pending transfer token. Requires owner role.</p>
<p><strong>transfer-claim</strong> -- Claim an organization using a transfer token. The authenticated user becomes the new owner and the previous owner is demoted to admin.</p>
<p><strong>invitations-list</strong> -- List all pending invitations for the organization. Optionally filter by invitation state. Requires any org membership.</p>
<p><strong>invitation-update</strong> -- Update an existing invitation for the organization. Can change state, permissions, or expiration.</p>
<p><strong>invitation-delete</strong> -- Revoke/delete an invitation for the organization.</p>
<p><strong>join</strong> -- Join an organization via invitation or authorized domain auto-join. Optionally provide an invitation key and action (accept/decline).</p>
<p><strong>asset-upload</strong> -- Upload an org asset (e.g. logo, banner). Provide either plain-text content or base64-encoded file_base64 (not both). Requires admin or owner role.</p>
<p><strong>asset-delete</strong> -- Delete an asset from the organization. Requires admin or owner role.</p>
<p><strong>asset-types</strong> -- List available asset types for organizations.</p>
<p><strong>asset-list</strong> -- List all organization assets.</p>
<p><strong>discover-all</strong> -- List all accessible organizations (joined + invited). Returns org data with user_status indicating relationship.</p>
<p><strong>discover-available</strong> -- List organizations available to join. Excludes orgs the user is already a member of.</p>
<p><strong>discover-check-domain</strong> -- Check if an organization domain name is available for use. Validates format, checks reserved names, and checks existing domains.</p>
<p><strong>discover-external</strong> -- List external organizations (<code>member: false</code>) -- orgs the user can access only through workspace membership, not as a direct org member. Common when a human invites an agent to a workspace without inviting them to the org. See <strong>Internal vs External Orgs</strong> in the Organizations section.</p>
<h3>workspace</h3>
<p><strong>list</strong> -- List all workspaces the user has access to across all organizations.</p>
<p><strong>details</strong> -- Get detailed information about a specific workspace.</p>
<p><strong>update</strong> -- Update workspace settings such as name, description, branding, and permissions.</p>
<p><strong>delete</strong> -- Permanently close (soft-delete) a workspace. Requires Owner permission and confirmation.</p>
<p><strong>archive</strong> -- Archive a workspace (blocks modifications, preserves data). Requires Admin+.</p>
<p><strong>unarchive</strong> -- Restore an archived workspace to active status. Requires Admin+.</p>
<p><strong>members</strong> -- List all members of a workspace with their roles and status.</p>
<p><strong>list-shares</strong> -- List all shares within a workspace, optionally filtered by archive status.</p>
<p><strong>import-share</strong> -- Import a user-owned share into a workspace. You must be the sole owner of the share.</p>
<p><strong>available</strong> -- List workspaces the current user can join but has not yet joined.</p>
<p><strong>check-name</strong> -- Check if a workspace folder name is available for use.</p>
<p><strong>create-note</strong> -- Create a new markdown note in workspace storage.</p>
<p><strong>update-note</strong> -- Update a note&#39;s markdown content and/or name (at least one required).</p>
<p><strong>quickshare-get</strong> -- Get existing quickshare details for a node.</p>
<p><strong>quickshare-delete</strong> -- Revoke and delete a quickshare link for a node.</p>
<p><strong>quickshares-list</strong> -- List all active quickshares in the workspace.</p>
<p><strong>metadata-template-create</strong> -- Create a new metadata template in the workspace. Requires name, description, category (legal, financial, business, medical, technical, engineering, insurance, educational, multimedia, hr), and fields (JSON-encoded array of field definitions). Each field has name, description, type (string, int, float, bool, json, url, datetime), and optional constraints (min, max, default, fixed_list, can_be_null).</p>
<p><strong>metadata-template-delete</strong> -- Delete a metadata template. System templates and locked templates cannot be deleted. Requires template_id.</p>
<p><strong>metadata-template-list</strong> -- List metadata templates. Optional template_filter: enabled, disabled, custom (non-system), or system. Returns all non-deleted templates when no filter is specified.</p>
<p><strong>metadata-template-details</strong> -- Get full details of a metadata template including all field definitions. Requires template_id.</p>
<p><strong>metadata-template-update</strong> -- Update an existing metadata template. Any combination of name, description, category, and fields can be updated. Requires template_id.</p>
<p><strong>metadata-template-clone</strong> -- Clone a metadata template with optional modifications. Creates a new template based on an existing one. Same parameters as metadata-template-update. Requires template_id.</p>
<p><strong>metadata-template-assign</strong> -- Assign a metadata template to a workspace. Each workspace can have at most one assigned template. Assigning a system template automatically clones it. Requires template_id. Optional node_id (null for workspace-level assignment).</p>
<p><strong>metadata-template-unassign</strong> -- Remove the template assignment from a workspace. Requires workspace admin permission.</p>
<p><strong>metadata-template-resolve</strong> -- Resolve which metadata template applies to a given node. Returns the workspace-level template (node_id is accepted but currently inherits from workspace). Returns null if no template is assigned.</p>
<p><strong>metadata-template-assignments</strong> -- List all template assignments in the workspace.</p>
<p><strong>metadata-get</strong> -- Get all metadata for a file, including both template-conforming metadata and custom (freeform) key-value pairs. Returns node details, template_id, template_metadata array, and custom_metadata array. Requires node_id.</p>
<p><strong>metadata-set</strong> -- Set or update metadata key-value pairs on a file. Values must conform to the template field definitions. Requires node_id, template_id, and key_values (JSON object of key-value pairs).</p>
<p><strong>metadata-delete</strong> -- Delete metadata from a file. Provide keys (JSON array of key names) to delete specific entries, or omit to delete all metadata. Only works on files and notes, not folders. Requires node_id.</p>
<p><strong>metadata-extract</strong> -- Trigger AI-powered metadata extraction from a file. The AI analyzes file content and populates metadata fields according to the template. Extracted values are marked with is_auto: true. Consumes AI credits. Optional template_id (defaults to workspace template). Requires node_id.</p>
<p><strong>metadata-list-files</strong> -- List files that have metadata for a specific template, with optional filtering and sorting. Requires node_id (folder to search in) and template_id. Optional metadata_filters (JSON-encoded), order_by (field key), and order_desc.</p>
<p><strong>metadata-list-templates-in-use</strong> -- List which metadata templates are in use within a folder, with usage counts per template. Requires node_id.</p>
<p><strong>metadata-versions</strong> -- Get metadata version history for a file. Returns snapshots of metadata changes over time. Requires node_id.</p>
<h3>share</h3>
<p><strong>list</strong> -- List shares the authenticated user has access to.</p>
<p><strong>details</strong> -- Get full details of a specific share.</p>
<p><strong>create</strong> -- Create a new share in a workspace.</p>
<p><strong>update</strong> -- Update share settings (partial update).</p>
<p><strong>delete</strong> -- Delete (close) a share. Requires the share ID or custom name as confirmation.</p>
<p><strong>public-details</strong> -- Get public-facing share info (no membership required, just auth).</p>
<p><strong>archive</strong> -- Archive a share. Blocks guest access and restricts modifications.</p>
<p><strong>unarchive</strong> -- Restore a previously archived share to active status.</p>
<p><strong>password-auth</strong> -- Authenticate with a share password. Returns a scoped JWT for the share.</p>
<p><strong>members</strong> -- List all members of a share.</p>
<p><strong>available</strong> -- List shares available to join (joined and owned, excludes pending invitations).</p>
<p><strong>check-name</strong> -- Check if a share custom name (URL name) is available.</p>
<p><strong>quickshare-create</strong> -- Create a temporary QuickShare link for a file in a workspace.</p>
<h3>storage</h3>
<p>All storage actions require <code>context_type</code> parameter (<code>workspace</code> or <code>share</code>) and <code>context_id</code> (the 19-digit profile ID).</p>
<p><strong>list</strong> -- List files and folders in a directory with pagination.</p>
<p><strong>details</strong> -- Get full details of a specific file or folder.</p>
<p><strong>search</strong> -- Search for files by keyword or semantic query.</p>
<p><strong>trash-list</strong> -- List items currently in the trash.</p>
<p><strong>create-folder</strong> -- Create a new folder.</p>
<p><strong>copy</strong> -- Copy files or folders to another location.</p>
<p><strong>move</strong> -- Move files or folders to a different parent folder.</p>
<p><strong>delete</strong> -- Delete files or folders by moving them to the trash.</p>
<p><strong>rename</strong> -- Rename a file or folder.</p>
<p><strong>purge</strong> -- Permanently delete a trashed node (irreversible). Requires Member permission.</p>
<p><strong>restore</strong> -- Restore files or folders from the trash.</p>
<p><strong>add-file</strong> -- Link a completed upload to a storage location.</p>
<p><strong>add-link</strong> -- Add a share reference link node to storage.</p>
<p><strong>transfer</strong> -- Copy a node to another workspace or share storage instance.</p>
<p><strong>version-list</strong> -- List version history for a file.</p>
<p><strong>version-restore</strong> -- Restore a file to a previous version.</p>
<p><strong>lock-acquire</strong> -- Acquire an exclusive lock on a file to prevent concurrent edits.</p>
<p><strong>lock-status</strong> -- Check the lock status of a file.</p>
<p><strong>lock-release</strong> -- Release an exclusive lock on a file.</p>
<p><strong>preview-url</strong> -- Get a preauthorized preview URL for a file (thumbnail, PDF, image, video, audio, spreadsheet). Requires <code>preview_type</code> parameter.</p>
<p><strong>preview-transform</strong> -- Request a file transformation (image resize, crop, format conversion) and get a download URL for the result. Requires <code>transform_name</code> parameter.</p>
<h3>upload</h3>
<p><strong>create-session</strong> -- Create a chunked upload session for a file.</p>
<p><strong>chunk</strong> -- Upload a single chunk. Use <code>content</code> for text/strings, <code>blob_ref</code> for binary data staged via <code>POST /blob</code> (preferred ‚Äî avoids base64 overhead), or <code>data</code> for legacy base64-encoded binary. Provide exactly one.</p>
<p><strong>finalize</strong> -- Finalize an upload session, trigger file assembly, and poll until fully stored or failed. Returns the final session state.</p>
<p><strong>status</strong> -- Get the current status of an upload session. Supports server-side long-poll via optional <code>wait</code> parameter (in milliseconds, 0 = immediate).</p>
<p><strong>cancel</strong> -- Cancel and delete an active upload session.</p>
<p><strong>list-sessions</strong> -- List all active upload sessions for the current user.</p>
<p><strong>cancel-all</strong> -- Cancel and delete ALL active upload sessions at once.</p>
<p><strong>chunk-status</strong> -- Get chunk information for an upload session.</p>
<p><strong>chunk-delete</strong> -- Delete/reset a chunk in an upload session.</p>
<p><strong>text-file</strong> -- Upload a text file in a single step. Creates an upload session, uploads the content, finalizes, and polls until stored. Returns the new file ID. Use for text-based files (code, markdown, CSV, JSON, config) instead of the multi-step chunked flow.</p>
<p><strong>web-import</strong> -- Import a file from an external URL into a workspace or share.</p>
<p><strong>web-list</strong> -- List the user&#39;s web upload jobs with optional filtering.</p>
<p><strong>web-cancel</strong> -- Cancel an active web upload job.</p>
<p><strong>web-status</strong> -- Get detailed status of a specific web upload job.</p>
<p><strong>limits</strong> -- Get upload size and chunk limits for the user&#39;s plan.</p>
<p><strong>extensions</strong> -- Get restricted and allowed file extensions for uploads.</p>
<h3>download</h3>
<p><strong>file-url</strong> -- Get a download token and URL for a file. Optionally specify a version. Requires <code>context_type</code> (<code>workspace</code> or <code>share</code>) and <code>context_id</code>.</p>
<p><strong>zip-url</strong> -- Get a ZIP download URL for a folder or entire workspace/share. Returns the URL with auth instructions. Requires <code>context_type</code> and <code>context_id</code>.</p>
<p><strong>quickshare-details</strong> -- Get metadata and download info for a quickshare link. No authentication required.</p>
<h3>ai</h3>
<p>All AI actions require <code>context_type</code> parameter (<code>workspace</code> or <code>share</code>) and <code>context_id</code> (the 19-digit profile ID).</p>
<p><strong>chat-create</strong> -- Create a new AI chat with an initial question. Default scope is the entire workspace (all indexed files) ‚Äî omit <code>files_scope</code> and <code>folders_scope</code> unless you need to narrow the search. When using scope or attachments, both <code>nodeId</code> AND <code>versionId</code> are required and must be non-empty (get <code>versionId</code> from storage list/details <code>version</code> field). Returns chat ID and initial message ID -- use message-read to get the AI response.</p>
<p><strong>chat-list</strong> -- List AI chats.</p>
<p><strong>chat-details</strong> -- Get AI chat details including full message history.</p>
<p><strong>chat-update</strong> -- Update the name of an AI chat.</p>
<p><strong>chat-delete</strong> -- Delete an AI chat.</p>
<p><strong>chat-publish</strong> -- Publish a private AI chat, making it visible to all members.</p>
<p><strong>message-send</strong> -- Send a follow-up message in an existing AI chat. Returns message ID -- use message-read to get the AI response.</p>
<p><strong>message-list</strong> -- List all messages in an AI chat.</p>
<p><strong>message-details</strong> -- Get details for a specific message in an AI chat including response text and citations.</p>
<p><strong>message-read</strong> -- Read an AI message response. Polls the message details endpoint until the AI response is complete, then returns the full text.</p>
<p><strong>share-generate</strong> -- Generate AI Share markdown with temporary download URLs for files that can be pasted into external AI chatbots.</p>
<p><strong>transactions</strong> -- List AI token usage transactions for billing tracking.</p>
<p><strong>autotitle</strong> -- Generate AI-powered title and description based on contents (share context only).</p>
<h3>comment</h3>
<p>All comment endpoints use the path pattern <code>/comments/{entity_type}/{parent_id}/</code> or <code>/comments/{entity_type}/{parent_id}/{node_id}/</code> where <code>entity_type</code> is <code>workspace</code> or <code>share</code>, <code>parent_id</code> is the 19-digit profile ID, and <code>node_id</code> is the file&#39;s opaque ID.</p>
<p><strong>list</strong> -- List comments on a specific file (node). Params: sort (<code>created</code>/<code>-created</code>), limit (2-200), offset, include_deleted, reference_type filter, include_total.</p>
<p><strong>list-all</strong> -- List all comments across a workspace or share (not node-specific). Same listing params as list.</p>
<p><strong>add</strong> -- Add a comment to a specific file. Body: text (max 8,192 chars total, max 2,048 chars display text with <code>@[...]</code> mention tags stripped). Supports mention tags: <code>@[profile:id]</code>, <code>@[user:opaqueId:Name]</code>, <code>@[file:fileId:name.ext]</code>. Optional parent_comment_id (single-level threading, replies to replies auto-flatten), optional reference (type, timestamp, page, region, text_snippet for content anchoring). Uses JSON body.</p>
<p><strong>delete</strong> -- Delete a comment. Recursive: deleting a parent also removes all its replies.</p>
<p><strong>bulk-delete</strong> -- Bulk soft-delete multiple comments (max 100). NOT recursive: replies to deleted comments are preserved.</p>
<p><strong>details</strong> -- Get full details of a single comment by its ID.</p>
<p><strong>reaction-add</strong> -- Add or change your emoji reaction. One reaction per user per comment; new replaces previous.</p>
<p><strong>reaction-remove</strong> -- Remove your emoji reaction from a comment.</p>
<h3>event</h3>
<p><strong>search</strong> -- Search the audit/event log with filters for profile, event type, category, subcategory, event name, and date range. See <strong>Event Filtering Reference</strong> in section 7 for the full taxonomy of categories, subcategories, and event names.</p>
<p><strong>summarize</strong> -- Search events and return an AI-powered natural language summary of the activity. Accepts the same category/subcategory/event filters as search.</p>
<p><strong>details</strong> -- Get full details for a single event by its ID.</p>
<p><strong>activity-list</strong> -- Poll for recent activity events on a workspace or share.</p>
<p><strong>activity-poll</strong> -- Long-poll for activity changes on a workspace or share. The server holds the connection until a change occurs or the wait period expires. Returns activity keys indicating what changed and a lastactivity timestamp for the next poll.</p>
<h3>member</h3>
<p>All member actions require <code>entity_type</code> parameter (<code>workspace</code> or <code>share</code>) and <code>entity_id</code> (the 19-digit profile ID).</p>
<p><strong>add</strong> -- Add an existing user by user ID, or invite by email. Pass the email address or user ID as <code>email_or_user_id</code>.</p>
<p><strong>remove</strong> -- Remove a member (cannot remove the owner).</p>
<p><strong>details</strong> -- Get detailed membership info for a specific member.</p>
<p><strong>update</strong> -- Update a member&#39;s role, notifications, or expiration.</p>
<p><strong>transfer-ownership</strong> -- Transfer ownership to another member (current owner is demoted to admin).</p>
<p><strong>leave</strong> -- Leave (remove yourself). Owner must transfer ownership first.</p>
<p><strong>join</strong> -- Self-join based on organization membership.</p>
<p><strong>join-invitation</strong> -- Accept or decline an invitation using an invitation key.</p>
<h3>invitation</h3>
<p>All invitation actions require <code>entity_type</code> parameter (<code>workspace</code> or <code>share</code>) and <code>entity_id</code> (the 19-digit profile ID).</p>
<p><strong>list</strong> -- List all pending invitations.</p>
<p><strong>list-by-state</strong> -- List invitations filtered by state.</p>
<p><strong>update</strong> -- Resend or update an invitation (by ID or invitee email).</p>
<p><strong>delete</strong> -- Revoke and delete a pending invitation.</p>
<h3>asset</h3>
<p>All asset actions require <code>entity_type</code> parameter (<code>org</code>, <code>workspace</code>, <code>share</code>, or <code>user</code>) and <code>entity_id</code> (the 19-digit profile ID for org/workspace/share).</p>
<p><strong>upload</strong> -- Upload an asset (e.g. logo, banner, profile photo). Provide either plain-text content or base64-encoded data (not both).</p>
<p><strong>delete</strong> -- Delete an asset.</p>
<p><strong>types</strong> -- List available asset types for the entity.</p>
<p><strong>list</strong> -- List all assets for the entity.</p>
<p><strong>read</strong> -- Read/download an asset.</p>

                </div>
              </div>
            </article>
            <aside class="skill-page-sidebar">
              <div class="sidebar-card">
                <div class="sidebar-title">Actions</div>
                <a href="https://github.com/openclaw/skills/tree/main/skills/dbalve/fast-io/SKILL.md" target="_blank" rel="noopener" class="sidebar-btn sidebar-btn-primary">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
                  View on GitHub
                </a>
                <a href="https://clawdhub.com/dbalve/fast-io" target="_blank" rel="noopener" class="sidebar-btn sidebar-btn-clawdhub">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/><line x1="2" y1="12" x2="22" y2="12"/></svg>
                  View on ClawdHub
                </a>
                <a href="https://raw.githubusercontent.com/openclaw/skills/main/skills/dbalve/fast-io/SKILL.md" download="SKILL.md" class="sidebar-btn sidebar-btn-secondary">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                  Download SKILL.md
                </a>
                <button onclick="sendToSecurityAuditor()" class="sidebar-btn sidebar-btn-security">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                  Security Check
                </button>
              </div>
              <div class="sidebar-card">
                <div class="sidebar-title">Details</div>
                <div class="sidebar-info">
                  <div class="sidebar-info-item">
                    <span class="sidebar-info-label">Author</span>
                    <span class="sidebar-info-value">@dbalve</span>
                  </div>
                  <div class="sidebar-info-item">
                    <span class="sidebar-info-label">Category</span>
                    <span class="sidebar-info-value">Self-Hosted & Automation</span>
                  </div>
                </div>
              </div>
            </aside>
          </div>
        
  <footer class="footer">
    <div class="footer-inner">
      <p class="footer-text" style="margin-bottom: 8px;"><a href="https://github.com/neonone123/moltdirectory" target="_blank" rel="noopener" style="color: var(--accent); text-decoration: none;">View on GitHub</a></p>
      <p class="footer-text" style="opacity: 0.6; font-size: 13px;">OpenClawDirectory.com is a community-run project and is not affiliated with the official OpenClaw team or Peter Steinberger. We are just fans of the lobster.</p>
    </div>
  </footer>
  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      if (newTheme === 'light') {
        html.setAttribute('data-theme', 'light');
      } else {
        html.removeAttribute('data-theme');
      }
      localStorage.setItem('theme', newTheme);
    }
    
    function copySkillContent(btn) {
      const wrapper = btn.closest('.skill-source-wrapper');
      const content = wrapper.querySelector('.markdown-content');
      if (content) {
        const text = content.innerText || content.textContent;
        navigator.clipboard.writeText(text).then(() => {
          btn.classList.add('copied');
          btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg> Copied!';
          setTimeout(() => {
            btn.classList.remove('copied');
            btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy';
          }, 2000);
        });
      }
    }

    async function sendToSecurityAuditor() {
      try {
        const contentElement = document.querySelector('.markdown-content');
        if (!contentElement) throw new Error('Could not find markdown content');
        const skillContent = contentElement.innerText || contentElement.textContent;
        localStorage.setItem('skillAuditContent', skillContent);
        window.open('/security-auditor', '_blank'); 
      } catch (error) {
        alert('Error: ' + error.message);
      }
    }

    function updateVoteWidget(widget, toolData) {
      if (!widget || !toolData) return;
      const upBtn = widget.querySelector('[data-vote="1"]');
      const downBtn = widget.querySelector('[data-vote="-1"]');
      const countNode = widget.querySelector('.vote-count');
      widget.dataset.rankScore = String(toolData.rankScore ?? 0);
      widget.dataset.viewerVote = String(toolData.viewerVote ?? 0);

      if (countNode) {
        countNode.textContent = toolData.displayCount || 'New';
      }
      if (upBtn) {
        upBtn.classList.toggle('is-active', Number(toolData.viewerVote) === 1);
      }
      if (downBtn) {
        downBtn.classList.toggle('is-active', Number(toolData.viewerVote) === -1);
      }
    }

    function setWidgetBusy(widget, busy) {
      widget.dataset.busy = busy ? '1' : '0';
      widget.querySelectorAll('.vote-btn').forEach((btn) => {
        btn.disabled = busy;
      });
    }

    function applySortMode(grid, mode) {
      const cards = [...grid.querySelectorAll('.skill-card[data-tool-id]')];
      cards.sort((a, b) => {
        if (mode === 'community') {
          const scoreDiff = Number(b.dataset.rankScore || 0) - Number(a.dataset.rankScore || 0);
          if (scoreDiff !== 0) return scoreDiff;
        }
        return Number(a.dataset.originalIndex || 0) - Number(b.dataset.originalIndex || 0);
      });
      cards.forEach((card) => grid.appendChild(card));
    }

    function bindSortToggle(toolbar, grid) {
      const buttons = toolbar.querySelectorAll('.sort-toggle-btn');
      const status = toolbar.querySelector('.sort-status');
      buttons.forEach((btn) => {
        btn.addEventListener('click', () => {
          const mode = btn.dataset.sortMode;
          buttons.forEach((b) => b.classList.toggle('is-active', b === btn));
          applySortMode(grid, mode);
          status.textContent = mode === 'community' ? 'Community ranking active' : 'Original order active';
        });
      });
    }

    async function fetchScores(categoryId, toolIds) {
      const params = new URLSearchParams({
        categoryId,
        toolIds: toolIds.join(',')
      });
      const response = await fetch('/api/v1/scores?' + params.toString(), {
        method: 'GET',
        credentials: 'same-origin'
      });
      if (!response.ok) {
        throw new Error('Unable to fetch vote scores');
      }
      return response.json();
    }

    async function submitVote(widget, voteValue) {
      const categoryId = widget.dataset.categoryId;
      const toolId = widget.dataset.toolId;
      setWidgetBusy(widget, true);
      try {
        const response = await fetch('/api/v1/vote', {
          method: 'POST',
          credentials: 'same-origin',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            categoryId,
            toolId,
            vote: voteValue
          })
        });
        const payload = await response.json().catch(() => ({}));
        if (!response.ok) {
          throw new Error(payload.error || 'Vote request failed');
        }
        if (payload.tool) {
          updateVoteWidget(widget, payload.tool);
          const card = widget.closest('.skill-card[data-tool-id]');
          if (card) {
            card.dataset.rankScore = String(payload.tool.rankScore ?? 0);
          }
        }
      } catch (error) {
        console.error(error);
      } finally {
        setWidgetBusy(widget, false);
      }
    }

    document.addEventListener('DOMContentLoaded', async () => {
      const widgets = [...document.querySelectorAll('.vote-widget[data-category-id][data-tool-id]')];
      if (widgets.length === 0) return;

      const grouped = new Map();
      widgets.forEach((widget) => {
        const key = widget.dataset.categoryId;
        if (!grouped.has(key)) grouped.set(key, new Map());
        grouped.get(key).set(widget.dataset.toolId, widget);
      });

      for (const [categoryId, widgetMap] of grouped.entries()) {
        const toolIds = [...widgetMap.keys()];
        try {
          const data = await fetchScores(categoryId, toolIds);
          const byTool = new Map((data.tools || []).map((tool) => [tool.toolId, tool]));
          for (const [toolId, widget] of widgetMap.entries()) {
            const toolData = byTool.get(toolId);
            if (toolData) {
              updateVoteWidget(widget, toolData);
              const card = widget.closest('.skill-card[data-tool-id]');
              if (card) {
                card.dataset.rankScore = String(toolData.rankScore ?? 0);
              }
            }
          }
        } catch (error) {
          console.error(error);
        }
      }

      widgets.forEach((widget) => {
        widget.querySelectorAll('.vote-btn').forEach((btn) => {
          btn.addEventListener('click', (event) => {
            event.preventDefault();
            event.stopPropagation();
            if (widget.dataset.busy === '1') return;
            const voteValue = Number(btn.dataset.vote);
            submitVote(widget, voteValue).then(() => {
              const grid = widget.closest('.skills-grid[data-category-id]');
              const toolbar = document.querySelector('.sort-toolbar[data-category-id="' + widget.dataset.categoryId + '"]');
              const communityBtn = toolbar ? toolbar.querySelector('.sort-toggle-btn[data-sort-mode="community"]') : null;
              if (grid && communityBtn && communityBtn.classList.contains('is-active')) {
                applySortMode(grid, 'community');
              }
            });
          });
        });
      });

      document.querySelectorAll('.skills-grid[data-category-id]').forEach((grid) => {
        const categoryId = grid.dataset.categoryId;
        const toolbar = document.querySelector('.sort-toolbar[data-category-id="' + categoryId + '"]');
        if (!toolbar) return;
        bindSortToggle(toolbar, grid);
        applySortMode(grid, 'community');
      });
    });
  </script>
</body>
</html>