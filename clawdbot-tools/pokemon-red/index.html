<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Play Pokemon Red autonomously via PyBoy emulator">
  <title>pokemon-red - OpenClaw Directory</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü¶û</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../style.css">
  <script>
    // Apply saved theme before page renders to prevent flash
    (function() {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      if (savedTheme === 'light') {
        document.documentElement.setAttribute('data-theme', 'light');
      }
    })();
  </script>
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <a href="../../index.html" class="logo">

        <span class="logo-text">OpenClaw Directory</span>
      </a>
      <nav class="header-links">
        <a href="../../start-here/index.html" class="header-link">Start Here</a>
        <a href="/security-auditor" class="header-link">Security Auditor</a>
        <a href="https://github.com/neonone123/moltdirectory/issues/new?template=add-skill.yml" class="header-link" target="_blank" rel="noopener">Add Skill</a>
        <button class="theme-toggle" aria-label="Toggle theme" onclick="toggleTheme()">
          <svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
        </button>
        <a href="https://www.reddit.com/r/OpenClawDirectory/" class="header-link" target="_blank" rel="noopener" aria-label="Community">
          <svg viewBox="0 0 16 16" fill="currentColor" width="28" height="28"><path d="M6.167 8a.83.83 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661m1.843 3.647c.315 0 1.403-.038 1.976-.611a.23.23 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83s.83-.381.83-.83a.831.831 0 0 0-1.66 0z"/><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.2.2 0 0 0-.153.028.2.2 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224q-.03.17-.029.353c0 1.795 2.091 3.256 4.669 3.256s4.668-1.451 4.668-3.256c0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165"/></svg>
        </a>
      </nav>
    </div>
  </header>
  
          <section class="skill-page-header">
            <div class="skill-page-header-inner">
              <a href="../index.html" class="back-link">‚Üê Back to Clawdbot Tools</a>
              <div class="skill-page-meta">
                <a href="../index.html" class="skill-page-category">Clawdbot Tools</a>
                <span class="skill-page-author">by @drbarq</span>
              </div>
              <h1 class="skill-page-title">pokemon-red</h1>
              <p class="skill-page-desc">Play Pokemon Red autonomously via PyBoy emulator</p>
            </div>
          </section>
          <div class="skill-page-body">
            <article class="skill-page-content">
              <div class="skill-source-wrapper">
                <div class="skill-source-header">
                  <div class="skill-source-title">Source Code</div>
                  <button class="copy-btn" onclick="copySkillContent(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                    Copy
                  </button>
                </div>
                <div class="markdown-content">
                  <h1>Pokemon Red ‚Äî You Are the Trainer</h1>
<p>You play Pokemon Red directly. No middleman script. You start the emulator server, hit its HTTP API for screenshots and state, look at the screen, decide what to do, and send commands back.</p>
<h2>Setup (first time)</h2>
<p>Clone the repo and install dependencies:</p>
<pre><code class="language-bash">git clone https://github.com/drbarq/Pokemon-OpenClaw.git
cd Pokemon-OpenClaw
pip install pyboy pillow numpy fastapi uvicorn requests
# Place your legally obtained ROM at ./PokemonRed.gb
</code></pre>
<p>Set <code>POKEMON_DIR</code> to wherever you cloned the repo (default: <code>~/Code/pokemon-openclaw</code>).</p>
<h2>Start a Session</h2>
<pre><code class="language-bash"># Start emulator server (background process)
cd $POKEMON_DIR &amp;&amp; python scripts/emulator_server.py --save ready --port 3456
</code></pre>
<h2>Turn Loop</h2>
<p>Every turn, do these in order:</p>
<h3>1. Get state + screenshot</h3>
<pre><code class="language-bash">curl -s http://localhost:3456/api/state
curl -s http://localhost:3456/api/screenshot -o /tmp/pokemon_current.png
</code></pre>
<p>Then use the <code>image</code> tool to look at the screenshot. <strong>Always look before acting.</strong></p>
<h3>2. Decide: Navigate or Manual?</h3>
<p><strong>Use navigate for travel</strong> ‚Äî it BLOCKS until you arrive, hit a battle, or get stuck:</p>
<pre><code class="language-bash">curl -s -X POST http://localhost:3456/api/navigate \
  -H &#39;Content-Type: application/json&#39; \
  -d &#39;{&quot;destination&quot;: &quot;Viridian City&quot;}&#39;
</code></pre>
<p>Navigate returns one of:</p>
<ul>
<li><code>&quot;status&quot;: &quot;arrived&quot;</code> ‚Äî you&#39;re there! Continue quest.</li>
<li><code>&quot;status&quot;: &quot;battle&quot;</code> ‚Äî wild encounter interrupted. Fight it, then navigate again.</li>
<li><code>&quot;status&quot;: &quot;stuck&quot;</code> ‚Äî couldn&#39;t reach destination. Try manual buttons or different route.</li>
<li><code>&quot;status&quot;: &quot;error&quot;</code> ‚Äî unknown destination or no path. Check destinations list.</li>
</ul>
<p>The response always includes full game state, so you know exactly where you are.</p>
<p><strong>Important:</strong> Navigate blocks ‚Äî set a long timeout (60-120s) on the curl call.</p>
<p>Check available destinations first:</p>
<pre><code class="language-bash">curl -s http://localhost:3456/api/destinations
</code></pre>
<p>Check which maps have pathfinding data:</p>
<pre><code class="language-bash">curl -s http://localhost:3456/api/maps
</code></pre>
<p><strong>Fall back to manual buttons only when:</strong></p>
<ul>
<li>Navigate returns &quot;stuck&quot; or &quot;error&quot;</li>
<li>You&#39;re inside a building doing specific interactions</li>
<li>You&#39;re in dialogue or a menu</li>
</ul>
<h3>3. Manual controls (when needed)</h3>
<pre><code class="language-bash"># Move / interact
curl -s -X POST http://localhost:3456/api/press \
  -H &#39;Content-Type: application/json&#39; \
  -d &#39;{&quot;buttons&quot;: [&quot;up&quot;,&quot;up&quot;,&quot;a&quot;], &quot;reasoning&quot;: &quot;Walking to door&quot;}&#39;
</code></pre>
<p>Valid buttons: <code>up</code>, <code>down</code>, <code>left</code>, <code>right</code>, <code>a</code>, <code>b</code>, <code>start</code>, <code>select</code>. Send 1-5 per turn.</p>
<h3>4. Battle (when in_battle is true in state)</h3>
<ul>
<li><strong>Fight:</strong> Press <code>a</code> to open fight menu, <code>a</code> again for FIGHT, navigate to move, <code>a</code> to confirm, then mash <code>a</code> through animations</li>
<li><strong>Run:</strong> Press <code>a</code>, then <code>down</code>, <code>right</code>, <code>a</code> to select RUN, mash <code>a</code> through text</li>
<li>Check state after ‚Äî if still <code>in_battle</code>, go again</li>
</ul>
<h3>5. Quest tracking</h3>
<pre><code class="language-bash">curl -s http://localhost:3456/api/quest                    # Current objective
curl -s -X POST http://localhost:3456/api/quest/complete \
  -H &#39;Content-Type: application/json&#39; \
  -d &#39;{&quot;lesson&quot;: &quot;Door is at x=12&quot;}&#39;                      # Advance step + save lesson
</code></pre>
<h3>6. Save frequently</h3>
<pre><code class="language-bash">curl -s -X POST http://localhost:3456/api/command \
  -H &#39;Content-Type: application/json&#39; \
  -d &#39;{&quot;command&quot;: &quot;save&quot;, &quot;name&quot;: &quot;checkpoint_viridian&quot;}&#39;
</code></pre>
<h2>Key Endpoints</h2>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
</tr>
</thead>
<tbody><tr>
<td><code>/api/state</code></td>
<td>GET</td>
<td>Game state from RAM (position, party, badges, battle)</td>
</tr>
<tr>
<td><code>/api/screenshot</code></td>
<td>GET</td>
<td>PNG screenshot of game screen</td>
</tr>
<tr>
<td><code>/api/navigate</code></td>
<td>POST</td>
<td>Pathfind to named destination</td>
</tr>
<tr>
<td><code>/api/destinations</code></td>
<td>GET</td>
<td>List all navigation destinations</td>
</tr>
<tr>
<td><code>/api/maps</code></td>
<td>GET</td>
<td>Which maps have pathfinding data</td>
</tr>
<tr>
<td><code>/api/press</code></td>
<td>POST</td>
<td>Send button presses</td>
</tr>
<tr>
<td><code>/api/quest</code></td>
<td>GET</td>
<td>Current quest and step</td>
</tr>
<tr>
<td><code>/api/quest/complete</code></td>
<td>POST</td>
<td>Mark step done, optionally save a lesson</td>
</tr>
<tr>
<td><code>/api/knowledge</code></td>
<td>GET</td>
<td>All lessons learned</td>
</tr>
<tr>
<td><code>/api/knowledge/lesson</code></td>
<td>POST</td>
<td>Add a new lesson</td>
</tr>
<tr>
<td><code>/api/command</code></td>
<td>POST</td>
<td>Save/load/speed commands</td>
</tr>
</tbody></table>
<h2>Strategy Priority</h2>
<ol>
<li><strong>Navigate first.</strong> For any travel, use <code>/api/navigate</code>. It blocks until arrival or battle ‚Äî no polling needed.</li>
<li><strong>Handle battles immediately.</strong> If navigate returns <code>&quot;status&quot;: &quot;battle&quot;</code>, fight (mash A), then navigate again to the same destination.</li>
<li><strong>Check quest.</strong> Always know your current objective. Don&#39;t wander.</li>
<li><strong>HP management.</strong> Below 30% ‚Üí consider healing. Below 15% ‚Üí definitely heal. Navigate to nearest pokecenter.</li>
<li><strong>Ignore text_active.</strong> The text detection flag is broken (always true). Don&#39;t spam B to dismiss phantom text.</li>
<li><strong>Save often.</strong> Every 10 turns or after any milestone.</li>
</ol>
<h2>Session Pattern</h2>
<p>A sub-agent session should:</p>
<ol>
<li>Start emulator server (if not already running)</li>
<li>Check quest status and destinations</li>
<li>Play 20-50 turns (navigate + manual as needed)</li>
<li>Save state before exiting</li>
<li>Report progress (location, level, quest step, any highlights)</li>
</ol>
<p>Keep notes in <code>/tmp/pokemon_notepad.txt</code> for continuity within a session.</p>
<h2>For Full Game Strategy</h2>
<p>See <code>references/game_instructions.md</code> for Pokemon Red basics: movement, buildings, doors, battles, type matchups, healing, and the quest system.</p>

                </div>
              </div>
            </article>
            <aside class="skill-page-sidebar">
              <div class="sidebar-card">
                <div class="sidebar-title">Actions</div>
                <a href="https://github.com/openclaw/skills/tree/main/skills/drbarq/pokemon-red/SKILL.md" target="_blank" rel="noopener" class="sidebar-btn sidebar-btn-primary">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
                  View on GitHub
                </a>
                <a href="https://clawdhub.com/drbarq/pokemon-red" target="_blank" rel="noopener" class="sidebar-btn sidebar-btn-clawdhub">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/><line x1="2" y1="12" x2="22" y2="12"/></svg>
                  View on ClawdHub
                </a>
                <a href="https://raw.githubusercontent.com/openclaw/skills/main/skills/drbarq/pokemon-red/SKILL.md" download="SKILL.md" class="sidebar-btn sidebar-btn-secondary">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                  Download SKILL.md
                </a>
                <button onclick="sendToSecurityAuditor()" class="sidebar-btn sidebar-btn-security">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                  Security Check
                </button>
              </div>
              <div class="sidebar-card">
                <div class="sidebar-title">Details</div>
                <div class="sidebar-info">
                  <div class="sidebar-info-item">
                    <span class="sidebar-info-label">Author</span>
                    <span class="sidebar-info-value">@drbarq</span>
                  </div>
                  <div class="sidebar-info-item">
                    <span class="sidebar-info-label">Category</span>
                    <span class="sidebar-info-value">Clawdbot Tools</span>
                  </div>
                </div>
              </div>
            </aside>
          </div>
        
  <footer class="footer">
    <div class="footer-inner">
      <p class="footer-text" style="margin-bottom: 8px;"><a href="https://github.com/neonone123/moltdirectory" target="_blank" rel="noopener" style="color: var(--accent); text-decoration: none;">View on GitHub</a></p>
      <p class="footer-text" style="opacity: 0.6; font-size: 13px;">OpenClawDirectory.com is a community-run project and is not affiliated with the official OpenClaw team or Peter Steinberger. We are just fans of the lobster.</p>
    </div>
  </footer>
  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      if (newTheme === 'light') {
        html.setAttribute('data-theme', 'light');
      } else {
        html.removeAttribute('data-theme');
      }
      localStorage.setItem('theme', newTheme);
    }
    
    function copySkillContent(btn) {
      const wrapper = btn.closest('.skill-source-wrapper');
      const content = wrapper.querySelector('.markdown-content');
      if (content) {
        const text = content.innerText || content.textContent;
        navigator.clipboard.writeText(text).then(() => {
          btn.classList.add('copied');
          btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg> Copied!';
          setTimeout(() => {
            btn.classList.remove('copied');
            btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy';
          }, 2000);
        });
      }
    }

    async function sendToSecurityAuditor() {
      try {
        const contentElement = document.querySelector('.markdown-content');
        if (!contentElement) throw new Error('Could not find markdown content');
        const skillContent = contentElement.innerText || contentElement.textContent;
        localStorage.setItem('skillAuditContent', skillContent);
        window.open('/security-auditor', '_blank'); 
      } catch (error) {
        alert('Error: ' + error.message);
      }
    }
  </script>
</body>
</html>